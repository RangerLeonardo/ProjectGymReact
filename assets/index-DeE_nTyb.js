(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var kh={exports:{}},aa={},Nh={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em;function V0(){if(Em)return Ae;Em=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),T=Symbol.iterator;function I(M){return M===null||typeof M!="object"?null:(M=T&&M[T]||M["@@iterator"],typeof M=="function"?M:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,q={};function z(M,G,de){this.props=M,this.context=G,this.refs=q,this.updater=de||V}z.prototype.isReactComponent={},z.prototype.setState=function(M,G){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,G,"setState")},z.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Q(){}Q.prototype=z.prototype;function J(M,G,de){this.props=M,this.context=G,this.refs=q,this.updater=de||V}var re=J.prototype=new Q;re.constructor=J,O(re,z.prototype),re.isPureReactComponent=!0;var fe=Array.isArray,Ce=Object.prototype.hasOwnProperty,Te={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function S(M,G,de){var Ie,Se={},ke=null,Oe=null;if(G!=null)for(Ie in G.ref!==void 0&&(Oe=G.ref),G.key!==void 0&&(ke=""+G.key),G)Ce.call(G,Ie)&&!N.hasOwnProperty(Ie)&&(Se[Ie]=G[Ie]);var Fe=arguments.length-2;if(Fe===1)Se.children=de;else if(1<Fe){for(var Be=Array(Fe),gt=0;gt<Fe;gt++)Be[gt]=arguments[gt+2];Se.children=Be}if(M&&M.defaultProps)for(Ie in Fe=M.defaultProps,Fe)Se[Ie]===void 0&&(Se[Ie]=Fe[Ie]);return{$$typeof:r,type:M,key:ke,ref:Oe,props:Se,_owner:Te.current}}function R(M,G){return{$$typeof:r,type:M.type,key:G,ref:M.ref,props:M.props,_owner:M._owner}}function k(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function L(M){var G={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(de){return G[de]})}var F=/\/+/g;function P(M,G){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):G.toString(36)}function tt(M,G,de,Ie,Se){var ke=typeof M;(ke==="undefined"||ke==="boolean")&&(M=null);var Oe=!1;if(M===null)Oe=!0;else switch(ke){case"string":case"number":Oe=!0;break;case"object":switch(M.$$typeof){case r:case e:Oe=!0}}if(Oe)return Oe=M,Se=Se(Oe),M=Ie===""?"."+P(Oe,0):Ie,fe(Se)?(de="",M!=null&&(de=M.replace(F,"$&/")+"/"),tt(Se,G,de,"",function(gt){return gt})):Se!=null&&(k(Se)&&(Se=R(Se,de+(!Se.key||Oe&&Oe.key===Se.key?"":(""+Se.key).replace(F,"$&/")+"/")+M)),G.push(Se)),1;if(Oe=0,Ie=Ie===""?".":Ie+":",fe(M))for(var Fe=0;Fe<M.length;Fe++){ke=M[Fe];var Be=Ie+P(ke,Fe);Oe+=tt(ke,G,de,Be,Se)}else if(Be=I(M),typeof Be=="function")for(M=Be.call(M),Fe=0;!(ke=M.next()).done;)ke=ke.value,Be=Ie+P(ke,Fe++),Oe+=tt(ke,G,de,Be,Se);else if(ke==="object")throw G=String(M),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Oe}function xt(M,G,de){if(M==null)return M;var Ie=[],Se=0;return tt(M,Ie,"","",function(ke){return G.call(de,ke,Se++)}),Ie}function kt(M){if(M._status===-1){var G=M._result;G=G(),G.then(function(de){(M._status===0||M._status===-1)&&(M._status=1,M._result=de)},function(de){(M._status===0||M._status===-1)&&(M._status=2,M._result=de)}),M._status===-1&&(M._status=0,M._result=G)}if(M._status===1)return M._result.default;throw M._result}var Ue={current:null},ne={transition:null},me={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:ne,ReactCurrentOwner:Te};function se(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:xt,forEach:function(M,G,de){xt(M,function(){G.apply(this,arguments)},de)},count:function(M){var G=0;return xt(M,function(){G++}),G},toArray:function(M){return xt(M,function(G){return G})||[]},only:function(M){if(!k(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ae.Component=z,Ae.Fragment=t,Ae.Profiler=o,Ae.PureComponent=J,Ae.StrictMode=s,Ae.Suspense=g,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Ae.act=se,Ae.cloneElement=function(M,G,de){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Ie=O({},M.props),Se=M.key,ke=M.ref,Oe=M._owner;if(G!=null){if(G.ref!==void 0&&(ke=G.ref,Oe=Te.current),G.key!==void 0&&(Se=""+G.key),M.type&&M.type.defaultProps)var Fe=M.type.defaultProps;for(Be in G)Ce.call(G,Be)&&!N.hasOwnProperty(Be)&&(Ie[Be]=G[Be]===void 0&&Fe!==void 0?Fe[Be]:G[Be])}var Be=arguments.length-2;if(Be===1)Ie.children=de;else if(1<Be){Fe=Array(Be);for(var gt=0;gt<Be;gt++)Fe[gt]=arguments[gt+2];Ie.children=Fe}return{$$typeof:r,type:M.type,key:Se,ref:ke,props:Ie,_owner:Oe}},Ae.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:u,_context:M},M.Consumer=M},Ae.createElement=S,Ae.createFactory=function(M){var G=S.bind(null,M);return G.type=M,G},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(M){return{$$typeof:f,render:M}},Ae.isValidElement=k,Ae.lazy=function(M){return{$$typeof:w,_payload:{_status:-1,_result:M},_init:kt}},Ae.memo=function(M,G){return{$$typeof:y,type:M,compare:G===void 0?null:G}},Ae.startTransition=function(M){var G=ne.transition;ne.transition={};try{M()}finally{ne.transition=G}},Ae.unstable_act=se,Ae.useCallback=function(M,G){return Ue.current.useCallback(M,G)},Ae.useContext=function(M){return Ue.current.useContext(M)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(M){return Ue.current.useDeferredValue(M)},Ae.useEffect=function(M,G){return Ue.current.useEffect(M,G)},Ae.useId=function(){return Ue.current.useId()},Ae.useImperativeHandle=function(M,G,de){return Ue.current.useImperativeHandle(M,G,de)},Ae.useInsertionEffect=function(M,G){return Ue.current.useInsertionEffect(M,G)},Ae.useLayoutEffect=function(M,G){return Ue.current.useLayoutEffect(M,G)},Ae.useMemo=function(M,G){return Ue.current.useMemo(M,G)},Ae.useReducer=function(M,G,de){return Ue.current.useReducer(M,G,de)},Ae.useRef=function(M){return Ue.current.useRef(M)},Ae.useState=function(M){return Ue.current.useState(M)},Ae.useSyncExternalStore=function(M,G,de){return Ue.current.useSyncExternalStore(M,G,de)},Ae.useTransition=function(){return Ue.current.useTransition()},Ae.version="18.3.1",Ae}var Tm;function wd(){return Tm||(Tm=1,Nh.exports=V0()),Nh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im;function L0(){if(Im)return aa;Im=1;var r=wd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(f,g,y){var w,T={},I=null,V=null;y!==void 0&&(I=""+y),g.key!==void 0&&(I=""+g.key),g.ref!==void 0&&(V=g.ref);for(w in g)s.call(g,w)&&!u.hasOwnProperty(w)&&(T[w]=g[w]);if(f&&f.defaultProps)for(w in g=f.defaultProps,g)T[w]===void 0&&(T[w]=g[w]);return{$$typeof:e,type:f,key:I,ref:V,props:T,_owner:o.current}}return aa.Fragment=t,aa.jsx=h,aa.jsxs=h,aa}var Sm;function M0(){return Sm||(Sm=1,kh.exports=L0()),kh.exports}var C=M0(),H=wd(),tu={},Dh={exports:{}},Qt={},Vh={exports:{}},Lh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am;function O0(){return Am||(Am=1,function(r){function e(ne,me){var se=ne.length;ne.push(me);e:for(;0<se;){var M=se-1>>>1,G=ne[M];if(0<o(G,me))ne[M]=me,ne[se]=G,se=M;else break e}}function t(ne){return ne.length===0?null:ne[0]}function s(ne){if(ne.length===0)return null;var me=ne[0],se=ne.pop();if(se!==me){ne[0]=se;e:for(var M=0,G=ne.length,de=G>>>1;M<de;){var Ie=2*(M+1)-1,Se=ne[Ie],ke=Ie+1,Oe=ne[ke];if(0>o(Se,se))ke<G&&0>o(Oe,Se)?(ne[M]=Oe,ne[ke]=se,M=ke):(ne[M]=Se,ne[Ie]=se,M=Ie);else if(ke<G&&0>o(Oe,se))ne[M]=Oe,ne[ke]=se,M=ke;else break e}}return me}function o(ne,me){var se=ne.sortIndex-me.sortIndex;return se!==0?se:ne.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,f=h.now();r.unstable_now=function(){return h.now()-f}}var g=[],y=[],w=1,T=null,I=3,V=!1,O=!1,q=!1,z=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function re(ne){for(var me=t(y);me!==null;){if(me.callback===null)s(y);else if(me.startTime<=ne)s(y),me.sortIndex=me.expirationTime,e(g,me);else break;me=t(y)}}function fe(ne){if(q=!1,re(ne),!O)if(t(g)!==null)O=!0,kt(Ce);else{var me=t(y);me!==null&&Ue(fe,me.startTime-ne)}}function Ce(ne,me){O=!1,q&&(q=!1,Q(S),S=-1),V=!0;var se=I;try{for(re(me),T=t(g);T!==null&&(!(T.expirationTime>me)||ne&&!L());){var M=T.callback;if(typeof M=="function"){T.callback=null,I=T.priorityLevel;var G=M(T.expirationTime<=me);me=r.unstable_now(),typeof G=="function"?T.callback=G:T===t(g)&&s(g),re(me)}else s(g);T=t(g)}if(T!==null)var de=!0;else{var Ie=t(y);Ie!==null&&Ue(fe,Ie.startTime-me),de=!1}return de}finally{T=null,I=se,V=!1}}var Te=!1,N=null,S=-1,R=5,k=-1;function L(){return!(r.unstable_now()-k<R)}function F(){if(N!==null){var ne=r.unstable_now();k=ne;var me=!0;try{me=N(!0,ne)}finally{me?P():(Te=!1,N=null)}}else Te=!1}var P;if(typeof J=="function")P=function(){J(F)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,xt=tt.port2;tt.port1.onmessage=F,P=function(){xt.postMessage(null)}}else P=function(){z(F,0)};function kt(ne){N=ne,Te||(Te=!0,P())}function Ue(ne,me){S=z(function(){ne(r.unstable_now())},me)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ne){ne.callback=null},r.unstable_continueExecution=function(){O||V||(O=!0,kt(Ce))},r.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ne?Math.floor(1e3/ne):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_getFirstCallbackNode=function(){return t(g)},r.unstable_next=function(ne){switch(I){case 1:case 2:case 3:var me=3;break;default:me=I}var se=I;I=me;try{return ne()}finally{I=se}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ne,me){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var se=I;I=ne;try{return me()}finally{I=se}},r.unstable_scheduleCallback=function(ne,me,se){var M=r.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?M+se:M):se=M,ne){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=se+G,ne={id:w++,callback:me,priorityLevel:ne,startTime:se,expirationTime:G,sortIndex:-1},se>M?(ne.sortIndex=se,e(y,ne),t(g)===null&&ne===t(y)&&(q?(Q(S),S=-1):q=!0,Ue(fe,se-M))):(ne.sortIndex=G,e(g,ne),O||V||(O=!0,kt(Ce))),ne},r.unstable_shouldYield=L,r.unstable_wrapCallback=function(ne){var me=I;return function(){var se=I;I=me;try{return ne.apply(this,arguments)}finally{I=se}}}}(Lh)),Lh}var Cm;function F0(){return Cm||(Cm=1,Vh.exports=O0()),Vh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function j0(){if(Rm)return Qt;Rm=1;var r=wd(),e=F0();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function u(n,i){h(n,i),h(n+"Capture",i)}function h(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},T={};function I(n){return g.call(T,n)?!0:g.call(w,n)?!1:y.test(n)?T[n]=!0:(w[n]=!0,!1)}function V(n,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function O(n,i,a,c){if(i===null||typeof i>"u"||V(n,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function q(n,i,a,c,d,m,_){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=i,this.sanitizeURL=m,this.removeEmptyString=_}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){z[n]=new q(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];z[i]=new q(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){z[n]=new q(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){z[n]=new q(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){z[n]=new q(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){z[n]=new q(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){z[n]=new q(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){z[n]=new q(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){z[n]=new q(n,5,!1,n.toLowerCase(),null,!1,!1)});var Q=/[\-:]([a-z])/g;function J(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(Q,J);z[i]=new q(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(Q,J);z[i]=new q(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(Q,J);z[i]=new q(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){z[n]=new q(n,1,!1,n.toLowerCase(),null,!1,!1)}),z.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){z[n]=new q(n,1,!1,n.toLowerCase(),null,!0,!0)});function re(n,i,a,c){var d=z.hasOwnProperty(i)?z[i]:null;(d!==null?d.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(O(i,a,d,c)&&(a=null),c||d===null?I(i)&&(a===null?n.removeAttribute(i):n.setAttribute(i,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(i=d.attributeName,c=d.attributeNamespace,a===null?n.removeAttribute(i):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?n.setAttributeNS(c,i,a):n.setAttribute(i,a))))}var fe=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ce=Symbol.for("react.element"),Te=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),L=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),xt=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),Ue=Symbol.for("react.offscreen"),ne=Symbol.iterator;function me(n){return n===null||typeof n!="object"?null:(n=ne&&n[ne]||n["@@iterator"],typeof n=="function"?n:null)}var se=Object.assign,M;function G(n){if(M===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);M=i&&i[1]||""}return`
`+M+n}var de=!1;function Ie(n,i){if(!n||de)return"";de=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(B){var c=B}Reflect.construct(n,[],i)}else{try{i.call()}catch(B){c=B}n.call(i.prototype)}else{try{throw Error()}catch(B){c=B}n()}}catch(B){if(B&&c&&typeof B.stack=="string"){for(var d=B.stack.split(`
`),m=c.stack.split(`
`),_=d.length-1,A=m.length-1;1<=_&&0<=A&&d[_]!==m[A];)A--;for(;1<=_&&0<=A;_--,A--)if(d[_]!==m[A]){if(_!==1||A!==1)do if(_--,A--,0>A||d[_]!==m[A]){var x=`
`+d[_].replace(" at new "," at ");return n.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",n.displayName)),x}while(1<=_&&0<=A);break}}}finally{de=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?G(n):""}function Se(n){switch(n.tag){case 5:return G(n.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return n=Ie(n.type,!1),n;case 11:return n=Ie(n.type.render,!1),n;case 1:return n=Ie(n.type,!0),n;default:return""}}function ke(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case Te:return"Portal";case R:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case tt:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case L:return(n.displayName||"Context")+".Consumer";case k:return(n._context.displayName||"Context")+".Provider";case F:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case xt:return i=n.displayName||null,i!==null?i:ke(n.type)||"Memo";case kt:i=n._payload,n=n._init;try{return ke(n(i))}catch{}}return null}function Oe(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(i);case 8:return i===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Fe(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Be(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function gt(n){var i=Be(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return d.call(this)},set:function(_){c=""+_,m.call(this,_)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function rr(n){n._valueTracker||(n._valueTracker=gt(n))}function es(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return n&&(c=Be(n)?n.checked?"true":"false":n.value),n=c,n!==a?(i.setValue(n),!0):!1}function xr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function gi(n,i){var a=i.checked;return se({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function ts(n,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=Fe(i.value!=null?i.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function fo(n,i){i=i.checked,i!=null&&re(n,"checked",i,!1)}function po(n,i){fo(n,i);var a=Fe(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?ns(n,i.type,a):i.hasOwnProperty("defaultValue")&&ns(n,i.type,Fe(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function Ua(n,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,a||i===n.value||(n.value=i),n.defaultValue=i}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function ns(n,i,a){(i!=="number"||xr(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var ir=Array.isArray;function sr(n,i,a,c){if(n=n.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=i.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Fe(a),i=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}i!==null||n[d].disabled||(i=n[d])}i!==null&&(i.selected=!0)}}function mo(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function rs(n,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(ir(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}n._wrapperState={initialValue:Fe(a)}}function is(n,i){var a=Fe(i.value),c=Fe(i.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),i.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function go(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function ut(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ct(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?ut(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var or,yo=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,d){MSApp.execUnsafeLocalFunction(function(){return n(i,a,c,d)})}:n}(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(or=or||document.createElement("div"),or.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=or.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function kr(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var yi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vi=["Webkit","ms","Moz","O"];Object.keys(yi).forEach(function(n){vi.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),yi[i]=yi[n]})});function vo(n,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||yi.hasOwnProperty(n)&&yi[n]?(""+i).trim():i+"px"}function _o(n,i){n=n.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=vo(a,i[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,d):n[a]=d}}var wo=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Eo(n,i){if(i){if(wo[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function To(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _i=null;function ss(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var os=null,hn=null,bn=null;function as(n){if(n=Wo(n)){if(typeof os!="function")throw Error(t(280));var i=n.stateNode;i&&(i=gl(i),os(n.stateNode,n.type,i))}}function Un(n){hn?bn?bn.push(n):bn=[n]:hn=n}function Io(){if(hn){var n=hn,i=bn;if(bn=hn=null,as(n),i)for(n=0;n<i.length;n++)as(i[n])}}function wi(n,i){return n(i)}function So(){}var ar=!1;function Ao(n,i,a){if(ar)return n(i,a);ar=!0;try{return wi(n,i,a)}finally{ar=!1,(hn!==null||bn!==null)&&(So(),Io())}}function nt(n,i){var a=n.stateNode;if(a===null)return null;var c=gl(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var ls=!1;if(f)try{var Tn={};Object.defineProperty(Tn,"passive",{get:function(){ls=!0}}),window.addEventListener("test",Tn,Tn),window.removeEventListener("test",Tn,Tn)}catch{ls=!1}function Ei(n,i,a,c,d,m,_,A,x){var B=Array.prototype.slice.call(arguments,3);try{i.apply(a,B)}catch(X){this.onError(X)}}var Ti=!1,us=null,In=!1,Co=null,ic={onError:function(n){Ti=!0,us=n}};function cs(n,i,a,c,d,m,_,A,x){Ti=!1,us=null,Ei.apply(ic,arguments)}function za(n,i,a,c,d,m,_,A,x){if(cs.apply(this,arguments),Ti){if(Ti){var B=us;Ti=!1,us=null}else throw Error(t(198));In||(In=!0,Co=B)}}function Sn(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,i.flags&4098&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function Ii(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function An(n){if(Sn(n)!==n)throw Error(t(188))}function Ba(n){var i=n.alternate;if(!i){if(i=Sn(n),i===null)throw Error(t(188));return i!==n?null:n}for(var a=n,c=i;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return An(d),n;if(m===c)return An(d),i;m=m.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=m;else{for(var _=!1,A=d.child;A;){if(A===a){_=!0,a=d,c=m;break}if(A===c){_=!0,c=d,a=m;break}A=A.sibling}if(!_){for(A=m.child;A;){if(A===a){_=!0,a=m,c=d;break}if(A===c){_=!0,c=m,a=d;break}A=A.sibling}if(!_)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:i}function Ro(n){return n=Ba(n),n!==null?hs(n):null}function hs(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=hs(n);if(i!==null)return i;n=n.sibling}return null}var ds=e.unstable_scheduleCallback,Po=e.unstable_cancelCallback,$a=e.unstable_shouldYield,sc=e.unstable_requestPaint,$e=e.unstable_now,qa=e.unstable_getCurrentPriorityLevel,Si=e.unstable_ImmediatePriority,Nr=e.unstable_UserBlockingPriority,dn=e.unstable_NormalPriority,xo=e.unstable_LowPriority,Ha=e.unstable_IdlePriority,Ai=null,en=null;function Wa(n){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Ai,n,void 0,(n.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:Ga,ko=Math.log,Ka=Math.LN2;function Ga(n){return n>>>=0,n===0?32:31-(ko(n)/Ka|0)|0}var fs=64,ps=4194304;function Dr(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ci(n,i){var a=n.pendingLanes;if(a===0)return 0;var c=0,d=n.suspendedLanes,m=n.pingedLanes,_=a&268435455;if(_!==0){var A=_&~d;A!==0?c=Dr(A):(m&=_,m!==0&&(c=Dr(m)))}else _=a&~d,_!==0?c=Dr(_):m!==0&&(c=Dr(m));if(c===0)return 0;if(i!==0&&i!==c&&!(i&d)&&(d=c&-c,m=i&-i,d>=m||d===16&&(m&4194240)!==0))return i;if(c&4&&(c|=a&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)a=31-jt(i),d=1<<a,c|=n[a],i&=~d;return c}function oc(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lr(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,m=n.pendingLanes;0<m;){var _=31-jt(m),A=1<<_,x=d[_];x===-1?(!(A&a)||A&c)&&(d[_]=oc(A,i)):x<=i&&(n.expiredLanes|=A),m&=~A}}function tn(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Ri(){var n=fs;return fs<<=1,!(fs&4194240)&&(fs=64),n}function Vr(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Lr(n,i,a){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-jt(i),n[i]=a}function ze(n,i){var a=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-jt(a),m=1<<d;i[d]=0,c[d]=-1,n[d]=-1,a&=~m}}function Mr(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-jt(a),d=1<<c;d&i|n[c]&i&&(n[c]|=i),a&=~d}}var Pe=0;function Or(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Qa,ms,Ya,Xa,Ja,No=!1,zn=[],Tt=null,Cn=null,Rn=null,Fr=new Map,fn=new Map,Bn=[],ac="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Za(n,i){switch(n){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Cn=null;break;case"mouseover":case"mouseout":Rn=null;break;case"pointerover":case"pointerout":Fr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":fn.delete(i.pointerId)}}function Bt(n,i,a,c,d,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[d]},i!==null&&(i=Wo(i),i!==null&&ms(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),n)}function lc(n,i,a,c,d){switch(i){case"focusin":return Tt=Bt(Tt,n,i,a,c,d),!0;case"dragenter":return Cn=Bt(Cn,n,i,a,c,d),!0;case"mouseover":return Rn=Bt(Rn,n,i,a,c,d),!0;case"pointerover":var m=d.pointerId;return Fr.set(m,Bt(Fr.get(m)||null,n,i,a,c,d)),!0;case"gotpointercapture":return m=d.pointerId,fn.set(m,Bt(fn.get(m)||null,n,i,a,c,d)),!0}return!1}function el(n){var i=Di(n.target);if(i!==null){var a=Sn(i);if(a!==null){if(i=a.tag,i===13){if(i=Ii(a),i!==null){n.blockedOn=i,Ja(n.priority,function(){Ya(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ur(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=gs(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);_i=c,a.target.dispatchEvent(c),_i=null}else return i=Wo(a),i!==null&&ms(i),n.blockedOn=a,!1;i.shift()}return!0}function Pi(n,i,a){ur(n)&&a.delete(i)}function tl(){No=!1,Tt!==null&&ur(Tt)&&(Tt=null),Cn!==null&&ur(Cn)&&(Cn=null),Rn!==null&&ur(Rn)&&(Rn=null),Fr.forEach(Pi),fn.forEach(Pi)}function Pn(n,i){n.blockedOn===i&&(n.blockedOn=null,No||(No=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,tl)))}function xn(n){function i(d){return Pn(d,n)}if(0<zn.length){Pn(zn[0],n);for(var a=1;a<zn.length;a++){var c=zn[a];c.blockedOn===n&&(c.blockedOn=null)}}for(Tt!==null&&Pn(Tt,n),Cn!==null&&Pn(Cn,n),Rn!==null&&Pn(Rn,n),Fr.forEach(i),fn.forEach(i),a=0;a<Bn.length;a++)c=Bn[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<Bn.length&&(a=Bn[0],a.blockedOn===null);)el(a),a.blockedOn===null&&Bn.shift()}var cr=fe.ReactCurrentBatchConfig,jr=!0;function Ge(n,i,a,c){var d=Pe,m=cr.transition;cr.transition=null;try{Pe=1,Do(n,i,a,c)}finally{Pe=d,cr.transition=m}}function uc(n,i,a,c){var d=Pe,m=cr.transition;cr.transition=null;try{Pe=4,Do(n,i,a,c)}finally{Pe=d,cr.transition=m}}function Do(n,i,a,c){if(jr){var d=gs(n,i,a,c);if(d===null)wc(n,i,c,xi,a),Za(n,c);else if(lc(d,n,i,a,c))c.stopPropagation();else if(Za(n,c),i&4&&-1<ac.indexOf(n)){for(;d!==null;){var m=Wo(d);if(m!==null&&Qa(m),m=gs(n,i,a,c),m===null&&wc(n,i,c,xi,a),m===d)break;d=m}d!==null&&c.stopPropagation()}else wc(n,i,c,null,a)}}var xi=null;function gs(n,i,a,c){if(xi=null,n=ss(c),n=Di(n),n!==null)if(i=Sn(n),i===null)n=null;else if(a=i.tag,a===13){if(n=Ii(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return xi=n,null}function Vo(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qa()){case Si:return 1;case Nr:return 4;case dn:case xo:return 16;case Ha:return 536870912;default:return 16}default:return 16}}var nn=null,ys=null,$t=null;function Lo(){if($t)return $t;var n,i=ys,a=i.length,c,d="value"in nn?nn.value:nn.textContent,m=d.length;for(n=0;n<a&&i[n]===d[n];n++);var _=a-n;for(c=1;c<=_&&i[a-c]===d[m-c];c++);return $t=d.slice(n,1<c?1-c:void 0)}function vs(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function $n(){return!0}function Mo(){return!1}function It(n){function i(a,c,d,m,_){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(a=n[A],this[A]=a?a(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?$n:Mo,this.isPropagationStopped=Mo,this}return se(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$n)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$n)},persist:function(){},isPersistent:$n}),i}var kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_s=It(kn),qn=se({},kn,{view:0,detail:0}),cc=It(qn),ws,hr,br,ki=se({},qn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hn,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==br&&(br&&n.type==="mousemove"?(ws=n.screenX-br.screenX,hr=n.screenY-br.screenY):hr=ws=0,br=n),ws)},movementY:function(n){return"movementY"in n?n.movementY:hr}}),Es=It(ki),Oo=se({},ki,{dataTransfer:0}),nl=It(Oo),Ts=se({},qn,{relatedTarget:0}),Is=It(Ts),rl=se({},kn,{animationName:0,elapsedTime:0,pseudoElement:0}),dr=It(rl),il=se({},kn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),sl=It(il),ol=se({},kn,{data:0}),Fo=It(ol),Ss={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},al={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ll(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=al[n])?!!i[n]:!1}function Hn(){return ll}var l=se({},qn,{key:function(n){if(n.key){var i=Ss[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=vs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?bt[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hn,charCode:function(n){return n.type==="keypress"?vs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?vs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),p=It(l),v=se({},ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=It(v),j=se({},qn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hn}),$=It(j),te=se({},kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),be=It(te),ht=se({},ki,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ne=It(ht),yt=[9,13,27,32],st=f&&"CompositionEvent"in window,pn=null;f&&"documentMode"in document&&(pn=document.documentMode);var rn=f&&"TextEvent"in window&&!pn,Ni=f&&(!st||pn&&8<pn&&11>=pn),As=" ",mf=!1;function gf(n,i){switch(n){case"keyup":return yt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Cs=!1;function N_(n,i){switch(n){case"compositionend":return yf(i);case"keypress":return i.which!==32?null:(mf=!0,As);case"textInput":return n=i.data,n===As&&mf?null:n;default:return null}}function D_(n,i){if(Cs)return n==="compositionend"||!st&&gf(n,i)?(n=Lo(),$t=ys=nn=null,Cs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ni&&i.locale!=="ko"?null:i.data;default:return null}}var V_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!V_[n.type]:i==="textarea"}function _f(n,i,a,c){Un(c),i=fl(i,"onChange"),0<i.length&&(a=new _s("onChange","change",null,a,c),n.push({event:a,listeners:i}))}var jo=null,bo=null;function L_(n){Ff(n,0)}function ul(n){var i=Ns(n);if(es(i))return n}function M_(n,i){if(n==="change")return i}var wf=!1;if(f){var hc;if(f){var dc="oninput"in document;if(!dc){var Ef=document.createElement("div");Ef.setAttribute("oninput","return;"),dc=typeof Ef.oninput=="function"}hc=dc}else hc=!1;wf=hc&&(!document.documentMode||9<document.documentMode)}function Tf(){jo&&(jo.detachEvent("onpropertychange",If),bo=jo=null)}function If(n){if(n.propertyName==="value"&&ul(bo)){var i=[];_f(i,bo,n,ss(n)),Ao(L_,i)}}function O_(n,i,a){n==="focusin"?(Tf(),jo=i,bo=a,jo.attachEvent("onpropertychange",If)):n==="focusout"&&Tf()}function F_(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ul(bo)}function j_(n,i){if(n==="click")return ul(i)}function b_(n,i){if(n==="input"||n==="change")return ul(i)}function U_(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Nn=typeof Object.is=="function"?Object.is:U_;function Uo(n,i){if(Nn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!g.call(i,d)||!Nn(n[d],i[d]))return!1}return!0}function Sf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Af(n,i){var a=Sf(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=i&&c>=i)return{node:a,offset:i-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Sf(a)}}function Cf(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Cf(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Rf(){for(var n=window,i=xr();i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=xr(n.document)}return i}function fc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function z_(n){var i=Rf(),a=n.focusedElem,c=n.selectionRange;if(i!==a&&a&&a.ownerDocument&&Cf(a.ownerDocument.documentElement,a)){if(c!==null&&fc(a)){if(i=c.start,n=c.end,n===void 0&&(n=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(n,a.value.length);else if(n=(i=a.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,m=Math.min(c.start,d);c=c.end===void 0?m:Math.min(c.end,d),!n.extend&&m>c&&(d=c,c=m,m=d),d=Af(a,m);var _=Af(a,c);d&&_&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==_.node||n.focusOffset!==_.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),n.removeAllRanges(),m>c?(n.addRange(i),n.extend(_.node,_.offset)):(i.setEnd(_.node,_.offset),n.addRange(i)))}}for(i=[],n=a;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)n=i[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var B_=f&&"documentMode"in document&&11>=document.documentMode,Rs=null,pc=null,zo=null,mc=!1;function Pf(n,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;mc||Rs==null||Rs!==xr(c)||(c=Rs,"selectionStart"in c&&fc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),zo&&Uo(zo,c)||(zo=c,c=fl(pc,"onSelect"),0<c.length&&(i=new _s("onSelect","select",null,i,a),n.push({event:i,listeners:c}),i.target=Rs)))}function cl(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Ps={animationend:cl("Animation","AnimationEnd"),animationiteration:cl("Animation","AnimationIteration"),animationstart:cl("Animation","AnimationStart"),transitionend:cl("Transition","TransitionEnd")},gc={},xf={};f&&(xf=document.createElement("div").style,"AnimationEvent"in window||(delete Ps.animationend.animation,delete Ps.animationiteration.animation,delete Ps.animationstart.animation),"TransitionEvent"in window||delete Ps.transitionend.transition);function hl(n){if(gc[n])return gc[n];if(!Ps[n])return n;var i=Ps[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in xf)return gc[n]=i[a];return n}var kf=hl("animationend"),Nf=hl("animationiteration"),Df=hl("animationstart"),Vf=hl("transitionend"),Lf=new Map,Mf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ur(n,i){Lf.set(n,i),u(i,[n])}for(var yc=0;yc<Mf.length;yc++){var vc=Mf[yc],$_=vc.toLowerCase(),q_=vc[0].toUpperCase()+vc.slice(1);Ur($_,"on"+q_)}Ur(kf,"onAnimationEnd"),Ur(Nf,"onAnimationIteration"),Ur(Df,"onAnimationStart"),Ur("dblclick","onDoubleClick"),Ur("focusin","onFocus"),Ur("focusout","onBlur"),Ur(Vf,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),H_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bo));function Of(n,i,a){var c=n.type||"unknown-event";n.currentTarget=a,za(c,i,void 0,n),n.currentTarget=null}function Ff(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var _=c.length-1;0<=_;_--){var A=c[_],x=A.instance,B=A.currentTarget;if(A=A.listener,x!==m&&d.isPropagationStopped())break e;Of(d,A,B),m=x}else for(_=0;_<c.length;_++){if(A=c[_],x=A.instance,B=A.currentTarget,A=A.listener,x!==m&&d.isPropagationStopped())break e;Of(d,A,B),m=x}}}if(In)throw n=Co,In=!1,Co=null,n}function He(n,i){var a=i[Cc];a===void 0&&(a=i[Cc]=new Set);var c=n+"__bubble";a.has(c)||(jf(i,n,2,!1),a.add(c))}function _c(n,i,a){var c=0;i&&(c|=4),jf(a,n,c,i)}var dl="_reactListening"+Math.random().toString(36).slice(2);function $o(n){if(!n[dl]){n[dl]=!0,s.forEach(function(a){a!=="selectionchange"&&(H_.has(a)||_c(a,!1,n),_c(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[dl]||(i[dl]=!0,_c("selectionchange",!1,i))}}function jf(n,i,a,c){switch(Vo(i)){case 1:var d=Ge;break;case 4:d=uc;break;default:d=Do}a=d.bind(null,i,a,n),d=void 0,!ls||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(i,a,{capture:!0,passive:d}):n.addEventListener(i,a,!0):d!==void 0?n.addEventListener(i,a,{passive:d}):n.addEventListener(i,a,!1)}function wc(n,i,a,c,d){var m=c;if(!(i&1)&&!(i&2)&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var A=c.stateNode.containerInfo;if(A===d||A.nodeType===8&&A.parentNode===d)break;if(_===4)for(_=c.return;_!==null;){var x=_.tag;if((x===3||x===4)&&(x=_.stateNode.containerInfo,x===d||x.nodeType===8&&x.parentNode===d))return;_=_.return}for(;A!==null;){if(_=Di(A),_===null)return;if(x=_.tag,x===5||x===6){c=m=_;continue e}A=A.parentNode}}c=c.return}Ao(function(){var B=m,X=ss(a),Z=[];e:{var Y=Lf.get(n);if(Y!==void 0){var ie=_s,ue=n;switch(n){case"keypress":if(vs(a)===0)break e;case"keydown":case"keyup":ie=p;break;case"focusin":ue="focus",ie=Is;break;case"focusout":ue="blur",ie=Is;break;case"beforeblur":case"afterblur":ie=Is;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Es;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=nl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=$;break;case kf:case Nf:case Df:ie=dr;break;case Vf:ie=be;break;case"scroll":ie=cc;break;case"wheel":ie=Ne;break;case"copy":case"cut":case"paste":ie=sl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=E}var ce=(i&4)!==0,rt=!ce&&n==="scroll",b=ce?Y!==null?Y+"Capture":null:Y;ce=[];for(var D=B,U;D!==null;){U=D;var ee=U.stateNode;if(U.tag===5&&ee!==null&&(U=ee,b!==null&&(ee=nt(D,b),ee!=null&&ce.push(qo(D,ee,U)))),rt)break;D=D.return}0<ce.length&&(Y=new ie(Y,ue,null,a,X),Z.push({event:Y,listeners:ce}))}}if(!(i&7)){e:{if(Y=n==="mouseover"||n==="pointerover",ie=n==="mouseout"||n==="pointerout",Y&&a!==_i&&(ue=a.relatedTarget||a.fromElement)&&(Di(ue)||ue[fr]))break e;if((ie||Y)&&(Y=X.window===X?X:(Y=X.ownerDocument)?Y.defaultView||Y.parentWindow:window,ie?(ue=a.relatedTarget||a.toElement,ie=B,ue=ue?Di(ue):null,ue!==null&&(rt=Sn(ue),ue!==rt||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(ie=null,ue=B),ie!==ue)){if(ce=Es,ee="onMouseLeave",b="onMouseEnter",D="mouse",(n==="pointerout"||n==="pointerover")&&(ce=E,ee="onPointerLeave",b="onPointerEnter",D="pointer"),rt=ie==null?Y:Ns(ie),U=ue==null?Y:Ns(ue),Y=new ce(ee,D+"leave",ie,a,X),Y.target=rt,Y.relatedTarget=U,ee=null,Di(X)===B&&(ce=new ce(b,D+"enter",ue,a,X),ce.target=U,ce.relatedTarget=rt,ee=ce),rt=ee,ie&&ue)t:{for(ce=ie,b=ue,D=0,U=ce;U;U=xs(U))D++;for(U=0,ee=b;ee;ee=xs(ee))U++;for(;0<D-U;)ce=xs(ce),D--;for(;0<U-D;)b=xs(b),U--;for(;D--;){if(ce===b||b!==null&&ce===b.alternate)break t;ce=xs(ce),b=xs(b)}ce=null}else ce=null;ie!==null&&bf(Z,Y,ie,ce,!1),ue!==null&&rt!==null&&bf(Z,rt,ue,ce,!0)}}e:{if(Y=B?Ns(B):window,ie=Y.nodeName&&Y.nodeName.toLowerCase(),ie==="select"||ie==="input"&&Y.type==="file")var he=M_;else if(vf(Y))if(wf)he=b_;else{he=F_;var ge=O_}else(ie=Y.nodeName)&&ie.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(he=j_);if(he&&(he=he(n,B))){_f(Z,he,a,X);break e}ge&&ge(n,Y,B),n==="focusout"&&(ge=Y._wrapperState)&&ge.controlled&&Y.type==="number"&&ns(Y,"number",Y.value)}switch(ge=B?Ns(B):window,n){case"focusin":(vf(ge)||ge.contentEditable==="true")&&(Rs=ge,pc=B,zo=null);break;case"focusout":zo=pc=Rs=null;break;case"mousedown":mc=!0;break;case"contextmenu":case"mouseup":case"dragend":mc=!1,Pf(Z,a,X);break;case"selectionchange":if(B_)break;case"keydown":case"keyup":Pf(Z,a,X)}var ye;if(st)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Cs?gf(n,a)&&(_e="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(Ni&&a.locale!=="ko"&&(Cs||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Cs&&(ye=Lo()):(nn=X,ys="value"in nn?nn.value:nn.textContent,Cs=!0)),ge=fl(B,_e),0<ge.length&&(_e=new Fo(_e,n,null,a,X),Z.push({event:_e,listeners:ge}),ye?_e.data=ye:(ye=yf(a),ye!==null&&(_e.data=ye)))),(ye=rn?N_(n,a):D_(n,a))&&(B=fl(B,"onBeforeInput"),0<B.length&&(X=new Fo("onBeforeInput","beforeinput",null,a,X),Z.push({event:X,listeners:B}),X.data=ye))}Ff(Z,i)})}function qo(n,i,a){return{instance:n,listener:i,currentTarget:a}}function fl(n,i){for(var a=i+"Capture",c=[];n!==null;){var d=n,m=d.stateNode;d.tag===5&&m!==null&&(d=m,m=nt(n,a),m!=null&&c.unshift(qo(n,m,d)),m=nt(n,i),m!=null&&c.push(qo(n,m,d))),n=n.return}return c}function xs(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function bf(n,i,a,c,d){for(var m=i._reactName,_=[];a!==null&&a!==c;){var A=a,x=A.alternate,B=A.stateNode;if(x!==null&&x===c)break;A.tag===5&&B!==null&&(A=B,d?(x=nt(a,m),x!=null&&_.unshift(qo(a,x,A))):d||(x=nt(a,m),x!=null&&_.push(qo(a,x,A)))),a=a.return}_.length!==0&&n.push({event:i,listeners:_})}var W_=/\r\n?/g,K_=/\u0000|\uFFFD/g;function Uf(n){return(typeof n=="string"?n:""+n).replace(W_,`
`).replace(K_,"")}function pl(n,i,a){if(i=Uf(i),Uf(n)!==i&&a)throw Error(t(425))}function ml(){}var Ec=null,Tc=null;function Ic(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Sc=typeof setTimeout=="function"?setTimeout:void 0,G_=typeof clearTimeout=="function"?clearTimeout:void 0,zf=typeof Promise=="function"?Promise:void 0,Q_=typeof queueMicrotask=="function"?queueMicrotask:typeof zf<"u"?function(n){return zf.resolve(null).then(n).catch(Y_)}:Sc;function Y_(n){setTimeout(function(){throw n})}function Ac(n,i){var a=i,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){n.removeChild(d),xn(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);xn(i)}function zr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function Bf(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}var ks=Math.random().toString(36).slice(2),Wn="__reactFiber$"+ks,Ho="__reactProps$"+ks,fr="__reactContainer$"+ks,Cc="__reactEvents$"+ks,X_="__reactListeners$"+ks,J_="__reactHandles$"+ks;function Di(n){var i=n[Wn];if(i)return i;for(var a=n.parentNode;a;){if(i=a[fr]||a[Wn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=Bf(n);n!==null;){if(a=n[Wn])return a;n=Bf(n)}return i}n=a,a=n.parentNode}return null}function Wo(n){return n=n[Wn]||n[fr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ns(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function gl(n){return n[Ho]||null}var Rc=[],Ds=-1;function Br(n){return{current:n}}function We(n){0>Ds||(n.current=Rc[Ds],Rc[Ds]=null,Ds--)}function qe(n,i){Ds++,Rc[Ds]=n.current,n.current=i}var $r={},Nt=Br($r),qt=Br(!1),Vi=$r;function Vs(n,i){var a=n.type.contextTypes;if(!a)return $r;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var d={},m;for(m in a)d[m]=i[m];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=d),d}function Ht(n){return n=n.childContextTypes,n!=null}function yl(){We(qt),We(Nt)}function $f(n,i,a){if(Nt.current!==$r)throw Error(t(168));qe(Nt,i),qe(qt,a)}function qf(n,i,a){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in i))throw Error(t(108,Oe(n)||"Unknown",d));return se({},a,c)}function vl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||$r,Vi=Nt.current,qe(Nt,n),qe(qt,qt.current),!0}function Hf(n,i,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=qf(n,i,Vi),c.__reactInternalMemoizedMergedChildContext=n,We(qt),We(Nt),qe(Nt,n)):We(qt),qe(qt,a)}var pr=null,_l=!1,Pc=!1;function Wf(n){pr===null?pr=[n]:pr.push(n)}function Z_(n){_l=!0,Wf(n)}function qr(){if(!Pc&&pr!==null){Pc=!0;var n=0,i=Pe;try{var a=pr;for(Pe=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}pr=null,_l=!1}catch(d){throw pr!==null&&(pr=pr.slice(n+1)),ds(Si,qr),d}finally{Pe=i,Pc=!1}}return null}var Ls=[],Ms=0,wl=null,El=0,mn=[],gn=0,Li=null,mr=1,gr="";function Mi(n,i){Ls[Ms++]=El,Ls[Ms++]=wl,wl=n,El=i}function Kf(n,i,a){mn[gn++]=mr,mn[gn++]=gr,mn[gn++]=Li,Li=n;var c=mr;n=gr;var d=32-jt(c)-1;c&=~(1<<d),a+=1;var m=32-jt(i)+d;if(30<m){var _=d-d%5;m=(c&(1<<_)-1).toString(32),c>>=_,d-=_,mr=1<<32-jt(i)+d|a<<d|c,gr=m+n}else mr=1<<m|a<<d|c,gr=n}function xc(n){n.return!==null&&(Mi(n,1),Kf(n,1,0))}function kc(n){for(;n===wl;)wl=Ls[--Ms],Ls[Ms]=null,El=Ls[--Ms],Ls[Ms]=null;for(;n===Li;)Li=mn[--gn],mn[gn]=null,gr=mn[--gn],mn[gn]=null,mr=mn[--gn],mn[gn]=null}var sn=null,on=null,Qe=!1,Dn=null;function Gf(n,i){var a=wn(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=n,i=n.deletions,i===null?(n.deletions=[a],n.flags|=16):i.push(a)}function Qf(n,i){switch(n.tag){case 5:var a=n.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,sn=n,on=zr(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,sn=n,on=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=Li!==null?{id:mr,overflow:gr}:null,n.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=wn(18,null,null,0),a.stateNode=i,a.return=n,n.child=a,sn=n,on=null,!0):!1;default:return!1}}function Nc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Dc(n){if(Qe){var i=on;if(i){var a=i;if(!Qf(n,i)){if(Nc(n))throw Error(t(418));i=zr(a.nextSibling);var c=sn;i&&Qf(n,i)?Gf(c,a):(n.flags=n.flags&-4097|2,Qe=!1,sn=n)}}else{if(Nc(n))throw Error(t(418));n.flags=n.flags&-4097|2,Qe=!1,sn=n}}}function Yf(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;sn=n}function Tl(n){if(n!==sn)return!1;if(!Qe)return Yf(n),Qe=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!Ic(n.type,n.memoizedProps)),i&&(i=on)){if(Nc(n))throw Xf(),Error(t(418));for(;i;)Gf(n,i),i=zr(i.nextSibling)}if(Yf(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(i===0){on=zr(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}n=n.nextSibling}on=null}}else on=sn?zr(n.stateNode.nextSibling):null;return!0}function Xf(){for(var n=on;n;)n=zr(n.nextSibling)}function Os(){on=sn=null,Qe=!1}function Vc(n){Dn===null?Dn=[n]:Dn.push(n)}var e0=fe.ReactCurrentBatchConfig;function Ko(n,i,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var d=c,m=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===m?i.ref:(i=function(_){var A=d.refs;_===null?delete A[m]:A[m]=_},i._stringRef=m,i)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function Il(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function Jf(n){var i=n._init;return i(n._payload)}function Zf(n){function i(b,D){if(n){var U=b.deletions;U===null?(b.deletions=[D],b.flags|=16):U.push(D)}}function a(b,D){if(!n)return null;for(;D!==null;)i(b,D),D=D.sibling;return null}function c(b,D){for(b=new Map;D!==null;)D.key!==null?b.set(D.key,D):b.set(D.index,D),D=D.sibling;return b}function d(b,D){return b=Jr(b,D),b.index=0,b.sibling=null,b}function m(b,D,U){return b.index=U,n?(U=b.alternate,U!==null?(U=U.index,U<D?(b.flags|=2,D):U):(b.flags|=2,D)):(b.flags|=1048576,D)}function _(b){return n&&b.alternate===null&&(b.flags|=2),b}function A(b,D,U,ee){return D===null||D.tag!==6?(D=Sh(U,b.mode,ee),D.return=b,D):(D=d(D,U),D.return=b,D)}function x(b,D,U,ee){var he=U.type;return he===N?X(b,D,U.props.children,ee,U.key):D!==null&&(D.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===kt&&Jf(he)===D.type)?(ee=d(D,U.props),ee.ref=Ko(b,D,U),ee.return=b,ee):(ee=Kl(U.type,U.key,U.props,null,b.mode,ee),ee.ref=Ko(b,D,U),ee.return=b,ee)}function B(b,D,U,ee){return D===null||D.tag!==4||D.stateNode.containerInfo!==U.containerInfo||D.stateNode.implementation!==U.implementation?(D=Ah(U,b.mode,ee),D.return=b,D):(D=d(D,U.children||[]),D.return=b,D)}function X(b,D,U,ee,he){return D===null||D.tag!==7?(D=$i(U,b.mode,ee,he),D.return=b,D):(D=d(D,U),D.return=b,D)}function Z(b,D,U){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Sh(""+D,b.mode,U),D.return=b,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Ce:return U=Kl(D.type,D.key,D.props,null,b.mode,U),U.ref=Ko(b,null,D),U.return=b,U;case Te:return D=Ah(D,b.mode,U),D.return=b,D;case kt:var ee=D._init;return Z(b,ee(D._payload),U)}if(ir(D)||me(D))return D=$i(D,b.mode,U,null),D.return=b,D;Il(b,D)}return null}function Y(b,D,U,ee){var he=D!==null?D.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return he!==null?null:A(b,D,""+U,ee);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Ce:return U.key===he?x(b,D,U,ee):null;case Te:return U.key===he?B(b,D,U,ee):null;case kt:return he=U._init,Y(b,D,he(U._payload),ee)}if(ir(U)||me(U))return he!==null?null:X(b,D,U,ee,null);Il(b,U)}return null}function ie(b,D,U,ee,he){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return b=b.get(U)||null,A(D,b,""+ee,he);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case Ce:return b=b.get(ee.key===null?U:ee.key)||null,x(D,b,ee,he);case Te:return b=b.get(ee.key===null?U:ee.key)||null,B(D,b,ee,he);case kt:var ge=ee._init;return ie(b,D,U,ge(ee._payload),he)}if(ir(ee)||me(ee))return b=b.get(U)||null,X(D,b,ee,he,null);Il(D,ee)}return null}function ue(b,D,U,ee){for(var he=null,ge=null,ye=D,_e=D=0,wt=null;ye!==null&&_e<U.length;_e++){ye.index>_e?(wt=ye,ye=null):wt=ye.sibling;var Me=Y(b,ye,U[_e],ee);if(Me===null){ye===null&&(ye=wt);break}n&&ye&&Me.alternate===null&&i(b,ye),D=m(Me,D,_e),ge===null?he=Me:ge.sibling=Me,ge=Me,ye=wt}if(_e===U.length)return a(b,ye),Qe&&Mi(b,_e),he;if(ye===null){for(;_e<U.length;_e++)ye=Z(b,U[_e],ee),ye!==null&&(D=m(ye,D,_e),ge===null?he=ye:ge.sibling=ye,ge=ye);return Qe&&Mi(b,_e),he}for(ye=c(b,ye);_e<U.length;_e++)wt=ie(ye,b,_e,U[_e],ee),wt!==null&&(n&&wt.alternate!==null&&ye.delete(wt.key===null?_e:wt.key),D=m(wt,D,_e),ge===null?he=wt:ge.sibling=wt,ge=wt);return n&&ye.forEach(function(Zr){return i(b,Zr)}),Qe&&Mi(b,_e),he}function ce(b,D,U,ee){var he=me(U);if(typeof he!="function")throw Error(t(150));if(U=he.call(U),U==null)throw Error(t(151));for(var ge=he=null,ye=D,_e=D=0,wt=null,Me=U.next();ye!==null&&!Me.done;_e++,Me=U.next()){ye.index>_e?(wt=ye,ye=null):wt=ye.sibling;var Zr=Y(b,ye,Me.value,ee);if(Zr===null){ye===null&&(ye=wt);break}n&&ye&&Zr.alternate===null&&i(b,ye),D=m(Zr,D,_e),ge===null?he=Zr:ge.sibling=Zr,ge=Zr,ye=wt}if(Me.done)return a(b,ye),Qe&&Mi(b,_e),he;if(ye===null){for(;!Me.done;_e++,Me=U.next())Me=Z(b,Me.value,ee),Me!==null&&(D=m(Me,D,_e),ge===null?he=Me:ge.sibling=Me,ge=Me);return Qe&&Mi(b,_e),he}for(ye=c(b,ye);!Me.done;_e++,Me=U.next())Me=ie(ye,b,_e,Me.value,ee),Me!==null&&(n&&Me.alternate!==null&&ye.delete(Me.key===null?_e:Me.key),D=m(Me,D,_e),ge===null?he=Me:ge.sibling=Me,ge=Me);return n&&ye.forEach(function(D0){return i(b,D0)}),Qe&&Mi(b,_e),he}function rt(b,D,U,ee){if(typeof U=="object"&&U!==null&&U.type===N&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case Ce:e:{for(var he=U.key,ge=D;ge!==null;){if(ge.key===he){if(he=U.type,he===N){if(ge.tag===7){a(b,ge.sibling),D=d(ge,U.props.children),D.return=b,b=D;break e}}else if(ge.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===kt&&Jf(he)===ge.type){a(b,ge.sibling),D=d(ge,U.props),D.ref=Ko(b,ge,U),D.return=b,b=D;break e}a(b,ge);break}else i(b,ge);ge=ge.sibling}U.type===N?(D=$i(U.props.children,b.mode,ee,U.key),D.return=b,b=D):(ee=Kl(U.type,U.key,U.props,null,b.mode,ee),ee.ref=Ko(b,D,U),ee.return=b,b=ee)}return _(b);case Te:e:{for(ge=U.key;D!==null;){if(D.key===ge)if(D.tag===4&&D.stateNode.containerInfo===U.containerInfo&&D.stateNode.implementation===U.implementation){a(b,D.sibling),D=d(D,U.children||[]),D.return=b,b=D;break e}else{a(b,D);break}else i(b,D);D=D.sibling}D=Ah(U,b.mode,ee),D.return=b,b=D}return _(b);case kt:return ge=U._init,rt(b,D,ge(U._payload),ee)}if(ir(U))return ue(b,D,U,ee);if(me(U))return ce(b,D,U,ee);Il(b,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,D!==null&&D.tag===6?(a(b,D.sibling),D=d(D,U),D.return=b,b=D):(a(b,D),D=Sh(U,b.mode,ee),D.return=b,b=D),_(b)):a(b,D)}return rt}var Fs=Zf(!0),ep=Zf(!1),Sl=Br(null),Al=null,js=null,Lc=null;function Mc(){Lc=js=Al=null}function Oc(n){var i=Sl.current;We(Sl),n._currentValue=i}function Fc(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function bs(n,i){Al=n,Lc=js=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&i&&(Wt=!0),n.firstContext=null)}function yn(n){var i=n._currentValue;if(Lc!==n)if(n={context:n,memoizedValue:i,next:null},js===null){if(Al===null)throw Error(t(308));js=n,Al.dependencies={lanes:0,firstContext:n}}else js=js.next=n;return i}var Oi=null;function jc(n){Oi===null?Oi=[n]:Oi.push(n)}function tp(n,i,a,c){var d=i.interleaved;return d===null?(a.next=a,jc(i)):(a.next=d.next,d.next=a),i.interleaved=a,yr(n,c)}function yr(n,i){n.lanes|=i;var a=n.alternate;for(a!==null&&(a.lanes|=i),a=n,n=n.return;n!==null;)n.childLanes|=i,a=n.alternate,a!==null&&(a.childLanes|=i),a=n,n=n.return;return a.tag===3?a.stateNode:null}var Hr=!1;function bc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function np(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function vr(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function Wr(n,i,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,Le&2){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,yr(n,a)}return d=c.interleaved,d===null?(i.next=i,jc(c)):(i.next=d.next,d.next=i),c.interleaved=i,yr(n,a)}function Cl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Mr(n,a)}}function rp(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?d=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?d=m=i:m=m.next=i}else d=m=i;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}function Rl(n,i,a,c){var d=n.updateQueue;Hr=!1;var m=d.firstBaseUpdate,_=d.lastBaseUpdate,A=d.shared.pending;if(A!==null){d.shared.pending=null;var x=A,B=x.next;x.next=null,_===null?m=B:_.next=B,_=x;var X=n.alternate;X!==null&&(X=X.updateQueue,A=X.lastBaseUpdate,A!==_&&(A===null?X.firstBaseUpdate=B:A.next=B,X.lastBaseUpdate=x))}if(m!==null){var Z=d.baseState;_=0,X=B=x=null,A=m;do{var Y=A.lane,ie=A.eventTime;if((c&Y)===Y){X!==null&&(X=X.next={eventTime:ie,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var ue=n,ce=A;switch(Y=i,ie=a,ce.tag){case 1:if(ue=ce.payload,typeof ue=="function"){Z=ue.call(ie,Z,Y);break e}Z=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ce.payload,Y=typeof ue=="function"?ue.call(ie,Z,Y):ue,Y==null)break e;Z=se({},Z,Y);break e;case 2:Hr=!0}}A.callback!==null&&A.lane!==0&&(n.flags|=64,Y=d.effects,Y===null?d.effects=[A]:Y.push(A))}else ie={eventTime:ie,lane:Y,tag:A.tag,payload:A.payload,callback:A.callback,next:null},X===null?(B=X=ie,x=Z):X=X.next=ie,_|=Y;if(A=A.next,A===null){if(A=d.shared.pending,A===null)break;Y=A,A=Y.next,Y.next=null,d.lastBaseUpdate=Y,d.shared.pending=null}}while(!0);if(X===null&&(x=Z),d.baseState=x,d.firstBaseUpdate=B,d.lastBaseUpdate=X,i=d.shared.interleaved,i!==null){d=i;do _|=d.lane,d=d.next;while(d!==i)}else m===null&&(d.shared.lanes=0);bi|=_,n.lanes=_,n.memoizedState=Z}}function ip(n,i,a){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var Go={},Kn=Br(Go),Qo=Br(Go),Yo=Br(Go);function Fi(n){if(n===Go)throw Error(t(174));return n}function Uc(n,i){switch(qe(Yo,i),qe(Qo,n),qe(Kn,Go),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:ct(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=ct(i,n)}We(Kn),qe(Kn,i)}function Us(){We(Kn),We(Qo),We(Yo)}function sp(n){Fi(Yo.current);var i=Fi(Kn.current),a=ct(i,n.type);i!==a&&(qe(Qo,n),qe(Kn,a))}function zc(n){Qo.current===n&&(We(Kn),We(Qo))}var Ye=Br(0);function Pl(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Bc=[];function $c(){for(var n=0;n<Bc.length;n++)Bc[n]._workInProgressVersionPrimary=null;Bc.length=0}var xl=fe.ReactCurrentDispatcher,qc=fe.ReactCurrentBatchConfig,ji=0,Xe=null,dt=null,vt=null,kl=!1,Xo=!1,Jo=0,t0=0;function Dt(){throw Error(t(321))}function Hc(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!Nn(n[a],i[a]))return!1;return!0}function Wc(n,i,a,c,d,m){if(ji=m,Xe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,xl.current=n===null||n.memoizedState===null?s0:o0,n=a(c,d),Xo){m=0;do{if(Xo=!1,Jo=0,25<=m)throw Error(t(301));m+=1,vt=dt=null,i.updateQueue=null,xl.current=a0,n=a(c,d)}while(Xo)}if(xl.current=Vl,i=dt!==null&&dt.next!==null,ji=0,vt=dt=Xe=null,kl=!1,i)throw Error(t(300));return n}function Kc(){var n=Jo!==0;return Jo=0,n}function Gn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Xe.memoizedState=vt=n:vt=vt.next=n,vt}function vn(){if(dt===null){var n=Xe.alternate;n=n!==null?n.memoizedState:null}else n=dt.next;var i=vt===null?Xe.memoizedState:vt.next;if(i!==null)vt=i,dt=n;else{if(n===null)throw Error(t(310));dt=n,n={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},vt===null?Xe.memoizedState=vt=n:vt=vt.next=n}return vt}function Zo(n,i){return typeof i=="function"?i(n):i}function Gc(n){var i=vn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=dt,d=c.baseQueue,m=a.pending;if(m!==null){if(d!==null){var _=d.next;d.next=m.next,m.next=_}c.baseQueue=d=m,a.pending=null}if(d!==null){m=d.next,c=c.baseState;var A=_=null,x=null,B=m;do{var X=B.lane;if((ji&X)===X)x!==null&&(x=x.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),c=B.hasEagerState?B.eagerState:n(c,B.action);else{var Z={lane:X,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};x===null?(A=x=Z,_=c):x=x.next=Z,Xe.lanes|=X,bi|=X}B=B.next}while(B!==null&&B!==m);x===null?_=c:x.next=A,Nn(c,i.memoizedState)||(Wt=!0),i.memoizedState=c,i.baseState=_,i.baseQueue=x,a.lastRenderedState=c}if(n=a.interleaved,n!==null){d=n;do m=d.lane,Xe.lanes|=m,bi|=m,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Qc(n){var i=vn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,m=i.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do m=n(m,_.action),_=_.next;while(_!==d);Nn(m,i.memoizedState)||(Wt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,c]}function op(){}function ap(n,i){var a=Xe,c=vn(),d=i(),m=!Nn(c.memoizedState,d);if(m&&(c.memoizedState=d,Wt=!0),c=c.queue,Yc(cp.bind(null,a,c,n),[n]),c.getSnapshot!==i||m||vt!==null&&vt.memoizedState.tag&1){if(a.flags|=2048,ea(9,up.bind(null,a,c,d,i),void 0,null),_t===null)throw Error(t(349));ji&30||lp(a,i,d)}return d}function lp(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Xe.updateQueue,i===null?(i={lastEffect:null,stores:null},Xe.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function up(n,i,a,c){i.value=a,i.getSnapshot=c,hp(i)&&dp(n)}function cp(n,i,a){return a(function(){hp(i)&&dp(n)})}function hp(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!Nn(n,a)}catch{return!0}}function dp(n){var i=yr(n,1);i!==null&&On(i,n,1,-1)}function fp(n){var i=Gn();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:n},i.queue=n,n=n.dispatch=i0.bind(null,Xe,n),[i.memoizedState,n]}function ea(n,i,a,c){return n={tag:n,create:i,destroy:a,deps:c,next:null},i=Xe.updateQueue,i===null?(i={lastEffect:null,stores:null},Xe.updateQueue=i,i.lastEffect=n.next=n):(a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n)),n}function pp(){return vn().memoizedState}function Nl(n,i,a,c){var d=Gn();Xe.flags|=n,d.memoizedState=ea(1|i,a,void 0,c===void 0?null:c)}function Dl(n,i,a,c){var d=vn();c=c===void 0?null:c;var m=void 0;if(dt!==null){var _=dt.memoizedState;if(m=_.destroy,c!==null&&Hc(c,_.deps)){d.memoizedState=ea(i,a,m,c);return}}Xe.flags|=n,d.memoizedState=ea(1|i,a,m,c)}function mp(n,i){return Nl(8390656,8,n,i)}function Yc(n,i){return Dl(2048,8,n,i)}function gp(n,i){return Dl(4,2,n,i)}function yp(n,i){return Dl(4,4,n,i)}function vp(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function _p(n,i,a){return a=a!=null?a.concat([n]):null,Dl(4,4,vp.bind(null,i,n),a)}function Xc(){}function wp(n,i){var a=vn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Hc(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function Ep(n,i){var a=vn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Hc(i,c[1])?c[0]:(n=n(),a.memoizedState=[n,i],n)}function Tp(n,i,a){return ji&21?(Nn(a,i)||(a=Ri(),Xe.lanes|=a,bi|=a,n.baseState=!0),i):(n.baseState&&(n.baseState=!1,Wt=!0),n.memoizedState=a)}function n0(n,i){var a=Pe;Pe=a!==0&&4>a?a:4,n(!0);var c=qc.transition;qc.transition={};try{n(!1),i()}finally{Pe=a,qc.transition=c}}function Ip(){return vn().memoizedState}function r0(n,i,a){var c=Yr(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Sp(n))Ap(i,a);else if(a=tp(n,i,a,c),a!==null){var d=zt();On(a,n,c,d),Cp(a,i,c)}}function i0(n,i,a){var c=Yr(n),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Sp(n))Ap(i,d);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var _=i.lastRenderedState,A=m(_,a);if(d.hasEagerState=!0,d.eagerState=A,Nn(A,_)){var x=i.interleaved;x===null?(d.next=d,jc(i)):(d.next=x.next,x.next=d),i.interleaved=d;return}}catch{}finally{}a=tp(n,i,d,c),a!==null&&(d=zt(),On(a,n,c,d),Cp(a,i,c))}}function Sp(n){var i=n.alternate;return n===Xe||i!==null&&i===Xe}function Ap(n,i){Xo=kl=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function Cp(n,i,a){if(a&4194240){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Mr(n,a)}}var Vl={readContext:yn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},s0={readContext:yn,useCallback:function(n,i){return Gn().memoizedState=[n,i===void 0?null:i],n},useContext:yn,useEffect:mp,useImperativeHandle:function(n,i,a){return a=a!=null?a.concat([n]):null,Nl(4194308,4,vp.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Nl(4194308,4,n,i)},useInsertionEffect:function(n,i){return Nl(4,2,n,i)},useMemo:function(n,i){var a=Gn();return i=i===void 0?null:i,n=n(),a.memoizedState=[n,i],n},useReducer:function(n,i,a){var c=Gn();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=r0.bind(null,Xe,n),[c.memoizedState,n]},useRef:function(n){var i=Gn();return n={current:n},i.memoizedState=n},useState:fp,useDebugValue:Xc,useDeferredValue:function(n){return Gn().memoizedState=n},useTransition:function(){var n=fp(!1),i=n[0];return n=n0.bind(null,n[1]),Gn().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,a){var c=Xe,d=Gn();if(Qe){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),_t===null)throw Error(t(349));ji&30||lp(c,i,a)}d.memoizedState=a;var m={value:a,getSnapshot:i};return d.queue=m,mp(cp.bind(null,c,m,n),[n]),c.flags|=2048,ea(9,up.bind(null,c,m,a,i),void 0,null),a},useId:function(){var n=Gn(),i=_t.identifierPrefix;if(Qe){var a=gr,c=mr;a=(c&~(1<<32-jt(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=Jo++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=t0++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},o0={readContext:yn,useCallback:wp,useContext:yn,useEffect:Yc,useImperativeHandle:_p,useInsertionEffect:gp,useLayoutEffect:yp,useMemo:Ep,useReducer:Gc,useRef:pp,useState:function(){return Gc(Zo)},useDebugValue:Xc,useDeferredValue:function(n){var i=vn();return Tp(i,dt.memoizedState,n)},useTransition:function(){var n=Gc(Zo)[0],i=vn().memoizedState;return[n,i]},useMutableSource:op,useSyncExternalStore:ap,useId:Ip,unstable_isNewReconciler:!1},a0={readContext:yn,useCallback:wp,useContext:yn,useEffect:Yc,useImperativeHandle:_p,useInsertionEffect:gp,useLayoutEffect:yp,useMemo:Ep,useReducer:Qc,useRef:pp,useState:function(){return Qc(Zo)},useDebugValue:Xc,useDeferredValue:function(n){var i=vn();return dt===null?i.memoizedState=n:Tp(i,dt.memoizedState,n)},useTransition:function(){var n=Qc(Zo)[0],i=vn().memoizedState;return[n,i]},useMutableSource:op,useSyncExternalStore:ap,useId:Ip,unstable_isNewReconciler:!1};function Vn(n,i){if(n&&n.defaultProps){i=se({},i),n=n.defaultProps;for(var a in n)i[a]===void 0&&(i[a]=n[a]);return i}return i}function Jc(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:se({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Ll={isMounted:function(n){return(n=n._reactInternals)?Sn(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var c=zt(),d=Yr(n),m=vr(c,d);m.payload=i,a!=null&&(m.callback=a),i=Wr(n,m,d),i!==null&&(On(i,n,d,c),Cl(i,n,d))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=zt(),d=Yr(n),m=vr(c,d);m.tag=1,m.payload=i,a!=null&&(m.callback=a),i=Wr(n,m,d),i!==null&&(On(i,n,d,c),Cl(i,n,d))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=zt(),c=Yr(n),d=vr(a,c);d.tag=2,i!=null&&(d.callback=i),i=Wr(n,d,c),i!==null&&(On(i,n,c,a),Cl(i,n,c))}};function Rp(n,i,a,c,d,m,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,_):i.prototype&&i.prototype.isPureReactComponent?!Uo(a,c)||!Uo(d,m):!0}function Pp(n,i,a){var c=!1,d=$r,m=i.contextType;return typeof m=="object"&&m!==null?m=yn(m):(d=Ht(i)?Vi:Nt.current,c=i.contextTypes,m=(c=c!=null)?Vs(n,d):$r),i=new i(a,m),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ll,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=m),i}function xp(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&Ll.enqueueReplaceState(i,i.state,null)}function Zc(n,i,a,c){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},bc(n);var m=i.contextType;typeof m=="object"&&m!==null?d.context=yn(m):(m=Ht(i)?Vi:Nt.current,d.context=Vs(n,m)),d.state=n.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(Jc(n,i,m,a),d.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&Ll.enqueueReplaceState(d,d.state,null),Rl(n,a,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function zs(n,i){try{var a="",c=i;do a+=Se(c),c=c.return;while(c);var d=a}catch(m){d=`
Error generating stack: `+m.message+`
`+m.stack}return{value:n,source:i,stack:d,digest:null}}function eh(n,i,a){return{value:n,source:null,stack:a??null,digest:i??null}}function th(n,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var l0=typeof WeakMap=="function"?WeakMap:Map;function kp(n,i,a){a=vr(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){zl||(zl=!0,gh=c),th(n,i)},a}function Np(n,i,a){a=vr(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=i.value;a.payload=function(){return c(d)},a.callback=function(){th(n,i)}}var m=n.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){th(n,i),typeof c!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var _=i.stack;this.componentDidCatch(i.value,{componentStack:_!==null?_:""})}),a}function Dp(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new l0;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(a)||(d.add(a),n=T0.bind(null,n,i,a),i.then(n,n))}function Vp(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function Lp(n,i,a,c,d){return n.mode&1?(n.flags|=65536,n.lanes=d,n):(n===i?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=vr(-1,1),i.tag=2,Wr(a,i,1))),a.lanes|=1),n)}var u0=fe.ReactCurrentOwner,Wt=!1;function Ut(n,i,a,c){i.child=n===null?ep(i,null,a,c):Fs(i,n.child,a,c)}function Mp(n,i,a,c,d){a=a.render;var m=i.ref;return bs(i,d),c=Wc(n,i,a,c,m,d),a=Kc(),n!==null&&!Wt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~d,_r(n,i,d)):(Qe&&a&&xc(i),i.flags|=1,Ut(n,i,c,d),i.child)}function Op(n,i,a,c,d){if(n===null){var m=a.type;return typeof m=="function"&&!Ih(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=m,Fp(n,i,m,c,d)):(n=Kl(a.type,null,c,i,i.mode,d),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!(n.lanes&d)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:Uo,a(_,c)&&n.ref===i.ref)return _r(n,i,d)}return i.flags|=1,n=Jr(m,c),n.ref=i.ref,n.return=i,i.child=n}function Fp(n,i,a,c,d){if(n!==null){var m=n.memoizedProps;if(Uo(m,c)&&n.ref===i.ref)if(Wt=!1,i.pendingProps=c=m,(n.lanes&d)!==0)n.flags&131072&&(Wt=!0);else return i.lanes=n.lanes,_r(n,i,d)}return nh(n,i,a,c,d)}function jp(n,i,a){var c=i.pendingProps,d=c.children,m=n!==null?n.memoizedState:null;if(c.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe($s,an),an|=a;else{if(!(a&1073741824))return n=m!==null?m.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,qe($s,an),an|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,qe($s,an),an|=c}else m!==null?(c=m.baseLanes|a,i.memoizedState=null):c=a,qe($s,an),an|=c;return Ut(n,i,d,a),i.child}function bp(n,i){var a=i.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function nh(n,i,a,c,d){var m=Ht(a)?Vi:Nt.current;return m=Vs(i,m),bs(i,d),a=Wc(n,i,a,c,m,d),c=Kc(),n!==null&&!Wt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~d,_r(n,i,d)):(Qe&&c&&xc(i),i.flags|=1,Ut(n,i,a,d),i.child)}function Up(n,i,a,c,d){if(Ht(a)){var m=!0;vl(i)}else m=!1;if(bs(i,d),i.stateNode===null)Ol(n,i),Pp(i,a,c),Zc(i,a,c,d),c=!0;else if(n===null){var _=i.stateNode,A=i.memoizedProps;_.props=A;var x=_.context,B=a.contextType;typeof B=="object"&&B!==null?B=yn(B):(B=Ht(a)?Vi:Nt.current,B=Vs(i,B));var X=a.getDerivedStateFromProps,Z=typeof X=="function"||typeof _.getSnapshotBeforeUpdate=="function";Z||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==c||x!==B)&&xp(i,_,c,B),Hr=!1;var Y=i.memoizedState;_.state=Y,Rl(i,c,_,d),x=i.memoizedState,A!==c||Y!==x||qt.current||Hr?(typeof X=="function"&&(Jc(i,a,X,c),x=i.memoizedState),(A=Hr||Rp(i,a,A,c,Y,x,B))?(Z||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=x),_.props=c,_.state=x,_.context=B,c=A):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{_=i.stateNode,np(n,i),A=i.memoizedProps,B=i.type===i.elementType?A:Vn(i.type,A),_.props=B,Z=i.pendingProps,Y=_.context,x=a.contextType,typeof x=="object"&&x!==null?x=yn(x):(x=Ht(a)?Vi:Nt.current,x=Vs(i,x));var ie=a.getDerivedStateFromProps;(X=typeof ie=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==Z||Y!==x)&&xp(i,_,c,x),Hr=!1,Y=i.memoizedState,_.state=Y,Rl(i,c,_,d);var ue=i.memoizedState;A!==Z||Y!==ue||qt.current||Hr?(typeof ie=="function"&&(Jc(i,a,ie,c),ue=i.memoizedState),(B=Hr||Rp(i,a,B,c,Y,ue,x)||!1)?(X||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,ue,x),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,ue,x)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||A===n.memoizedProps&&Y===n.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&Y===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ue),_.props=c,_.state=ue,_.context=x,c=B):(typeof _.componentDidUpdate!="function"||A===n.memoizedProps&&Y===n.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&Y===n.memoizedState||(i.flags|=1024),c=!1)}return rh(n,i,a,c,m,d)}function rh(n,i,a,c,d,m){bp(n,i);var _=(i.flags&128)!==0;if(!c&&!_)return d&&Hf(i,a,!1),_r(n,i,m);c=i.stateNode,u0.current=i;var A=_&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&_?(i.child=Fs(i,n.child,null,m),i.child=Fs(i,null,A,m)):Ut(n,i,A,m),i.memoizedState=c.state,d&&Hf(i,a,!0),i.child}function zp(n){var i=n.stateNode;i.pendingContext?$f(n,i.pendingContext,i.pendingContext!==i.context):i.context&&$f(n,i.context,!1),Uc(n,i.containerInfo)}function Bp(n,i,a,c,d){return Os(),Vc(d),i.flags|=256,Ut(n,i,a,c),i.child}var ih={dehydrated:null,treeContext:null,retryLane:0};function sh(n){return{baseLanes:n,cachePool:null,transitions:null}}function $p(n,i,a){var c=i.pendingProps,d=Ye.current,m=!1,_=(i.flags&128)!==0,A;if((A=_)||(A=n!==null&&n.memoizedState===null?!1:(d&2)!==0),A?(m=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),qe(Ye,d&1),n===null)return Dc(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(i.mode&1?n.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(_=c.children,n=c.fallback,m?(c=i.mode,m=i.child,_={mode:"hidden",children:_},!(c&1)&&m!==null?(m.childLanes=0,m.pendingProps=_):m=Gl(_,c,0,null),n=$i(n,c,a,null),m.return=i,n.return=i,m.sibling=n,i.child=m,i.child.memoizedState=sh(a),i.memoizedState=ih,n):oh(i,_));if(d=n.memoizedState,d!==null&&(A=d.dehydrated,A!==null))return c0(n,i,_,c,A,d,a);if(m){m=c.fallback,_=i.mode,d=n.child,A=d.sibling;var x={mode:"hidden",children:c.children};return!(_&1)&&i.child!==d?(c=i.child,c.childLanes=0,c.pendingProps=x,i.deletions=null):(c=Jr(d,x),c.subtreeFlags=d.subtreeFlags&14680064),A!==null?m=Jr(A,m):(m=$i(m,_,a,null),m.flags|=2),m.return=i,c.return=i,c.sibling=m,i.child=c,c=m,m=i.child,_=n.child.memoizedState,_=_===null?sh(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},m.memoizedState=_,m.childLanes=n.childLanes&~a,i.memoizedState=ih,c}return m=n.child,n=m.sibling,c=Jr(m,{mode:"visible",children:c.children}),!(i.mode&1)&&(c.lanes=a),c.return=i,c.sibling=null,n!==null&&(a=i.deletions,a===null?(i.deletions=[n],i.flags|=16):a.push(n)),i.child=c,i.memoizedState=null,c}function oh(n,i){return i=Gl({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function Ml(n,i,a,c){return c!==null&&Vc(c),Fs(i,n.child,null,a),n=oh(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function c0(n,i,a,c,d,m,_){if(a)return i.flags&256?(i.flags&=-257,c=eh(Error(t(422))),Ml(n,i,_,c)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(m=c.fallback,d=i.mode,c=Gl({mode:"visible",children:c.children},d,0,null),m=$i(m,d,_,null),m.flags|=2,c.return=i,m.return=i,c.sibling=m,i.child=c,i.mode&1&&Fs(i,n.child,null,_),i.child.memoizedState=sh(_),i.memoizedState=ih,m);if(!(i.mode&1))return Ml(n,i,_,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var A=c.dgst;return c=A,m=Error(t(419)),c=eh(m,c,void 0),Ml(n,i,_,c)}if(A=(_&n.childLanes)!==0,Wt||A){if(c=_t,c!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|_)?0:d,d!==0&&d!==m.retryLane&&(m.retryLane=d,yr(n,d),On(c,n,d,-1))}return Th(),c=eh(Error(t(421))),Ml(n,i,_,c)}return d.data==="$?"?(i.flags|=128,i.child=n.child,i=I0.bind(null,n),d._reactRetry=i,null):(n=m.treeContext,on=zr(d.nextSibling),sn=i,Qe=!0,Dn=null,n!==null&&(mn[gn++]=mr,mn[gn++]=gr,mn[gn++]=Li,mr=n.id,gr=n.overflow,Li=i),i=oh(i,c.children),i.flags|=4096,i)}function qp(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),Fc(n.return,i,a)}function ah(n,i,a,c,d){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=d)}function Hp(n,i,a){var c=i.pendingProps,d=c.revealOrder,m=c.tail;if(Ut(n,i,c.children,a),c=Ye.current,c&2)c=c&1|2,i.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&qp(n,a,i);else if(n.tag===19)qp(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(qe(Ye,c),!(i.mode&1))i.memoizedState=null;else switch(d){case"forwards":for(a=i.child,d=null;a!==null;)n=a.alternate,n!==null&&Pl(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),ah(i,!1,d,a,m);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(n=d.alternate,n!==null&&Pl(n)===null){i.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}ah(i,!0,a,null,m);break;case"together":ah(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ol(n,i){!(i.mode&1)&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function _r(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),bi|=i.lanes,!(a&i.childLanes))return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,a=Jr(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Jr(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function h0(n,i,a){switch(i.tag){case 3:zp(i),Os();break;case 5:sp(i);break;case 1:Ht(i.type)&&vl(i);break;case 4:Uc(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,d=i.memoizedProps.value;qe(Sl,c._currentValue),c._currentValue=d;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(qe(Ye,Ye.current&1),i.flags|=128,null):a&i.child.childLanes?$p(n,i,a):(qe(Ye,Ye.current&1),n=_r(n,i,a),n!==null?n.sibling:null);qe(Ye,Ye.current&1);break;case 19:if(c=(a&i.childLanes)!==0,n.flags&128){if(c)return Hp(n,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),qe(Ye,Ye.current),c)break;return null;case 22:case 23:return i.lanes=0,jp(n,i,a)}return _r(n,i,a)}var Wp,lh,Kp,Gp;Wp=function(n,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},lh=function(){},Kp=function(n,i,a,c){var d=n.memoizedProps;if(d!==c){n=i.stateNode,Fi(Kn.current);var m=null;switch(a){case"input":d=gi(n,d),c=gi(n,c),m=[];break;case"select":d=se({},d,{value:void 0}),c=se({},c,{value:void 0}),m=[];break;case"textarea":d=mo(n,d),c=mo(n,c),m=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=ml)}Eo(a,c);var _;a=null;for(B in d)if(!c.hasOwnProperty(B)&&d.hasOwnProperty(B)&&d[B]!=null)if(B==="style"){var A=d[B];for(_ in A)A.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(o.hasOwnProperty(B)?m||(m=[]):(m=m||[]).push(B,null));for(B in c){var x=c[B];if(A=d!=null?d[B]:void 0,c.hasOwnProperty(B)&&x!==A&&(x!=null||A!=null))if(B==="style")if(A){for(_ in A)!A.hasOwnProperty(_)||x&&x.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in x)x.hasOwnProperty(_)&&A[_]!==x[_]&&(a||(a={}),a[_]=x[_])}else a||(m||(m=[]),m.push(B,a)),a=x;else B==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,A=A?A.__html:void 0,x!=null&&A!==x&&(m=m||[]).push(B,x)):B==="children"?typeof x!="string"&&typeof x!="number"||(m=m||[]).push(B,""+x):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(o.hasOwnProperty(B)?(x!=null&&B==="onScroll"&&He("scroll",n),m||A===x||(m=[])):(m=m||[]).push(B,x))}a&&(m=m||[]).push("style",a);var B=m;(i.updateQueue=B)&&(i.flags|=4)}},Gp=function(n,i,a,c){a!==c&&(i.flags|=4)};function ta(n,i){if(!Qe)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Vt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function d0(n,i,a){var c=i.pendingProps;switch(kc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(i),null;case 1:return Ht(i.type)&&yl(),Vt(i),null;case 3:return c=i.stateNode,Us(),We(qt),We(Nt),$c(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Tl(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Dn!==null&&(_h(Dn),Dn=null))),lh(n,i),Vt(i),null;case 5:zc(i);var d=Fi(Yo.current);if(a=i.type,n!==null&&i.stateNode!=null)Kp(n,i,a,c,d),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return Vt(i),null}if(n=Fi(Kn.current),Tl(i)){c=i.stateNode,a=i.type;var m=i.memoizedProps;switch(c[Wn]=i,c[Ho]=m,n=(i.mode&1)!==0,a){case"dialog":He("cancel",c),He("close",c);break;case"iframe":case"object":case"embed":He("load",c);break;case"video":case"audio":for(d=0;d<Bo.length;d++)He(Bo[d],c);break;case"source":He("error",c);break;case"img":case"image":case"link":He("error",c),He("load",c);break;case"details":He("toggle",c);break;case"input":ts(c,m),He("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},He("invalid",c);break;case"textarea":rs(c,m),He("invalid",c)}Eo(a,m),d=null;for(var _ in m)if(m.hasOwnProperty(_)){var A=m[_];_==="children"?typeof A=="string"?c.textContent!==A&&(m.suppressHydrationWarning!==!0&&pl(c.textContent,A,n),d=["children",A]):typeof A=="number"&&c.textContent!==""+A&&(m.suppressHydrationWarning!==!0&&pl(c.textContent,A,n),d=["children",""+A]):o.hasOwnProperty(_)&&A!=null&&_==="onScroll"&&He("scroll",c)}switch(a){case"input":rr(c),Ua(c,m,!0);break;case"textarea":rr(c),go(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=ml)}c=d,i.updateQueue=c,c!==null&&(i.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=ut(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=_.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=_.createElement(a,{is:c.is}):(n=_.createElement(a),a==="select"&&(_=n,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):n=_.createElementNS(n,a),n[Wn]=i,n[Ho]=c,Wp(n,i,!1,!1),i.stateNode=n;e:{switch(_=To(a,c),a){case"dialog":He("cancel",n),He("close",n),d=c;break;case"iframe":case"object":case"embed":He("load",n),d=c;break;case"video":case"audio":for(d=0;d<Bo.length;d++)He(Bo[d],n);d=c;break;case"source":He("error",n),d=c;break;case"img":case"image":case"link":He("error",n),He("load",n),d=c;break;case"details":He("toggle",n),d=c;break;case"input":ts(n,c),d=gi(n,c),He("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=se({},c,{value:void 0}),He("invalid",n);break;case"textarea":rs(n,c),d=mo(n,c),He("invalid",n);break;default:d=c}Eo(a,d),A=d;for(m in A)if(A.hasOwnProperty(m)){var x=A[m];m==="style"?_o(n,x):m==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&yo(n,x)):m==="children"?typeof x=="string"?(a!=="textarea"||x!=="")&&kr(n,x):typeof x=="number"&&kr(n,""+x):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?x!=null&&m==="onScroll"&&He("scroll",n):x!=null&&re(n,m,x,_))}switch(a){case"input":rr(n),Ua(n,c,!1);break;case"textarea":rr(n),go(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Fe(c.value));break;case"select":n.multiple=!!c.multiple,m=c.value,m!=null?sr(n,!!c.multiple,m,!1):c.defaultValue!=null&&sr(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=ml)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Vt(i),null;case 6:if(n&&i.stateNode!=null)Gp(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(a=Fi(Yo.current),Fi(Kn.current),Tl(i)){if(c=i.stateNode,a=i.memoizedProps,c[Wn]=i,(m=c.nodeValue!==a)&&(n=sn,n!==null))switch(n.tag){case 3:pl(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&pl(c.nodeValue,a,(n.mode&1)!==0)}m&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Wn]=i,i.stateNode=c}return Vt(i),null;case 13:if(We(Ye),c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Qe&&on!==null&&i.mode&1&&!(i.flags&128))Xf(),Os(),i.flags|=98560,m=!1;else if(m=Tl(i),c!==null&&c.dehydrated!==null){if(n===null){if(!m)throw Error(t(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[Wn]=i}else Os(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;Vt(i),m=!1}else Dn!==null&&(_h(Dn),Dn=null),m=!0;if(!m)return i.flags&65536?i:null}return i.flags&128?(i.lanes=a,i):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(i.child.flags|=8192,i.mode&1&&(n===null||Ye.current&1?ft===0&&(ft=3):Th())),i.updateQueue!==null&&(i.flags|=4),Vt(i),null);case 4:return Us(),lh(n,i),n===null&&$o(i.stateNode.containerInfo),Vt(i),null;case 10:return Oc(i.type._context),Vt(i),null;case 17:return Ht(i.type)&&yl(),Vt(i),null;case 19:if(We(Ye),m=i.memoizedState,m===null)return Vt(i),null;if(c=(i.flags&128)!==0,_=m.rendering,_===null)if(c)ta(m,!1);else{if(ft!==0||n!==null&&n.flags&128)for(n=i.child;n!==null;){if(_=Pl(n),_!==null){for(i.flags|=128,ta(m,!1),c=_.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)m=a,n=c,m.flags&=14680066,_=m.alternate,_===null?(m.childLanes=0,m.lanes=n,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=_.childLanes,m.lanes=_.lanes,m.child=_.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=_.memoizedProps,m.memoizedState=_.memoizedState,m.updateQueue=_.updateQueue,m.type=_.type,n=_.dependencies,m.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return qe(Ye,Ye.current&1|2),i.child}n=n.sibling}m.tail!==null&&$e()>qs&&(i.flags|=128,c=!0,ta(m,!1),i.lanes=4194304)}else{if(!c)if(n=Pl(_),n!==null){if(i.flags|=128,c=!0,a=n.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),ta(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!Qe)return Vt(i),null}else 2*$e()-m.renderingStartTime>qs&&a!==1073741824&&(i.flags|=128,c=!0,ta(m,!1),i.lanes=4194304);m.isBackwards?(_.sibling=i.child,i.child=_):(a=m.last,a!==null?a.sibling=_:i.child=_,m.last=_)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=$e(),i.sibling=null,a=Ye.current,qe(Ye,c?a&1|2:a&1),i):(Vt(i),null);case 22:case 23:return Eh(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&i.mode&1?an&1073741824&&(Vt(i),i.subtreeFlags&6&&(i.flags|=8192)):Vt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function f0(n,i){switch(kc(i),i.tag){case 1:return Ht(i.type)&&yl(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Us(),We(qt),We(Nt),$c(),n=i.flags,n&65536&&!(n&128)?(i.flags=n&-65537|128,i):null;case 5:return zc(i),null;case 13:if(We(Ye),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Os()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return We(Ye),null;case 4:return Us(),null;case 10:return Oc(i.type._context),null;case 22:case 23:return Eh(),null;case 24:return null;default:return null}}var Fl=!1,Lt=!1,p0=typeof WeakSet=="function"?WeakSet:Set,le=null;function Bs(n,i){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){et(n,i,c)}else a.current=null}function uh(n,i,a){try{a()}catch(c){et(n,i,c)}}var Qp=!1;function m0(n,i){if(Ec=jr,n=Rf(),fc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,A=-1,x=-1,B=0,X=0,Z=n,Y=null;t:for(;;){for(var ie;Z!==a||d!==0&&Z.nodeType!==3||(A=_+d),Z!==m||c!==0&&Z.nodeType!==3||(x=_+c),Z.nodeType===3&&(_+=Z.nodeValue.length),(ie=Z.firstChild)!==null;)Y=Z,Z=ie;for(;;){if(Z===n)break t;if(Y===a&&++B===d&&(A=_),Y===m&&++X===c&&(x=_),(ie=Z.nextSibling)!==null)break;Z=Y,Y=Z.parentNode}Z=ie}a=A===-1||x===-1?null:{start:A,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(Tc={focusedElem:n,selectionRange:a},jr=!1,le=i;le!==null;)if(i=le,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,le=n;else for(;le!==null;){i=le;try{var ue=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var ce=ue.memoizedProps,rt=ue.memoizedState,b=i.stateNode,D=b.getSnapshotBeforeUpdate(i.elementType===i.type?ce:Vn(i.type,ce),rt);b.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var U=i.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ee){et(i,i.return,ee)}if(n=i.sibling,n!==null){n.return=i.return,le=n;break}le=i.return}return ue=Qp,Qp=!1,ue}function na(n,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var m=d.destroy;d.destroy=void 0,m!==void 0&&uh(i,a,m)}d=d.next}while(d!==c)}}function jl(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function ch(n){var i=n.ref;if(i!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof i=="function"?i(n):i.current=n}}function Yp(n){var i=n.alternate;i!==null&&(n.alternate=null,Yp(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Wn],delete i[Ho],delete i[Cc],delete i[X_],delete i[J_])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Xp(n){return n.tag===5||n.tag===3||n.tag===4}function Jp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Xp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function hh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ml));else if(c!==4&&(n=n.child,n!==null))for(hh(n,i,a),n=n.sibling;n!==null;)hh(n,i,a),n=n.sibling}function dh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(dh(n,i,a),n=n.sibling;n!==null;)dh(n,i,a),n=n.sibling}var St=null,Ln=!1;function Kr(n,i,a){for(a=a.child;a!==null;)Zp(n,i,a),a=a.sibling}function Zp(n,i,a){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Ai,a)}catch{}switch(a.tag){case 5:Lt||Bs(a,i);case 6:var c=St,d=Ln;St=null,Kr(n,i,a),St=c,Ln=d,St!==null&&(Ln?(n=St,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):St.removeChild(a.stateNode));break;case 18:St!==null&&(Ln?(n=St,a=a.stateNode,n.nodeType===8?Ac(n.parentNode,a):n.nodeType===1&&Ac(n,a),xn(n)):Ac(St,a.stateNode));break;case 4:c=St,d=Ln,St=a.stateNode.containerInfo,Ln=!0,Kr(n,i,a),St=c,Ln=d;break;case 0:case 11:case 14:case 15:if(!Lt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var m=d,_=m.destroy;m=m.tag,_!==void 0&&(m&2||m&4)&&uh(a,i,_),d=d.next}while(d!==c)}Kr(n,i,a);break;case 1:if(!Lt&&(Bs(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(A){et(a,i,A)}Kr(n,i,a);break;case 21:Kr(n,i,a);break;case 22:a.mode&1?(Lt=(c=Lt)||a.memoizedState!==null,Kr(n,i,a),Lt=c):Kr(n,i,a);break;default:Kr(n,i,a)}}function em(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new p0),i.forEach(function(c){var d=S0.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}}function Mn(n,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var m=n,_=i,A=_;e:for(;A!==null;){switch(A.tag){case 5:St=A.stateNode,Ln=!1;break e;case 3:St=A.stateNode.containerInfo,Ln=!0;break e;case 4:St=A.stateNode.containerInfo,Ln=!0;break e}A=A.return}if(St===null)throw Error(t(160));Zp(m,_,d),St=null,Ln=!1;var x=d.alternate;x!==null&&(x.return=null),d.return=null}catch(B){et(d,i,B)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)tm(i,n),i=i.sibling}function tm(n,i){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Mn(i,n),Qn(n),c&4){try{na(3,n,n.return),jl(3,n)}catch(ce){et(n,n.return,ce)}try{na(5,n,n.return)}catch(ce){et(n,n.return,ce)}}break;case 1:Mn(i,n),Qn(n),c&512&&a!==null&&Bs(a,a.return);break;case 5:if(Mn(i,n),Qn(n),c&512&&a!==null&&Bs(a,a.return),n.flags&32){var d=n.stateNode;try{kr(d,"")}catch(ce){et(n,n.return,ce)}}if(c&4&&(d=n.stateNode,d!=null)){var m=n.memoizedProps,_=a!==null?a.memoizedProps:m,A=n.type,x=n.updateQueue;if(n.updateQueue=null,x!==null)try{A==="input"&&m.type==="radio"&&m.name!=null&&fo(d,m),To(A,_);var B=To(A,m);for(_=0;_<x.length;_+=2){var X=x[_],Z=x[_+1];X==="style"?_o(d,Z):X==="dangerouslySetInnerHTML"?yo(d,Z):X==="children"?kr(d,Z):re(d,X,Z,B)}switch(A){case"input":po(d,m);break;case"textarea":is(d,m);break;case"select":var Y=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!m.multiple;var ie=m.value;ie!=null?sr(d,!!m.multiple,ie,!1):Y!==!!m.multiple&&(m.defaultValue!=null?sr(d,!!m.multiple,m.defaultValue,!0):sr(d,!!m.multiple,m.multiple?[]:"",!1))}d[Ho]=m}catch(ce){et(n,n.return,ce)}}break;case 6:if(Mn(i,n),Qn(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,m=n.memoizedProps;try{d.nodeValue=m}catch(ce){et(n,n.return,ce)}}break;case 3:if(Mn(i,n),Qn(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{xn(i.containerInfo)}catch(ce){et(n,n.return,ce)}break;case 4:Mn(i,n),Qn(n);break;case 13:Mn(i,n),Qn(n),d=n.child,d.flags&8192&&(m=d.memoizedState!==null,d.stateNode.isHidden=m,!m||d.alternate!==null&&d.alternate.memoizedState!==null||(mh=$e())),c&4&&em(n);break;case 22:if(X=a!==null&&a.memoizedState!==null,n.mode&1?(Lt=(B=Lt)||X,Mn(i,n),Lt=B):Mn(i,n),Qn(n),c&8192){if(B=n.memoizedState!==null,(n.stateNode.isHidden=B)&&!X&&n.mode&1)for(le=n,X=n.child;X!==null;){for(Z=le=X;le!==null;){switch(Y=le,ie=Y.child,Y.tag){case 0:case 11:case 14:case 15:na(4,Y,Y.return);break;case 1:Bs(Y,Y.return);var ue=Y.stateNode;if(typeof ue.componentWillUnmount=="function"){c=Y,a=Y.return;try{i=c,ue.props=i.memoizedProps,ue.state=i.memoizedState,ue.componentWillUnmount()}catch(ce){et(c,a,ce)}}break;case 5:Bs(Y,Y.return);break;case 22:if(Y.memoizedState!==null){im(Z);continue}}ie!==null?(ie.return=Y,le=ie):im(Z)}X=X.sibling}e:for(X=null,Z=n;;){if(Z.tag===5){if(X===null){X=Z;try{d=Z.stateNode,B?(m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(A=Z.stateNode,x=Z.memoizedProps.style,_=x!=null&&x.hasOwnProperty("display")?x.display:null,A.style.display=vo("display",_))}catch(ce){et(n,n.return,ce)}}}else if(Z.tag===6){if(X===null)try{Z.stateNode.nodeValue=B?"":Z.memoizedProps}catch(ce){et(n,n.return,ce)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===n)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===n)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===n)break e;X===Z&&(X=null),Z=Z.return}X===Z&&(X=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:Mn(i,n),Qn(n),c&4&&em(n);break;case 21:break;default:Mn(i,n),Qn(n)}}function Qn(n){var i=n.flags;if(i&2){try{e:{for(var a=n.return;a!==null;){if(Xp(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(kr(d,""),c.flags&=-33);var m=Jp(n);dh(n,m,d);break;case 3:case 4:var _=c.stateNode.containerInfo,A=Jp(n);hh(n,A,_);break;default:throw Error(t(161))}}catch(x){et(n,n.return,x)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function g0(n,i,a){le=n,nm(n)}function nm(n,i,a){for(var c=(n.mode&1)!==0;le!==null;){var d=le,m=d.child;if(d.tag===22&&c){var _=d.memoizedState!==null||Fl;if(!_){var A=d.alternate,x=A!==null&&A.memoizedState!==null||Lt;A=Fl;var B=Lt;if(Fl=_,(Lt=x)&&!B)for(le=d;le!==null;)_=le,x=_.child,_.tag===22&&_.memoizedState!==null?sm(d):x!==null?(x.return=_,le=x):sm(d);for(;m!==null;)le=m,nm(m),m=m.sibling;le=d,Fl=A,Lt=B}rm(n)}else d.subtreeFlags&8772&&m!==null?(m.return=d,le=m):rm(n)}}function rm(n){for(;le!==null;){var i=le;if(i.flags&8772){var a=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:Lt||jl(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Lt)if(a===null)c.componentDidMount();else{var d=i.elementType===i.type?a.memoizedProps:Vn(i.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=i.updateQueue;m!==null&&ip(i,m,c);break;case 3:var _=i.updateQueue;if(_!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}ip(i,_,a)}break;case 5:var A=i.stateNode;if(a===null&&i.flags&4){a=A;var x=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&a.focus();break;case"img":x.src&&(a.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var B=i.alternate;if(B!==null){var X=B.memoizedState;if(X!==null){var Z=X.dehydrated;Z!==null&&xn(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Lt||i.flags&512&&ch(i)}catch(Y){et(i,i.return,Y)}}if(i===n){le=null;break}if(a=i.sibling,a!==null){a.return=i.return,le=a;break}le=i.return}}function im(n){for(;le!==null;){var i=le;if(i===n){le=null;break}var a=i.sibling;if(a!==null){a.return=i.return,le=a;break}le=i.return}}function sm(n){for(;le!==null;){var i=le;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{jl(4,i)}catch(x){et(i,a,x)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var d=i.return;try{c.componentDidMount()}catch(x){et(i,d,x)}}var m=i.return;try{ch(i)}catch(x){et(i,m,x)}break;case 5:var _=i.return;try{ch(i)}catch(x){et(i,_,x)}}}catch(x){et(i,i.return,x)}if(i===n){le=null;break}var A=i.sibling;if(A!==null){A.return=i.return,le=A;break}le=i.return}}var y0=Math.ceil,bl=fe.ReactCurrentDispatcher,fh=fe.ReactCurrentOwner,_n=fe.ReactCurrentBatchConfig,Le=0,_t=null,ot=null,At=0,an=0,$s=Br(0),ft=0,ra=null,bi=0,Ul=0,ph=0,ia=null,Kt=null,mh=0,qs=1/0,wr=null,zl=!1,gh=null,Gr=null,Bl=!1,Qr=null,$l=0,sa=0,yh=null,ql=-1,Hl=0;function zt(){return Le&6?$e():ql!==-1?ql:ql=$e()}function Yr(n){return n.mode&1?Le&2&&At!==0?At&-At:e0.transition!==null?(Hl===0&&(Hl=Ri()),Hl):(n=Pe,n!==0||(n=window.event,n=n===void 0?16:Vo(n.type)),n):1}function On(n,i,a,c){if(50<sa)throw sa=0,yh=null,Error(t(185));Lr(n,a,c),(!(Le&2)||n!==_t)&&(n===_t&&(!(Le&2)&&(Ul|=a),ft===4&&Xr(n,At)),Gt(n,c),a===1&&Le===0&&!(i.mode&1)&&(qs=$e()+500,_l&&qr()))}function Gt(n,i){var a=n.callbackNode;lr(n,i);var c=Ci(n,n===_t?At:0);if(c===0)a!==null&&Po(a),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(a!=null&&Po(a),i===1)n.tag===0?Z_(am.bind(null,n)):Wf(am.bind(null,n)),Q_(function(){!(Le&6)&&qr()}),a=null;else{switch(Or(c)){case 1:a=Si;break;case 4:a=Nr;break;case 16:a=dn;break;case 536870912:a=Ha;break;default:a=dn}a=mm(a,om.bind(null,n))}n.callbackPriority=i,n.callbackNode=a}}function om(n,i){if(ql=-1,Hl=0,Le&6)throw Error(t(327));var a=n.callbackNode;if(Hs()&&n.callbackNode!==a)return null;var c=Ci(n,n===_t?At:0);if(c===0)return null;if(c&30||c&n.expiredLanes||i)i=Wl(n,c);else{i=c;var d=Le;Le|=2;var m=um();(_t!==n||At!==i)&&(wr=null,qs=$e()+500,zi(n,i));do try{w0();break}catch(A){lm(n,A)}while(!0);Mc(),bl.current=m,Le=d,ot!==null?i=0:(_t=null,At=0,i=ft)}if(i!==0){if(i===2&&(d=tn(n),d!==0&&(c=d,i=vh(n,d))),i===1)throw a=ra,zi(n,0),Xr(n,c),Gt(n,$e()),a;if(i===6)Xr(n,c);else{if(d=n.current.alternate,!(c&30)&&!v0(d)&&(i=Wl(n,c),i===2&&(m=tn(n),m!==0&&(c=m,i=vh(n,m))),i===1))throw a=ra,zi(n,0),Xr(n,c),Gt(n,$e()),a;switch(n.finishedWork=d,n.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:Bi(n,Kt,wr);break;case 3:if(Xr(n,c),(c&130023424)===c&&(i=mh+500-$e(),10<i)){if(Ci(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){zt(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=Sc(Bi.bind(null,n,Kt,wr),i);break}Bi(n,Kt,wr);break;case 4:if(Xr(n,c),(c&4194240)===c)break;for(i=n.eventTimes,d=-1;0<c;){var _=31-jt(c);m=1<<_,_=i[_],_>d&&(d=_),c&=~m}if(c=d,c=$e()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*y0(c/1960))-c,10<c){n.timeoutHandle=Sc(Bi.bind(null,n,Kt,wr),c);break}Bi(n,Kt,wr);break;case 5:Bi(n,Kt,wr);break;default:throw Error(t(329))}}}return Gt(n,$e()),n.callbackNode===a?om.bind(null,n):null}function vh(n,i){var a=ia;return n.current.memoizedState.isDehydrated&&(zi(n,i).flags|=256),n=Wl(n,i),n!==2&&(i=Kt,Kt=a,i!==null&&_h(i)),n}function _h(n){Kt===null?Kt=n:Kt.push.apply(Kt,n)}function v0(n){for(var i=n;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],m=d.getSnapshot;d=d.value;try{if(!Nn(m(),d))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Xr(n,i){for(i&=~ph,i&=~Ul,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var a=31-jt(i),c=1<<a;n[a]=-1,i&=~c}}function am(n){if(Le&6)throw Error(t(327));Hs();var i=Ci(n,0);if(!(i&1))return Gt(n,$e()),null;var a=Wl(n,i);if(n.tag!==0&&a===2){var c=tn(n);c!==0&&(i=c,a=vh(n,c))}if(a===1)throw a=ra,zi(n,0),Xr(n,i),Gt(n,$e()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,Bi(n,Kt,wr),Gt(n,$e()),null}function wh(n,i){var a=Le;Le|=1;try{return n(i)}finally{Le=a,Le===0&&(qs=$e()+500,_l&&qr())}}function Ui(n){Qr!==null&&Qr.tag===0&&!(Le&6)&&Hs();var i=Le;Le|=1;var a=_n.transition,c=Pe;try{if(_n.transition=null,Pe=1,n)return n()}finally{Pe=c,_n.transition=a,Le=i,!(Le&6)&&qr()}}function Eh(){an=$s.current,We($s)}function zi(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,G_(a)),ot!==null)for(a=ot.return;a!==null;){var c=a;switch(kc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&yl();break;case 3:Us(),We(qt),We(Nt),$c();break;case 5:zc(c);break;case 4:Us();break;case 13:We(Ye);break;case 19:We(Ye);break;case 10:Oc(c.type._context);break;case 22:case 23:Eh()}a=a.return}if(_t=n,ot=n=Jr(n.current,null),At=an=i,ft=0,ra=null,ph=Ul=bi=0,Kt=ia=null,Oi!==null){for(i=0;i<Oi.length;i++)if(a=Oi[i],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,m=a.pending;if(m!==null){var _=m.next;m.next=d,c.next=_}a.pending=c}Oi=null}return n}function lm(n,i){do{var a=ot;try{if(Mc(),xl.current=Vl,kl){for(var c=Xe.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}kl=!1}if(ji=0,vt=dt=Xe=null,Xo=!1,Jo=0,fh.current=null,a===null||a.return===null){ft=1,ra=i,ot=null;break}e:{var m=n,_=a.return,A=a,x=i;if(i=At,A.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var B=x,X=A,Z=X.tag;if(!(X.mode&1)&&(Z===0||Z===11||Z===15)){var Y=X.alternate;Y?(X.updateQueue=Y.updateQueue,X.memoizedState=Y.memoizedState,X.lanes=Y.lanes):(X.updateQueue=null,X.memoizedState=null)}var ie=Vp(_);if(ie!==null){ie.flags&=-257,Lp(ie,_,A,m,i),ie.mode&1&&Dp(m,B,i),i=ie,x=B;var ue=i.updateQueue;if(ue===null){var ce=new Set;ce.add(x),i.updateQueue=ce}else ue.add(x);break e}else{if(!(i&1)){Dp(m,B,i),Th();break e}x=Error(t(426))}}else if(Qe&&A.mode&1){var rt=Vp(_);if(rt!==null){!(rt.flags&65536)&&(rt.flags|=256),Lp(rt,_,A,m,i),Vc(zs(x,A));break e}}m=x=zs(x,A),ft!==4&&(ft=2),ia===null?ia=[m]:ia.push(m),m=_;do{switch(m.tag){case 3:m.flags|=65536,i&=-i,m.lanes|=i;var b=kp(m,x,i);rp(m,b);break e;case 1:A=x;var D=m.type,U=m.stateNode;if(!(m.flags&128)&&(typeof D.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Gr===null||!Gr.has(U)))){m.flags|=65536,i&=-i,m.lanes|=i;var ee=Np(m,A,i);rp(m,ee);break e}}m=m.return}while(m!==null)}hm(a)}catch(he){i=he,ot===a&&a!==null&&(ot=a=a.return);continue}break}while(!0)}function um(){var n=bl.current;return bl.current=Vl,n===null?Vl:n}function Th(){(ft===0||ft===3||ft===2)&&(ft=4),_t===null||!(bi&268435455)&&!(Ul&268435455)||Xr(_t,At)}function Wl(n,i){var a=Le;Le|=2;var c=um();(_t!==n||At!==i)&&(wr=null,zi(n,i));do try{_0();break}catch(d){lm(n,d)}while(!0);if(Mc(),Le=a,bl.current=c,ot!==null)throw Error(t(261));return _t=null,At=0,ft}function _0(){for(;ot!==null;)cm(ot)}function w0(){for(;ot!==null&&!$a();)cm(ot)}function cm(n){var i=pm(n.alternate,n,an);n.memoizedProps=n.pendingProps,i===null?hm(n):ot=i,fh.current=null}function hm(n){var i=n;do{var a=i.alternate;if(n=i.return,i.flags&32768){if(a=f0(a,i),a!==null){a.flags&=32767,ot=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ft=6,ot=null;return}}else if(a=d0(a,i,an),a!==null){ot=a;return}if(i=i.sibling,i!==null){ot=i;return}ot=i=n}while(i!==null);ft===0&&(ft=5)}function Bi(n,i,a){var c=Pe,d=_n.transition;try{_n.transition=null,Pe=1,E0(n,i,a,c)}finally{_n.transition=d,Pe=c}return null}function E0(n,i,a,c){do Hs();while(Qr!==null);if(Le&6)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var m=a.lanes|a.childLanes;if(ze(n,m),n===_t&&(ot=_t=null,At=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Bl||(Bl=!0,mm(dn,function(){return Hs(),null})),m=(a.flags&15990)!==0,a.subtreeFlags&15990||m){m=_n.transition,_n.transition=null;var _=Pe;Pe=1;var A=Le;Le|=4,fh.current=null,m0(n,a),tm(a,n),z_(Tc),jr=!!Ec,Tc=Ec=null,n.current=a,g0(a),sc(),Le=A,Pe=_,_n.transition=m}else n.current=a;if(Bl&&(Bl=!1,Qr=n,$l=d),m=n.pendingLanes,m===0&&(Gr=null),Wa(a.stateNode),Gt(n,$e()),i!==null)for(c=n.onRecoverableError,a=0;a<i.length;a++)d=i[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(zl)throw zl=!1,n=gh,gh=null,n;return $l&1&&n.tag!==0&&Hs(),m=n.pendingLanes,m&1?n===yh?sa++:(sa=0,yh=n):sa=0,qr(),null}function Hs(){if(Qr!==null){var n=Or($l),i=_n.transition,a=Pe;try{if(_n.transition=null,Pe=16>n?16:n,Qr===null)var c=!1;else{if(n=Qr,Qr=null,$l=0,Le&6)throw Error(t(331));var d=Le;for(Le|=4,le=n.current;le!==null;){var m=le,_=m.child;if(le.flags&16){var A=m.deletions;if(A!==null){for(var x=0;x<A.length;x++){var B=A[x];for(le=B;le!==null;){var X=le;switch(X.tag){case 0:case 11:case 15:na(8,X,m)}var Z=X.child;if(Z!==null)Z.return=X,le=Z;else for(;le!==null;){X=le;var Y=X.sibling,ie=X.return;if(Yp(X),X===B){le=null;break}if(Y!==null){Y.return=ie,le=Y;break}le=ie}}}var ue=m.alternate;if(ue!==null){var ce=ue.child;if(ce!==null){ue.child=null;do{var rt=ce.sibling;ce.sibling=null,ce=rt}while(ce!==null)}}le=m}}if(m.subtreeFlags&2064&&_!==null)_.return=m,le=_;else e:for(;le!==null;){if(m=le,m.flags&2048)switch(m.tag){case 0:case 11:case 15:na(9,m,m.return)}var b=m.sibling;if(b!==null){b.return=m.return,le=b;break e}le=m.return}}var D=n.current;for(le=D;le!==null;){_=le;var U=_.child;if(_.subtreeFlags&2064&&U!==null)U.return=_,le=U;else e:for(_=D;le!==null;){if(A=le,A.flags&2048)try{switch(A.tag){case 0:case 11:case 15:jl(9,A)}}catch(he){et(A,A.return,he)}if(A===_){le=null;break e}var ee=A.sibling;if(ee!==null){ee.return=A.return,le=ee;break e}le=A.return}}if(Le=d,qr(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Ai,n)}catch{}c=!0}return c}finally{Pe=a,_n.transition=i}}return!1}function dm(n,i,a){i=zs(a,i),i=kp(n,i,1),n=Wr(n,i,1),i=zt(),n!==null&&(Lr(n,1,i),Gt(n,i))}function et(n,i,a){if(n.tag===3)dm(n,n,a);else for(;i!==null;){if(i.tag===3){dm(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Gr===null||!Gr.has(c))){n=zs(a,n),n=Np(i,n,1),i=Wr(i,n,1),n=zt(),i!==null&&(Lr(i,1,n),Gt(i,n));break}}i=i.return}}function T0(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),i=zt(),n.pingedLanes|=n.suspendedLanes&a,_t===n&&(At&a)===a&&(ft===4||ft===3&&(At&130023424)===At&&500>$e()-mh?zi(n,0):ph|=a),Gt(n,i)}function fm(n,i){i===0&&(n.mode&1?(i=ps,ps<<=1,!(ps&130023424)&&(ps=4194304)):i=1);var a=zt();n=yr(n,i),n!==null&&(Lr(n,i,a),Gt(n,a))}function I0(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),fm(n,a)}function S0(n,i){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),fm(n,a)}var pm;pm=function(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps||qt.current)Wt=!0;else{if(!(n.lanes&a)&&!(i.flags&128))return Wt=!1,h0(n,i,a);Wt=!!(n.flags&131072)}else Wt=!1,Qe&&i.flags&1048576&&Kf(i,El,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;Ol(n,i),n=i.pendingProps;var d=Vs(i,Nt.current);bs(i,a),d=Wc(null,i,c,n,d,a);var m=Kc();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Ht(c)?(m=!0,vl(i)):m=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,bc(i),d.updater=Ll,i.stateNode=d,d._reactInternals=i,Zc(i,c,n,a),i=rh(null,i,c,!0,m,a)):(i.tag=0,Qe&&m&&xc(i),Ut(null,i,d,a),i=i.child),i;case 16:c=i.elementType;e:{switch(Ol(n,i),n=i.pendingProps,d=c._init,c=d(c._payload),i.type=c,d=i.tag=C0(c),n=Vn(c,n),d){case 0:i=nh(null,i,c,n,a);break e;case 1:i=Up(null,i,c,n,a);break e;case 11:i=Mp(null,i,c,n,a);break e;case 14:i=Op(null,i,c,Vn(c.type,n),a);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Vn(c,d),nh(n,i,c,d,a);case 1:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Vn(c,d),Up(n,i,c,d,a);case 3:e:{if(zp(i),n===null)throw Error(t(387));c=i.pendingProps,m=i.memoizedState,d=m.element,np(n,i),Rl(i,c,null,a);var _=i.memoizedState;if(c=_.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){d=zs(Error(t(423)),i),i=Bp(n,i,c,a,d);break e}else if(c!==d){d=zs(Error(t(424)),i),i=Bp(n,i,c,a,d);break e}else for(on=zr(i.stateNode.containerInfo.firstChild),sn=i,Qe=!0,Dn=null,a=ep(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Os(),c===d){i=_r(n,i,a);break e}Ut(n,i,c,a)}i=i.child}return i;case 5:return sp(i),n===null&&Dc(i),c=i.type,d=i.pendingProps,m=n!==null?n.memoizedProps:null,_=d.children,Ic(c,d)?_=null:m!==null&&Ic(c,m)&&(i.flags|=32),bp(n,i),Ut(n,i,_,a),i.child;case 6:return n===null&&Dc(i),null;case 13:return $p(n,i,a);case 4:return Uc(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=Fs(i,null,c,a):Ut(n,i,c,a),i.child;case 11:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Vn(c,d),Mp(n,i,c,d,a);case 7:return Ut(n,i,i.pendingProps,a),i.child;case 8:return Ut(n,i,i.pendingProps.children,a),i.child;case 12:return Ut(n,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,d=i.pendingProps,m=i.memoizedProps,_=d.value,qe(Sl,c._currentValue),c._currentValue=_,m!==null)if(Nn(m.value,_)){if(m.children===d.children&&!qt.current){i=_r(n,i,a);break e}}else for(m=i.child,m!==null&&(m.return=i);m!==null;){var A=m.dependencies;if(A!==null){_=m.child;for(var x=A.firstContext;x!==null;){if(x.context===c){if(m.tag===1){x=vr(-1,a&-a),x.tag=2;var B=m.updateQueue;if(B!==null){B=B.shared;var X=B.pending;X===null?x.next=x:(x.next=X.next,X.next=x),B.pending=x}}m.lanes|=a,x=m.alternate,x!==null&&(x.lanes|=a),Fc(m.return,a,i),A.lanes|=a;break}x=x.next}}else if(m.tag===10)_=m.type===i.type?null:m.child;else if(m.tag===18){if(_=m.return,_===null)throw Error(t(341));_.lanes|=a,A=_.alternate,A!==null&&(A.lanes|=a),Fc(_,a,i),_=m.sibling}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===i){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}Ut(n,i,d.children,a),i=i.child}return i;case 9:return d=i.type,c=i.pendingProps.children,bs(i,a),d=yn(d),c=c(d),i.flags|=1,Ut(n,i,c,a),i.child;case 14:return c=i.type,d=Vn(c,i.pendingProps),d=Vn(c.type,d),Op(n,i,c,d,a);case 15:return Fp(n,i,i.type,i.pendingProps,a);case 17:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Vn(c,d),Ol(n,i),i.tag=1,Ht(c)?(n=!0,vl(i)):n=!1,bs(i,a),Pp(i,c,d),Zc(i,c,d,a),rh(null,i,c,!0,n,a);case 19:return Hp(n,i,a);case 22:return jp(n,i,a)}throw Error(t(156,i.tag))};function mm(n,i){return ds(n,i)}function A0(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(n,i,a,c){return new A0(n,i,a,c)}function Ih(n){return n=n.prototype,!(!n||!n.isReactComponent)}function C0(n){if(typeof n=="function")return Ih(n)?1:0;if(n!=null){if(n=n.$$typeof,n===F)return 11;if(n===xt)return 14}return 2}function Jr(n,i){var a=n.alternate;return a===null?(a=wn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Kl(n,i,a,c,d,m){var _=2;if(c=n,typeof n=="function")Ih(n)&&(_=1);else if(typeof n=="string")_=5;else e:switch(n){case N:return $i(a.children,d,m,i);case S:_=8,d|=8;break;case R:return n=wn(12,a,i,d|2),n.elementType=R,n.lanes=m,n;case P:return n=wn(13,a,i,d),n.elementType=P,n.lanes=m,n;case tt:return n=wn(19,a,i,d),n.elementType=tt,n.lanes=m,n;case Ue:return Gl(a,d,m,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case k:_=10;break e;case L:_=9;break e;case F:_=11;break e;case xt:_=14;break e;case kt:_=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=wn(_,a,i,d),i.elementType=n,i.type=c,i.lanes=m,i}function $i(n,i,a,c){return n=wn(7,n,c,i),n.lanes=a,n}function Gl(n,i,a,c){return n=wn(22,n,c,i),n.elementType=Ue,n.lanes=a,n.stateNode={isHidden:!1},n}function Sh(n,i,a){return n=wn(6,n,null,i),n.lanes=a,n}function Ah(n,i,a){return i=wn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function R0(n,i,a,c,d){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vr(0),this.expirationTimes=Vr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vr(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Ch(n,i,a,c,d,m,_,A,x){return n=new R0(n,i,a,A,x),i===1?(i=1,m===!0&&(i|=8)):i=0,m=wn(3,null,null,i),n.current=m,m.stateNode=n,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},bc(m),n}function P0(n,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Te,key:c==null?null:""+c,children:n,containerInfo:i,implementation:a}}function gm(n){if(!n)return $r;n=n._reactInternals;e:{if(Sn(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Ht(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Ht(a))return qf(n,a,i)}return i}function ym(n,i,a,c,d,m,_,A,x){return n=Ch(a,c,!0,n,d,m,_,A,x),n.context=gm(null),a=n.current,c=zt(),d=Yr(a),m=vr(c,d),m.callback=i??null,Wr(a,m,d),n.current.lanes=d,Lr(n,d,c),Gt(n,c),n}function Ql(n,i,a,c){var d=i.current,m=zt(),_=Yr(d);return a=gm(a),i.context===null?i.context=a:i.pendingContext=a,i=vr(m,_),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=Wr(d,i,_),n!==null&&(On(n,d,_,m),Cl(n,d,_)),_}function Yl(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function vm(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Rh(n,i){vm(n,i),(n=n.alternate)&&vm(n,i)}var _m=typeof reportError=="function"?reportError:function(n){console.error(n)};function Ph(n){this._internalRoot=n}Xl.prototype.render=Ph.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));Ql(n,i,null,null)},Xl.prototype.unmount=Ph.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Ui(function(){Ql(null,n,null,null)}),i[fr]=null}};function Xl(n){this._internalRoot=n}Xl.prototype.unstable_scheduleHydration=function(n){if(n){var i=Xa();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Bn.length&&i!==0&&i<Bn[a].priority;a++);Bn.splice(a,0,n),a===0&&el(n)}};function xh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Jl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function wm(){}function x0(n,i,a,c,d){if(d){if(typeof c=="function"){var m=c;c=function(){var B=Yl(_);m.call(B)}}var _=ym(i,c,n,0,null,!1,!1,"",wm);return n._reactRootContainer=_,n[fr]=_.current,$o(n.nodeType===8?n.parentNode:n),Ui(),_}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var A=c;c=function(){var B=Yl(x);A.call(B)}}var x=Ch(n,0,!1,null,null,!1,!1,"",wm);return n._reactRootContainer=x,n[fr]=x.current,$o(n.nodeType===8?n.parentNode:n),Ui(function(){Ql(i,x,a,c)}),x}function Zl(n,i,a,c,d){var m=a._reactRootContainer;if(m){var _=m;if(typeof d=="function"){var A=d;d=function(){var x=Yl(_);A.call(x)}}Ql(i,_,n,d)}else _=x0(a,i,n,d,c);return Yl(_)}Qa=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var a=Dr(i.pendingLanes);a!==0&&(Mr(i,a|1),Gt(i,$e()),!(Le&6)&&(qs=$e()+500,qr()))}break;case 13:Ui(function(){var c=yr(n,1);if(c!==null){var d=zt();On(c,n,1,d)}}),Rh(n,1)}},ms=function(n){if(n.tag===13){var i=yr(n,134217728);if(i!==null){var a=zt();On(i,n,134217728,a)}Rh(n,134217728)}},Ya=function(n){if(n.tag===13){var i=Yr(n),a=yr(n,i);if(a!==null){var c=zt();On(a,n,i,c)}Rh(n,i)}},Xa=function(){return Pe},Ja=function(n,i){var a=Pe;try{return Pe=n,i()}finally{Pe=a}},os=function(n,i,a){switch(i){case"input":if(po(n,a),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==n&&c.form===n.form){var d=gl(c);if(!d)throw Error(t(90));es(c),po(c,d)}}}break;case"textarea":is(n,a);break;case"select":i=a.value,i!=null&&sr(n,!!a.multiple,i,!1)}},wi=wh,So=Ui;var k0={usingClientEntryPoint:!1,Events:[Wo,Ns,gl,Un,Io,wh]},oa={findFiberByHostInstance:Di,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},N0={bundleType:oa.bundleType,version:oa.version,rendererPackageName:oa.rendererPackageName,rendererConfig:oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fe.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Ro(n),n===null?null:n.stateNode},findFiberByHostInstance:oa.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eu.isDisabled&&eu.supportsFiber)try{Ai=eu.inject(N0),en=eu}catch{}}return Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k0,Qt.createPortal=function(n,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xh(i))throw Error(t(200));return P0(n,i,null,a)},Qt.createRoot=function(n,i){if(!xh(n))throw Error(t(299));var a=!1,c="",d=_m;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=Ch(n,1,!1,null,null,a,!1,c,d),n[fr]=i.current,$o(n.nodeType===8?n.parentNode:n),new Ph(i)},Qt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Ro(i),n=n===null?null:n.stateNode,n},Qt.flushSync=function(n){return Ui(n)},Qt.hydrate=function(n,i,a){if(!Jl(i))throw Error(t(200));return Zl(null,n,i,!0,a)},Qt.hydrateRoot=function(n,i,a){if(!xh(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,m="",_=_m;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),i=ym(i,null,n,1,a??null,d,!1,m,_),n[fr]=i.current,$o(n),c)for(n=0;n<c.length;n++)a=c[n],d=a._getVersion,d=d(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,d]:i.mutableSourceEagerHydrationData.push(a,d);return new Xl(i)},Qt.render=function(n,i,a){if(!Jl(i))throw Error(t(200));return Zl(null,n,i,!1,a)},Qt.unmountComponentAtNode=function(n){if(!Jl(n))throw Error(t(40));return n._reactRootContainer?(Ui(function(){Zl(null,null,n,!1,function(){n._reactRootContainer=null,n[fr]=null})}),!0):!1},Qt.unstable_batchedUpdates=wh,Qt.unstable_renderSubtreeIntoContainer=function(n,i,a,c){if(!Jl(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Zl(n,i,a,!1,c)},Qt.version="18.3.1-next-f1338f8080-20240426",Qt}var Pm;function b0(){if(Pm)return Dh.exports;Pm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Dh.exports=j0(),Dh.exports}var xm;function U0(){if(xm)return tu;xm=1;var r=b0();return tu.createRoot=r.createRoot,tu.hydrateRoot=r.hydrateRoot,tu}var z0=U0(),la={},km;function B0(){if(km)return la;km=1,Object.defineProperty(la,"__esModule",{value:!0}),la.parse=h,la.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function h(I,V){const O=new u,q=I.length;if(q<2)return O;const z=(V==null?void 0:V.decode)||w;let Q=0;do{const J=I.indexOf("=",Q);if(J===-1)break;const re=I.indexOf(";",Q),fe=re===-1?q:re;if(J>fe){Q=I.lastIndexOf(";",J-1)+1;continue}const Ce=f(I,Q,J),Te=g(I,J,Ce),N=I.slice(Ce,Te);if(O[N]===void 0){let S=f(I,J+1,fe),R=g(I,fe,S);const k=z(I.slice(S,R));O[N]=k}Q=fe+1}while(Q<q);return O}function f(I,V,O){do{const q=I.charCodeAt(V);if(q!==32&&q!==9)return V}while(++V<O);return O}function g(I,V,O){for(;V>O;){const q=I.charCodeAt(--V);if(q!==32&&q!==9)return V+1}return O}function y(I,V,O){const q=(O==null?void 0:O.encode)||encodeURIComponent;if(!r.test(I))throw new TypeError(`argument name is invalid: ${I}`);const z=q(V);if(!e.test(z))throw new TypeError(`argument val is invalid: ${V}`);let Q=I+"="+z;if(!O)return Q;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);Q+="; Max-Age="+O.maxAge}if(O.domain){if(!t.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);Q+="; Domain="+O.domain}if(O.path){if(!s.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);Q+="; Path="+O.path}if(O.expires){if(!T(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);Q+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(Q+="; HttpOnly"),O.secure&&(Q+="; Secure"),O.partitioned&&(Q+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return Q}function w(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function T(I){return o.call(I)==="[object Date]"}return la}B0();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Nm="popstate";function $0(r={}){function e(s,o){let{pathname:u,search:h,hash:f}=s.location;return Qh("",{pathname:u,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:wa(o)}return H0(e,t,null,r)}function Je(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function er(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function q0(){return Math.random().toString(36).substring(2,10)}function Dm(r,e){return{usr:r.state,key:r.key,idx:e}}function Qh(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?so(e):e,state:t,key:e&&e.key||s||q0()}}function wa({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function so(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function H0(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,f="POP",g=null,y=w();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function w(){return(h.state||{idx:null}).idx}function T(){f="POP";let z=w(),Q=z==null?null:z-y;y=z,g&&g({action:f,location:q.location,delta:Q})}function I(z,Q){f="PUSH";let J=Qh(q.location,z,Q);y=w()+1;let re=Dm(J,y),fe=q.createHref(J);try{h.pushState(re,"",fe)}catch(Ce){if(Ce instanceof DOMException&&Ce.name==="DataCloneError")throw Ce;o.location.assign(fe)}u&&g&&g({action:f,location:q.location,delta:1})}function V(z,Q){f="REPLACE";let J=Qh(q.location,z,Q);y=w();let re=Dm(J,y),fe=q.createHref(J);h.replaceState(re,"",fe),u&&g&&g({action:f,location:q.location,delta:0})}function O(z){let Q=o.location.origin!=="null"?o.location.origin:o.location.href,J=typeof z=="string"?z:wa(z);return J=J.replace(/ $/,"%20"),Je(Q,`No window.location.(origin|href) available to create URL for href: ${J}`),new URL(J,Q)}let q={get action(){return f},get location(){return r(o,h)},listen(z){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Nm,T),g=z,()=>{o.removeEventListener(Nm,T),g=null}},createHref(z){return e(o,z)},createURL:O,encodeLocation(z){let Q=O(z);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:I,replace:V,go(z){return h.go(z)}};return q}function ey(r,e,t="/"){return W0(r,e,t,!1)}function W0(r,e,t,s){let o=typeof e=="string"?so(e):e,u=si(o.pathname||"/",t);if(u==null)return null;let h=ty(r);K0(h);let f=null;for(let g=0;f==null&&g<h.length;++g){let y=iw(u);f=nw(h[g],y,s)}return f}function ty(r,e=[],t=[],s=""){let o=(u,h,f)=>{let g={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(Je(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let y=Er([s,g.relativePath]),w=t.concat(g);u.children&&u.children.length>0&&(Je(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),ty(u.children,e,w,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:ew(y,u.index),routesMeta:w})};return r.forEach((u,h)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))o(u,h);else for(let g of ny(u.path))o(u,h,g)}),e}function ny(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=ny(s.join("/")),f=[];return f.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&f.push(...h),f.map(g=>r.startsWith("/")&&g===""?"/":g)}function K0(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:tw(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var G0=/^:[\w-]+$/,Q0=3,Y0=2,X0=1,J0=10,Z0=-2,Vm=r=>r==="*";function ew(r,e){let t=r.split("/"),s=t.length;return t.some(Vm)&&(s+=Z0),e&&(s+=Y0),t.filter(o=>!Vm(o)).reduce((o,u)=>o+(G0.test(u)?Q0:u===""?X0:J0),s)}function tw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function nw(r,e,t=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let f=0;f<s.length;++f){let g=s[f],y=f===s.length-1,w=u==="/"?e:e.slice(u.length)||"/",T=gu({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},w),I=g.route;if(!T&&y&&t&&!s[s.length-1].route.index&&(T=gu({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},w)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:Er([u,T.pathname]),pathnameBase:lw(Er([u,T.pathnameBase])),route:I}),T.pathnameBase!=="/"&&(u=Er([u,T.pathnameBase]))}return h}function gu(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=rw(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((y,{paramName:w,isOptional:T},I)=>{if(w==="*"){let O=f[I]||"";h=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const V=f[I];return T&&!V?y[w]=void 0:y[w]=(V||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:r}}function rw(r,e=!1,t=!0){er(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,g)=>(s.push({paramName:f,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function iw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return er(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function si(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function sw(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?so(r):r;return{pathname:t?t.startsWith("/")?t:ow(t,e):e,search:uw(s),hash:cw(o)}}function ow(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Mh(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aw(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ry(r){let e=aw(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function iy(r,e,t,s=!1){let o;typeof r=="string"?o=so(r):(o={...r},Je(!o.pathname||!o.pathname.includes("?"),Mh("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),Mh("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),Mh("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,f;if(h==null)f=t;else{let T=e.length-1;if(!s&&h.startsWith("..")){let I=h.split("/");for(;I[0]==="..";)I.shift(),T-=1;o.pathname=I.join("/")}f=T>=0?e[T]:"/"}let g=sw(o,f),y=h&&h!=="/"&&h.endsWith("/"),w=(u||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(y||w)&&(g.pathname+="/"),g}var Er=r=>r.join("/").replace(/\/\/+/g,"/"),lw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),uw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,cw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function hw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var sy=["POST","PUT","PATCH","DELETE"];new Set(sy);var dw=["GET",...sy];new Set(dw);var oo=H.createContext(null);oo.displayName="DataRouter";var Mu=H.createContext(null);Mu.displayName="DataRouterState";var oy=H.createContext({isTransitioning:!1});oy.displayName="ViewTransition";var fw=H.createContext(new Map);fw.displayName="Fetchers";var pw=H.createContext(null);pw.displayName="Await";var nr=H.createContext(null);nr.displayName="Navigation";var Pa=H.createContext(null);Pa.displayName="Location";var Rr=H.createContext({outlet:null,matches:[],isDataRoute:!1});Rr.displayName="Route";var Ed=H.createContext(null);Ed.displayName="RouteError";function mw(r,{relative:e}={}){Je(xa(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=H.useContext(nr),{hash:o,pathname:u,search:h}=ka(r,{relative:e}),f=u;return t!=="/"&&(f=u==="/"?t:Er([t,u])),s.createHref({pathname:f,search:h,hash:o})}function xa(){return H.useContext(Pa)!=null}function Pr(){return Je(xa(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(Pa).location}var ay="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ly(r){H.useContext(nr).static||H.useLayoutEffect(r)}function uy(){let{isDataRoute:r}=H.useContext(Rr);return r?Pw():gw()}function gw(){Je(xa(),"useNavigate() may be used only in the context of a <Router> component.");let r=H.useContext(oo),{basename:e,navigator:t}=H.useContext(nr),{matches:s}=H.useContext(Rr),{pathname:o}=Pr(),u=JSON.stringify(ry(s)),h=H.useRef(!1);return ly(()=>{h.current=!0}),H.useCallback((g,y={})=>{if(er(h.current,ay),!h.current)return;if(typeof g=="number"){t.go(g);return}let w=iy(g,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Er([e,w.pathname])),(y.replace?t.replace:t.push)(w,y.state,y)},[e,t,u,o,r])}H.createContext(null);function ka(r,{relative:e}={}){let{matches:t}=H.useContext(Rr),{pathname:s}=Pr(),o=JSON.stringify(ry(t));return H.useMemo(()=>iy(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function yw(r,e){return cy(r,e)}function cy(r,e,t,s){var Q;Je(xa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=H.useContext(nr),{matches:u}=H.useContext(Rr),h=u[u.length-1],f=h?h.params:{},g=h?h.pathname:"/",y=h?h.pathnameBase:"/",w=h&&h.route;{let J=w&&w.path||"";hy(g,!w||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let T=Pr(),I;if(e){let J=typeof e=="string"?so(e):e;Je(y==="/"||((Q=J.pathname)==null?void 0:Q.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${J.pathname}" was given in the \`location\` prop.`),I=J}else I=T;let V=I.pathname||"/",O=V;if(y!=="/"){let J=y.replace(/^\//,"").split("/");O="/"+V.replace(/^\//,"").split("/").slice(J.length).join("/")}let q=ey(r,{pathname:O});er(w||q!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),er(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=Tw(q&&q.map(J=>Object.assign({},J,{params:Object.assign({},f,J.params),pathname:Er([y,o.encodeLocation?o.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?y:Er([y,o.encodeLocation?o.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),u,t,s);return e&&z?H.createElement(Pa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},z):z}function vw(){let r=Rw(),e=hw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:u},"ErrorBoundary")," or"," ",H.createElement("code",{style:u},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:o},t):null,h)}var _w=H.createElement(vw,null),ww=class extends H.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?H.createElement(Rr.Provider,{value:this.props.routeContext},H.createElement(Ed.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ew({routeContext:r,match:e,children:t}){let s=H.useContext(oo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(Rr.Provider,{value:r},t)}function Tw(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,u=t==null?void 0:t.errors;if(u!=null){let g=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);Je(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,f=-1;if(t)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=g),y.route.id){let{loaderData:w,errors:T}=t,I=y.route.loader&&!w.hasOwnProperty(y.route.id)&&(!T||T[y.route.id]===void 0);if(y.route.lazy||I){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((g,y,w)=>{let T,I=!1,V=null,O=null;t&&(T=u&&y.route.id?u[y.route.id]:void 0,V=y.route.errorElement||_w,h&&(f<0&&w===0?(hy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,O=null):f===w&&(I=!0,O=y.route.hydrateFallbackElement||null)));let q=e.concat(o.slice(0,w+1)),z=()=>{let Q;return T?Q=V:I?Q=O:y.route.Component?Q=H.createElement(y.route.Component,null):y.route.element?Q=y.route.element:Q=g,H.createElement(Ew,{match:y,routeContext:{outlet:g,matches:q,isDataRoute:t!=null},children:Q})};return t&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?H.createElement(ww,{location:t.location,revalidation:t.revalidation,component:V,error:T,children:z(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):z()},null)}function Td(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Iw(r){let e=H.useContext(oo);return Je(e,Td(r)),e}function Sw(r){let e=H.useContext(Mu);return Je(e,Td(r)),e}function Aw(r){let e=H.useContext(Rr);return Je(e,Td(r)),e}function Id(r){let e=Aw(r),t=e.matches[e.matches.length-1];return Je(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function Cw(){return Id("useRouteId")}function Rw(){var s;let r=H.useContext(Ed),e=Sw("useRouteError"),t=Id("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function Pw(){let{router:r}=Iw("useNavigate"),e=Id("useNavigate"),t=H.useRef(!1);return ly(()=>{t.current=!0}),H.useCallback(async(o,u={})=>{er(t.current,ay),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Lm={};function hy(r,e,t){!e&&!Lm[r]&&(Lm[r]=!0,er(!1,t))}H.memo(xw);function xw({routes:r,future:e,state:t}){return cy(r,void 0,t,e)}function qi(r){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kw({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){Je(!xa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),f=H.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=so(t));let{pathname:g="/",search:y="",hash:w="",state:T=null,key:I="default"}=t,V=H.useMemo(()=>{let O=si(g,h);return O==null?null:{location:{pathname:O,search:y,hash:w,state:T,key:I},navigationType:s}},[h,g,y,w,T,I,s]);return er(V!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${w}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:H.createElement(nr.Provider,{value:f},H.createElement(Pa.Provider,{children:e,value:V}))}function Nw({children:r,location:e}){return yw(Yh(r),e)}function Yh(r,e=[]){let t=[];return H.Children.forEach(r,(s,o)=>{if(!H.isValidElement(s))return;let u=[...e,o];if(s.type===H.Fragment){t.push.apply(t,Yh(s.props.children,u));return}Je(s.type===qi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Yh(s.props.children,u)),t.push(h)}),t}var lu="get",uu="application/x-www-form-urlencoded";function Ou(r){return r!=null&&typeof r.tagName=="string"}function Dw(r){return Ou(r)&&r.tagName.toLowerCase()==="button"}function Vw(r){return Ou(r)&&r.tagName.toLowerCase()==="form"}function Lw(r){return Ou(r)&&r.tagName.toLowerCase()==="input"}function Mw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Ow(r,e){return r.button===0&&(!e||e==="_self")&&!Mw(r)}var nu=null;function Fw(){if(nu===null)try{new FormData(document.createElement("form"),0),nu=!1}catch{nu=!0}return nu}var jw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Oh(r){return r!=null&&!jw.has(r)?(er(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uu}"`),null):r}function bw(r,e){let t,s,o,u,h;if(Vw(r)){let f=r.getAttribute("action");s=f?si(f,e):null,t=r.getAttribute("method")||lu,o=Oh(r.getAttribute("enctype"))||uu,u=new FormData(r)}else if(Dw(r)||Lw(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||f.getAttribute("action");if(s=g?si(g,e):null,t=r.getAttribute("formmethod")||f.getAttribute("method")||lu,o=Oh(r.getAttribute("formenctype"))||Oh(f.getAttribute("enctype"))||uu,u=new FormData(f,r),!Fw()){let{name:y,type:w,value:T}=r;if(w==="image"){let I=y?`${y}.`:"";u.append(`${I}x`,"0"),u.append(`${I}y`,"0")}else y&&u.append(y,T)}}else{if(Ou(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=lu,s=null,o=uu,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function Sd(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function Uw(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Bw(r,e,t){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await Uw(u,t);return h.links?h.links():[]}return[]}));return Ww(s.flat(1).filter(zw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Mm(r,e,t,s,o,u){let h=(g,y)=>t[y]?g.route.id!==t[y].route.id:!0,f=(g,y)=>{var w;return t[y].pathname!==g.pathname||((w=t[y].route.path)==null?void 0:w.endsWith("*"))&&t[y].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,y)=>h(g,y)||f(g,y)):u==="data"?e.filter((g,y)=>{var T;let w=s.routes[g.route.id];if(!w||!w.hasLoader)return!1;if(h(g,y)||f(g,y))return!0;if(g.route.shouldRevalidate){let I=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function $w(r,e){return qw(r.map(t=>{let s=e.routes[t.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function qw(r){return[...new Set(r)]}function Hw(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function Ww(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(Hw(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function Kw(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Gw(){let r=H.useContext(oo);return Sd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Qw(){let r=H.useContext(Mu);return Sd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Ad=H.createContext(void 0);Ad.displayName="FrameworkContext";function dy(){let r=H.useContext(Ad);return Sd(r,"You must render this element inside a <HydratedRouter> element"),r}function Yw(r,e){let t=H.useContext(Ad),[s,o]=H.useState(!1),[u,h]=H.useState(!1),{onFocus:f,onBlur:g,onMouseEnter:y,onMouseLeave:w,onTouchStart:T}=e,I=H.useRef(null);H.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let q=Q=>{Q.forEach(J=>{h(J.isIntersecting)})},z=new IntersectionObserver(q,{threshold:.5});return I.current&&z.observe(I.current),()=>{z.disconnect()}}},[r]),H.useEffect(()=>{if(s){let q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(q)}}},[s]);let V=()=>{o(!0)},O=()=>{o(!1),h(!1)};return t?r!=="intent"?[u,I,{}]:[u,I,{onFocus:ua(f,V),onBlur:ua(g,O),onMouseEnter:ua(y,V),onMouseLeave:ua(w,O),onTouchStart:ua(T,V)}]:[!1,I,{}]}function ua(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function Xw({page:r,...e}){let{router:t}=Gw(),s=H.useMemo(()=>ey(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?H.createElement(Zw,{page:r,matches:s,...e}):null}function Jw(r){let{manifest:e,routeModules:t}=dy(),[s,o]=H.useState([]);return H.useEffect(()=>{let u=!1;return Bw(r,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,t]),s}function Zw({page:r,matches:e,...t}){let s=Pr(),{manifest:o,routeModules:u}=dy(),{loaderData:h,matches:f}=Qw(),g=H.useMemo(()=>Mm(r,e,f,o,s,"data"),[r,e,f,o,s]),y=H.useMemo(()=>Mm(r,e,f,o,s,"assets"),[r,e,f,o,s]),w=H.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let V=new Set,O=!1;if(e.forEach(z=>{var J;let Q=o.routes[z.route.id];!Q||!Q.hasLoader||(!g.some(re=>re.route.id===z.route.id)&&z.route.id in h&&((J=u[z.route.id])!=null&&J.shouldRevalidate)||Q.hasClientLoader?O=!0:V.add(z.route.id))}),V.size===0)return[];let q=Kw(r);return O&&V.size>0&&q.searchParams.set("_routes",e.filter(z=>V.has(z.route.id)).map(z=>z.route.id).join(",")),[q.pathname+q.search]},[h,s,o,g,e,r,u]),T=H.useMemo(()=>$w(y,o),[y,o]),I=Jw(y);return H.createElement(H.Fragment,null,w.map(V=>H.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...t})),T.map(V=>H.createElement("link",{key:V,rel:"modulepreload",href:V,...t})),I.map(({key:V,link:O})=>H.createElement("link",{key:V,...O})))}function eE(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var fy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fy&&(window.__reactRouterVersion="7.1.3")}catch{}function tE({basename:r,children:e,window:t}){let s=H.useRef();s.current==null&&(s.current=$0({window:t,v5Compat:!0}));let o=s.current,[u,h]=H.useState({action:o.action,location:o.location}),f=H.useCallback(g=>{H.startTransition(()=>h(g))},[h]);return H.useLayoutEffect(()=>o.listen(f),[o,f]),H.createElement(kw,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var py=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yt=H.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:f,target:g,to:y,preventScrollReset:w,viewTransition:T,...I},V){let{basename:O}=H.useContext(nr),q=typeof y=="string"&&py.test(y),z,Q=!1;if(typeof y=="string"&&q&&(z=y,fy))try{let R=new URL(window.location.href),k=y.startsWith("//")?new URL(R.protocol+y):new URL(y),L=si(k.pathname,O);k.origin===R.origin&&L!=null?y=L+k.search+k.hash:Q=!0}catch{er(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=mw(y,{relative:o}),[re,fe,Ce]=Yw(s,I),Te=sE(y,{replace:h,state:f,target:g,preventScrollReset:w,relative:o,viewTransition:T});function N(R){e&&e(R),R.defaultPrevented||Te(R)}let S=H.createElement("a",{...I,...Ce,href:z||J,onClick:Q||u?e:N,ref:eE(V,fe),target:g,"data-discover":!q&&t==="render"?"true":void 0});return re&&!q?H.createElement(H.Fragment,null,S,H.createElement(Xw,{page:J})):S});Yt.displayName="Link";var nE=H.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:f,children:g,...y},w){let T=ka(h,{relative:y.relative}),I=Pr(),V=H.useContext(Mu),{navigator:O,basename:q}=H.useContext(nr),z=V!=null&&cE(T)&&f===!0,Q=O.encodeLocation?O.encodeLocation(T).pathname:T.pathname,J=I.pathname,re=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;t||(J=J.toLowerCase(),re=re?re.toLowerCase():null,Q=Q.toLowerCase()),re&&q&&(re=si(re,q)||re);const fe=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let Ce=J===Q||!o&&J.startsWith(Q)&&J.charAt(fe)==="/",Te=re!=null&&(re===Q||!o&&re.startsWith(Q)&&re.charAt(Q.length)==="/"),N={isActive:Ce,isPending:Te,isTransitioning:z},S=Ce?e:void 0,R;typeof s=="function"?R=s(N):R=[s,Ce?"active":null,Te?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(N):u;return H.createElement(Yt,{...y,"aria-current":S,className:R,ref:w,style:k,to:h,viewTransition:f},typeof g=="function"?g(N):g)});nE.displayName="NavLink";var rE=H.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=lu,action:f,onSubmit:g,relative:y,preventScrollReset:w,viewTransition:T,...I},V)=>{let O=lE(),q=uE(f,{relative:y}),z=h.toLowerCase()==="get"?"get":"post",Q=typeof f=="string"&&py.test(f),J=re=>{if(g&&g(re),re.defaultPrevented)return;re.preventDefault();let fe=re.nativeEvent.submitter,Ce=(fe==null?void 0:fe.getAttribute("formmethod"))||h;O(fe||re.currentTarget,{fetcherKey:e,method:Ce,navigate:t,replace:o,state:u,relative:y,preventScrollReset:w,viewTransition:T})};return H.createElement("form",{ref:V,method:z,action:q,onSubmit:s?g:J,...I,"data-discover":!Q&&r==="render"?"true":void 0})});rE.displayName="Form";function iE(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function my(r){let e=H.useContext(oo);return Je(e,iE(r)),e}function sE(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let f=uy(),g=Pr(),y=ka(r,{relative:u});return H.useCallback(w=>{if(Ow(w,e)){w.preventDefault();let T=t!==void 0?t:wa(g)===wa(y);f(r,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[g,f,y,t,s,e,r,o,u,h])}var oE=0,aE=()=>`__${String(++oE)}__`;function lE(){let{router:r}=my("useSubmit"),{basename:e}=H.useContext(nr),t=Cw();return H.useCallback(async(s,o={})=>{let{action:u,method:h,encType:f,formData:g,body:y}=bw(s,e);if(o.navigate===!1){let w=o.fetcherKey||aE();await r.fetch(w,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||f,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function uE(r,{relative:e}={}){let{basename:t}=H.useContext(nr),s=H.useContext(Rr);Je(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...ka(r||".",{relative:e})},h=Pr();if(r==null){u.search=h.search;let f=new URLSearchParams(u.search),g=f.getAll("index");if(g.some(w=>w==="")){f.delete("index"),g.filter(T=>T).forEach(T=>f.append("index",T));let w=f.toString();u.search=w?`?${w}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:Er([t,u.pathname])),wa(u)}function cE(r,e={}){let t=H.useContext(oy);Je(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=my("useViewTransitionState"),o=ka(r,{relative:e.relative});if(!t.isTransitioning)return!1;let u=si(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=si(t.nextLocation.pathname,s)||t.nextLocation.pathname;return gu(o.pathname,h)!=null||gu(o.pathname,u)!=null}new TextEncoder;const Na=H.createContext(),Da=H.createContext(),hE=({onFilterChange:r})=>{const{quantityFinal:e}=H.useContext(Na),{session:t,logout:s}=H.useContext(Da),o=Pr(),u=()=>{localStorage.setItem("preLocation",o.pathname)},h=()=>{s()},f=T=>()=>{r(T)},[g,y]=H.useState(!1),w=()=>{y(!g)};return C.jsx("header",{children:C.jsx("div",{className:"div_header_navegacion_principal",children:C.jsxs("section",{className:"navegacion_principal",children:[C.jsx("div",{className:"navegacion_logo navegacion_div",id:"navegacion_logo_id",children:C.jsx("div",{children:C.jsx(Yt,{to:"/ProjectGymReact/",children:C.jsx("img",{id:"logo",src:"/ProjectGymReact/img/Logo.png",alt:"logo"})})})}),C.jsx("div",{className:"menu-icon",id:"menu-icon",onClick:w,children:C.jsx("i",{className:"fa fa-bars"})}),C.jsxs("div",{className:`div_column_navegacion ${g?"active":""}`,id:"nav-menu",children:[C.jsx("div",{className:"navegacion_div",children:C.jsx(Yt,{onClick:f(""),className:"navegacion_a",to:"/ProjectGymReact/",children:C.jsx("p",{className:"navegacion_p",id:"inicio",children:"Todo"})})}),C.jsx("div",{className:"navegacion_div",children:C.jsx(Yt,{onClick:f("proteina"),className:"navegacion_a",to:"/ProjectGymReact/",children:C.jsx("p",{className:"navegacion_p",children:"Protenas"})})}),C.jsx("div",{className:"navegacion_div",children:C.jsx(Yt,{onClick:f("creatina"),className:"navegacion_a",to:"/ProjectGymReact/",children:C.jsx("p",{className:"navegacion_p",children:"Creatinas"})})}),C.jsx("div",{className:"navegacion_div",children:C.jsx(Yt,{onClick:f("suplementos"),className:"navegacion_a",to:"/ProjectGymReact/",children:C.jsx("p",{id:"navegacion_p_last_child",className:"navegacion_p",children:"Suplementos"})})})]}),C.jsx("div",{id:"div_iniciar_sesion",children:t?C.jsx("div",{children:C.jsx(Yt,{onClick:h,to:o.pathname,className:"navegacion_p_iniciar_sesion",children:"Cerrar sesin"})}):C.jsx("div",{children:C.jsx(Yt,{onClick:u,to:"/ProjectGymReact/Login",className:"navegacion_p_iniciar_sesion",children:"Iniciar sesin"})})}),C.jsx("div",{className:"navegacion_div div_column_shopping_cart",children:C.jsx(Yt,{to:"/ProjectGymReact/CartSummary",children:C.jsxs("p",{className:"navegacion_p",children:[C.jsx("i",{className:"fa-solid fa-cart-shopping shopping_cart"}),e>0&&C.jsx("span",{className:"cart_count",children:e})]})})})]})})})},dE=()=>C.jsx("footer",{children:C.jsxs("div",{className:"div_principal_footer",children:[C.jsx("div",{}),C.jsx("div",{className:"div_footer_parrafo",children:C.jsx("p",{children:" Todos los derechos reservados"})}),C.jsxs("div",{className:"div_img_footer",children:[C.jsx("a",{href:"https://www.linkedin.com/in/brandon-leonardo-adata-barrera",children:C.jsx("img",{className:"img_footer",src:"/ProjectGymReact/img/linkedin.webp",alt:"Mi linkedin"})}),C.jsx("a",{href:"https://github.com/rangerLeonardo",children:C.jsx("img",{className:"img_footer",src:"/ProjectGymReact/img/github-gris_1.webp",alt:"Mi github"})}),C.jsx("a",{href:"mailto:brandonleonardobarrera@gmail.com",children:C.jsx("img",{className:"img_footer",src:"/ProjectGymReact/img/gmail.webp",alt:"Mi email"})})]})]})});var Om={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},fE=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],h=r[t++],f=r[t++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},yy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,f=h?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,w=u>>2,T=(u&3)<<4|f>>4;let I=(f&15)<<2|y>>6,V=y&63;g||(V=64,h||(I=64)),s.push(t[w],t[T],t[I],t[V])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(gy(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):fE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],f=o<r.length?t[r.charAt(o)]:0;++o;const y=o<r.length?t[r.charAt(o)]:64;++o;const T=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||f==null||y==null||T==null)throw new pE;const I=u<<2|f>>4;if(s.push(I),y!==64){const V=f<<4&240|y>>2;if(s.push(V),T!==64){const O=y<<6&192|T;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class pE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mE=function(r){const e=gy(r);return yy.encodeByteArray(e,!0)},yu=function(r){return mE(r).replace(/\./g,"")},gE=function(r){try{return yy.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=()=>yE().__FIREBASE_DEFAULTS__,_E=()=>{if(typeof process>"u"||typeof Om>"u")return;const r=Om.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},wE=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&gE(r[1]);return e&&JSON.parse(e)},Cd=()=>{try{return vE()||_E()||wE()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},EE=r=>{var e,t;return(t=(e=Cd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},TE=r=>{const e=EE(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},vy=()=>{var r;return(r=Cd())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[yu(JSON.stringify(t)),yu(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CE(){var r;const e=(r=Cd())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RE(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function PE(){return!CE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _y(){try{return typeof indexedDB=="object"}catch{return!1}}function wy(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}function xE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="FirebaseError";class fi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=kE,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fu.prototype.create)}}class Fu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?NE(u,s):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new fi(o,f,s)}}function NE(r,e){return r.replace(DE,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const DE=/\{\$([^}]+)}/g;function vu(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(Fm(u)&&Fm(h)){if(!vu(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Fm(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=1e3,LE=2,ME=4*60*60*1e3,OE=.5;function jm(r,e=VE,t=LE){const s=e*Math.pow(t,r),o=Math.round(OE*s*(Math.random()-.5)*2);return Math.min(ME,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(r){return r&&r._delegate?r._delegate:r}class Ir{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new IE;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bE(e))try{this.getOrInitializeService({instanceIdentifier:Hi})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Hi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hi){return this.instances.has(e)}getOptions(e=Hi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(u);s===f&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:jE(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Hi){return this.component?this.component.multipleInstances?e:Hi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jE(r){return r===Hi?void 0:r}function bE(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new FE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const zE={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},BE=Ve.INFO,$E={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},qE=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=$E[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rd{constructor(e){this.name=e,this._logLevel=BE,this._logHandler=qE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const HE=(r,e)=>e.some(t=>r instanceof t);let bm,Um;function WE(){return bm||(bm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KE(){return Um||(Um=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ey=new WeakMap,Xh=new WeakMap,Ty=new WeakMap,Fh=new WeakMap,Pd=new WeakMap;function GE(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{t(ti(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&Ey.set(t,r)}).catch(()=>{}),Pd.set(e,r),e}function QE(r){if(Xh.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Xh.set(r,e)}let Jh={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Xh.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Ty.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ti(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function YE(r){Jh=r(Jh)}function XE(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(jh(this),e,...t);return Ty.set(s,e.sort?e.sort():[e]),ti(s)}:KE().includes(r)?function(...e){return r.apply(jh(this),e),ti(Ey.get(this))}:function(...e){return ti(r.apply(jh(this),e))}}function JE(r){return typeof r=="function"?XE(r):(r instanceof IDBTransaction&&QE(r),HE(r,WE())?new Proxy(r,Jh):r)}function ti(r){if(r instanceof IDBRequest)return GE(r);if(Fh.has(r))return Fh.get(r);const e=JE(r);return e!==r&&(Fh.set(r,e),Pd.set(e,r)),e}const jh=r=>Pd.get(r);function Iy(r,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),f=ti(h);return s&&h.addEventListener("upgradeneeded",g=>{s(ti(h.result),g.oldVersion,g.newVersion,ti(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),f.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const ZE=["get","getKey","getAll","getAllKeys","count"],eT=["put","add","delete","clear"],bh=new Map;function zm(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(bh.get(e))return bh.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=eT.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ZE.includes(t)))return;const u=async function(h,...f){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),o&&g.done]))[0]};return bh.set(e,u),u}YE(r=>({...r,get:(e,t,s)=>zm(e,t)||r.get(e,t,s),has:(e,t)=>!!zm(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(nT(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function nT(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zh="@firebase/app",Bm="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr=new Rd("@firebase/app"),rT="@firebase/app-compat",iT="@firebase/analytics-compat",sT="@firebase/analytics",oT="@firebase/app-check-compat",aT="@firebase/app-check",lT="@firebase/auth",uT="@firebase/auth-compat",cT="@firebase/database",hT="@firebase/data-connect",dT="@firebase/database-compat",fT="@firebase/functions",pT="@firebase/functions-compat",mT="@firebase/installations",gT="@firebase/installations-compat",yT="@firebase/messaging",vT="@firebase/messaging-compat",_T="@firebase/performance",wT="@firebase/performance-compat",ET="@firebase/remote-config",TT="@firebase/remote-config-compat",IT="@firebase/storage",ST="@firebase/storage-compat",AT="@firebase/firestore",CT="@firebase/vertexai",RT="@firebase/firestore-compat",PT="firebase",xT="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed="[DEFAULT]",kT={[Zh]:"fire-core",[rT]:"fire-core-compat",[sT]:"fire-analytics",[iT]:"fire-analytics-compat",[aT]:"fire-app-check",[oT]:"fire-app-check-compat",[lT]:"fire-auth",[uT]:"fire-auth-compat",[cT]:"fire-rtdb",[hT]:"fire-data-connect",[dT]:"fire-rtdb-compat",[fT]:"fire-fn",[pT]:"fire-fn-compat",[mT]:"fire-iid",[gT]:"fire-iid-compat",[yT]:"fire-fcm",[vT]:"fire-fcm-compat",[_T]:"fire-perf",[wT]:"fire-perf-compat",[ET]:"fire-rc",[TT]:"fire-rc-compat",[IT]:"fire-gcs",[ST]:"fire-gcs-compat",[AT]:"fire-fst",[RT]:"fire-fst-compat",[CT]:"fire-vertex","fire-js":"fire-js",[PT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=new Map,NT=new Map,td=new Map;function $m(r,e){try{r.container.addComponent(e)}catch(t){Sr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function oi(r){const e=r.name;if(td.has(e))return Sr.debug(`There were multiple attempts to register component ${e}.`),!1;td.set(e,r);for(const t of _u.values())$m(t,r);for(const t of NT.values())$m(t,r);return!0}function Va(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function DT(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ni=new Fu("app","Firebase",VT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ir("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ni.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=xT;function Sy(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:ed,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ni.create("bad-app-name",{appName:String(o)});if(t||(t=vy()),!t)throw ni.create("no-options");const u=_u.get(o);if(u){if(vu(t,u.options)&&vu(s,u.config))return u;throw ni.create("duplicate-app",{appName:o})}const h=new UE(o);for(const g of td.values())h.addComponent(g);const f=new LT(t,s,h);return _u.set(o,f),f}function Ay(r=ed){const e=_u.get(r);if(!e&&r===ed&&vy())return Sy();if(!e)throw ni.create("no-app",{appName:r});return e}function Xn(r,e,t){var s;let o=(s=kT[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const f=[`Unable to register library "${o}" with version "${e}":`];u&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sr.warn(f.join(" "));return}oi(new Ir(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="firebase-heartbeat-database",FT=1,Ea="firebase-heartbeat-store";let Uh=null;function Cy(){return Uh||(Uh=Iy(OT,FT,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ea)}catch(t){console.warn(t)}}}}).catch(r=>{throw ni.create("idb-open",{originalErrorMessage:r.message})})),Uh}async function jT(r){try{const t=(await Cy()).transaction(Ea),s=await t.objectStore(Ea).get(Ry(r));return await t.done,s}catch(e){if(e instanceof fi)Sr.warn(e.message);else{const t=ni.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Sr.warn(t.message)}}}async function qm(r,e){try{const s=(await Cy()).transaction(Ea,"readwrite");await s.objectStore(Ea).put(e,Ry(r)),await s.done}catch(t){if(t instanceof fi)Sr.warn(t.message);else{const s=ni.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Sr.warn(s.message)}}}function Ry(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=1024,UT=30;class zT{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new $T(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Hm();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>UT){const h=qT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Sr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Hm(),{heartbeatsToSend:s,unsentEntries:o}=BT(this._heartbeatsCache.heartbeats),u=yu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Sr.warn(t),""}}}function Hm(){return new Date().toISOString().substring(0,10)}function BT(r,e=bT){const t=[];let s=r.slice();for(const o of r){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Wm(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Wm(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class $T{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _y()?wy().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await jT(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return qm(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return qm(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Wm(r){return yu(JSON.stringify({version:2,heartbeats:r})).length}function qT(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(r){oi(new Ir("platform-logger",e=>new tT(e),"PRIVATE")),oi(new Ir("heartbeat",e=>new zT(e),"PRIVATE")),Xn(Zh,Bm,r),Xn(Zh,Bm,"esm2017"),Xn("fire-js","")}HT("");var WT="firebase",KT="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn(WT,KT,"app");const Py="@firebase/installations",xd="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy=1e4,ky=`w:${xd}`,Ny="FIS_v2",GT="https://firebaseinstallations.googleapis.com/v1",QT=60*60*1e3,YT="installations",XT="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Gi=new Fu(YT,XT,JT);function Dy(r){return r instanceof fi&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy({projectId:r}){return`${GT}/projects/${r}/installations`}function Ly(r){return{token:r.token,requestStatus:2,expiresIn:e1(r.expiresIn),creationTime:Date.now()}}async function My(r,e){const s=(await e.json()).error;return Gi.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Oy({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function ZT(r,{refreshToken:e}){const t=Oy(r);return t.append("Authorization",t1(e)),t}async function Fy(r){const e=await r();return e.status>=500&&e.status<600?r():e}function e1(r){return Number(r.replace("s","000"))}function t1(r){return`${Ny} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n1({appConfig:r,heartbeatServiceProvider:e},{fid:t}){const s=Vy(r),o=Oy(r),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const h={fid:t,authVersion:Ny,appId:r.appId,sdkVersion:ky},f={method:"POST",headers:o,body:JSON.stringify(h)},g=await Fy(()=>fetch(s,f));if(g.ok){const y=await g.json();return{fid:y.fid||t,registrationStatus:2,refreshToken:y.refreshToken,authToken:Ly(y.authToken)}}else throw await My("Create Installation",g)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=/^[cdef][\w-]{21}$/,nd="";function s1(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const t=o1(r);return i1.test(t)?t:nd}catch{return nd}}function o1(r){return r1(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by=new Map;function Uy(r,e){const t=ju(r);zy(t,e),a1(t,e)}function zy(r,e){const t=by.get(r);if(t)for(const s of t)s(e)}function a1(r,e){const t=l1();t&&t.postMessage({key:r,fid:e}),u1()}let Wi=null;function l1(){return!Wi&&"BroadcastChannel"in self&&(Wi=new BroadcastChannel("[Firebase] FID Change"),Wi.onmessage=r=>{zy(r.data.key,r.data.fid)}),Wi}function u1(){by.size===0&&Wi&&(Wi.close(),Wi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="firebase-installations-database",h1=1,Qi="firebase-installations-store";let zh=null;function kd(){return zh||(zh=Iy(c1,h1,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(Qi)}}})),zh}async function wu(r,e){const t=ju(r),o=(await kd()).transaction(Qi,"readwrite"),u=o.objectStore(Qi),h=await u.get(t);return await u.put(e,t),await o.done,(!h||h.fid!==e.fid)&&Uy(r,e.fid),e}async function By(r){const e=ju(r),s=(await kd()).transaction(Qi,"readwrite");await s.objectStore(Qi).delete(e),await s.done}async function bu(r,e){const t=ju(r),o=(await kd()).transaction(Qi,"readwrite"),u=o.objectStore(Qi),h=await u.get(t),f=e(h);return f===void 0?await u.delete(t):await u.put(f,t),await o.done,f&&(!h||h.fid!==f.fid)&&Uy(r,f.fid),f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nd(r){let e;const t=await bu(r.appConfig,s=>{const o=d1(s),u=f1(r,o);return e=u.registrationPromise,u.installationEntry});return t.fid===nd?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function d1(r){const e=r||{fid:s1(),registrationStatus:0};return $y(e)}function f1(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Gi.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=p1(r,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:m1(r)}:{installationEntry:e}}async function p1(r,e){try{const t=await n1(r,e);return wu(r.appConfig,t)}catch(t){throw Dy(t)&&t.customData.serverCode===409?await By(r.appConfig):await wu(r.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function m1(r){let e=await Km(r.appConfig);for(;e.registrationStatus===1;)await jy(100),e=await Km(r.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await Nd(r);return s||t}return e}function Km(r){return bu(r,e=>{if(!e)throw Gi.create("installation-not-found");return $y(e)})}function $y(r){return g1(r)?{fid:r.fid,registrationStatus:0}:r}function g1(r){return r.registrationStatus===1&&r.registrationTime+xy<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y1({appConfig:r,heartbeatServiceProvider:e},t){const s=v1(r,t),o=ZT(r,t),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const h={installation:{sdkVersion:ky,appId:r.appId}},f={method:"POST",headers:o,body:JSON.stringify(h)},g=await Fy(()=>fetch(s,f));if(g.ok){const y=await g.json();return Ly(y)}else throw await My("Generate Auth Token",g)}function v1(r,{fid:e}){return`${Vy(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dd(r,e=!1){let t;const s=await bu(r.appConfig,u=>{if(!qy(u))throw Gi.create("not-registered");const h=u.authToken;if(!e&&E1(h))return u;if(h.requestStatus===1)return t=_1(r,e),u;{if(!navigator.onLine)throw Gi.create("app-offline");const f=I1(u);return t=w1(r,f),f}});return t?await t:s.authToken}async function _1(r,e){let t=await Gm(r.appConfig);for(;t.authToken.requestStatus===1;)await jy(100),t=await Gm(r.appConfig);const s=t.authToken;return s.requestStatus===0?Dd(r,e):s}function Gm(r){return bu(r,e=>{if(!qy(e))throw Gi.create("not-registered");const t=e.authToken;return S1(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function w1(r,e){try{const t=await y1(r,e),s=Object.assign(Object.assign({},e),{authToken:t});return await wu(r.appConfig,s),t}catch(t){if(Dy(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await By(r.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await wu(r.appConfig,s)}throw t}}function qy(r){return r!==void 0&&r.registrationStatus===2}function E1(r){return r.requestStatus===2&&!T1(r)}function T1(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+QT}function I1(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function S1(r){return r.requestStatus===1&&r.requestTime+xy<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A1(r){const e=r,{installationEntry:t,registrationPromise:s}=await Nd(e);return s?s.catch(console.error):Dd(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C1(r,e=!1){const t=r;return await R1(t),(await Dd(t,e)).token}async function R1(r){const{registrationPromise:e}=await Nd(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(r){if(!r||!r.options)throw Bh("App Configuration");if(!r.name)throw Bh("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!r.options[t])throw Bh(t);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Bh(r){return Gi.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="installations",x1="installations-internal",k1=r=>{const e=r.getProvider("app").getImmediate(),t=P1(e),s=Va(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},N1=r=>{const e=r.getProvider("app").getImmediate(),t=Va(e,Hy).getImmediate();return{getId:()=>A1(t),getToken:o=>C1(t,o)}};function D1(){oi(new Ir(Hy,k1,"PUBLIC")),oi(new Ir(x1,N1,"PRIVATE"))}D1();Xn(Py,xd);Xn(Py,xd,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu="analytics",V1="firebase_id",L1="origin",M1=60*1e3,O1="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Vd="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt=new Rd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},un=new Fu("analytics","Analytics",F1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(r){if(!r.startsWith(Vd)){const e=un.create("invalid-gtag-resource",{gtagURL:r});return Zt.warn(e.message),""}return r}function Wy(r){return Promise.all(r.map(e=>e.catch(t=>t)))}function b1(r,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(r,e)),t}function U1(r,e){const t=b1("firebase-js-sdk-policy",{createScriptURL:j1}),s=document.createElement("script"),o=`${Vd}?l=${r}&id=${e}`;s.src=t?t==null?void 0:t.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function z1(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function B1(r,e,t,s,o,u){const h=s[o];try{if(h)await e[h];else{const g=(await Wy(t)).find(y=>y.measurementId===o);g&&await e[g.appId]}}catch(f){Zt.error(f)}r("config",o,u)}async function $1(r,e,t,s,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const f=await Wy(t);for(const g of h){const y=f.find(T=>T.measurementId===g),w=y&&e[y.appId];if(w)u.push(w);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),r("event",s,o||{})}catch(u){Zt.error(u)}}function q1(r,e,t,s){async function o(u,...h){try{if(u==="event"){const[f,g]=h;await $1(r,e,t,f,g)}else if(u==="config"){const[f,g]=h;await B1(r,e,t,s,f,g)}else if(u==="consent"){const[f,g]=h;r("consent",f,g)}else if(u==="get"){const[f,g,y]=h;r("get",f,g,y)}else if(u==="set"){const[f]=h;r("set",f)}else r(u,...h)}catch(f){Zt.error(f)}}return o}function H1(r,e,t,s,o){let u=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=q1(u,r,e,t),{gtagCore:u,wrappedGtag:window[o]}}function W1(r){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Vd)&&t.src.includes(r))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=30,G1=1e3;class Q1{constructor(e={},t=G1){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Ky=new Q1;function Y1(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function X1(r){var e;const{appId:t,apiKey:s}=r,o={method:"GET",headers:Y1(s)},u=O1.replace("{app-id}",t),h=await fetch(u,o);if(h.status!==200&&h.status!==304){let f="";try{const g=await h.json();!((e=g.error)===null||e===void 0)&&e.message&&(f=g.error.message)}catch{}throw un.create("config-fetch-failed",{httpStatus:h.status,responseMessage:f})}return h.json()}async function J1(r,e=Ky,t){const{appId:s,apiKey:o,measurementId:u}=r.options;if(!s)throw un.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw un.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new tI;return setTimeout(async()=>{f.abort()},M1),Gy({appId:s,apiKey:o,measurementId:u},h,f,e)}async function Gy(r,{throttleEndTimeMillis:e,backoffCount:t},s,o=Ky){var u;const{appId:h,measurementId:f}=r;try{await Z1(s,e)}catch(g){if(f)return Zt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:f};throw g}try{const g=await X1(r);return o.deleteThrottleMetadata(h),g}catch(g){const y=g;if(!eI(y)){if(o.deleteThrottleMetadata(h),f)return Zt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:h,measurementId:f};throw g}const w=Number((u=y==null?void 0:y.customData)===null||u===void 0?void 0:u.httpStatus)===503?jm(t,o.intervalMillis,K1):jm(t,o.intervalMillis),T={throttleEndTimeMillis:Date.now()+w,backoffCount:t+1};return o.setThrottleMetadata(h,T),Zt.debug(`Calling attemptFetch again in ${w} millis`),Gy(r,T,s,o)}}function Z1(r,e){return new Promise((t,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(t,o);r.addEventListener(()=>{clearTimeout(u),s(un.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function eI(r){if(!(r instanceof fi)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class tI{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function nI(r,e,t,s,o){if(o&&o.global){r("event",t,s);return}else{const u=await e,h=Object.assign(Object.assign({},s),{send_to:u});r("event",t,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rI(){if(_y())try{await wy()}catch(r){return Zt.warn(un.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return Zt.warn(un.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function iI(r,e,t,s,o,u,h){var f;const g=J1(r);g.then(V=>{t[V.measurementId]=V.appId,r.options.measurementId&&V.measurementId!==r.options.measurementId&&Zt.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${V.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(V=>Zt.error(V)),e.push(g);const y=rI().then(V=>{if(V)return s.getId()}),[w,T]=await Promise.all([g,y]);W1(u)||U1(u,w.measurementId),o("js",new Date);const I=(f=h==null?void 0:h.config)!==null&&f!==void 0?f:{};return I[L1]="firebase",I.update=!0,T!=null&&(I[V1]=T),o("config",w.measurementId,I),w.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e){this.app=e}_delete(){return delete pa[this.app.options.appId],Promise.resolve()}}let pa={},Qm=[];const Ym={};let $h="dataLayer",oI="gtag",Xm,Qy,Jm=!1;function aI(){const r=[];if(RE()&&r.push("This is a browser extension environment."),xE()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),t=un.create("invalid-analytics-context",{errorInfo:e});Zt.warn(t.message)}}function lI(r,e,t){aI();const s=r.options.appId;if(!s)throw un.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)Zt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw un.create("no-api-key");if(pa[s]!=null)throw un.create("already-exists",{id:s});if(!Jm){z1($h);const{wrappedGtag:u,gtagCore:h}=H1(pa,Qm,Ym,$h,oI);Qy=u,Xm=h,Jm=!0}return pa[s]=iI(r,Qm,Ym,e,Xm,$h,t),new sI(r)}function uI(r=Ay()){r=En(r);const e=Va(r,Eu);return e.isInitialized()?e.getImmediate():cI(r)}function cI(r,e={}){const t=Va(r,Eu);if(t.isInitialized()){const o=t.getImmediate();if(vu(e,t.getOptions()))return o;throw un.create("already-initialized")}return t.initialize({options:e})}function hI(r,e,t,s){r=En(r),nI(Qy,pa[r.app.options.appId],e,t,s).catch(o=>Zt.error(o))}const Zm="@firebase/analytics",eg="0.10.11";function dI(){oi(new Ir(Eu,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return lI(s,o,t)},"PUBLIC")),oi(new Ir("analytics-internal",r,"PRIVATE")),Xn(Zm,eg),Xn(Zm,eg,"esm2017");function r(e){try{const t=e.getProvider(Eu).getImmediate();return{logEvent:(s,o,u)=>hI(t,s,o,u)}}catch(t){throw un.create("interop-component-reg-failed",{reason:t})}}}dI();var tg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ri,Yy;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function R(){}R.prototype=S.prototype,N.D=S.prototype,N.prototype=new R,N.prototype.constructor=N,N.C=function(k,L,F){for(var P=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)P[tt-2]=arguments[tt];return S.prototype[L].apply(k,P)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,R){R||(R=0);var k=Array(16);if(typeof S=="string")for(var L=0;16>L;++L)k[L]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(L=0;16>L;++L)k[L]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=N.g[0],R=N.g[1],L=N.g[2];var F=N.g[3],P=S+(F^R&(L^F))+k[0]+3614090360&4294967295;S=R+(P<<7&4294967295|P>>>25),P=F+(L^S&(R^L))+k[1]+3905402710&4294967295,F=S+(P<<12&4294967295|P>>>20),P=L+(R^F&(S^R))+k[2]+606105819&4294967295,L=F+(P<<17&4294967295|P>>>15),P=R+(S^L&(F^S))+k[3]+3250441966&4294967295,R=L+(P<<22&4294967295|P>>>10),P=S+(F^R&(L^F))+k[4]+4118548399&4294967295,S=R+(P<<7&4294967295|P>>>25),P=F+(L^S&(R^L))+k[5]+1200080426&4294967295,F=S+(P<<12&4294967295|P>>>20),P=L+(R^F&(S^R))+k[6]+2821735955&4294967295,L=F+(P<<17&4294967295|P>>>15),P=R+(S^L&(F^S))+k[7]+4249261313&4294967295,R=L+(P<<22&4294967295|P>>>10),P=S+(F^R&(L^F))+k[8]+1770035416&4294967295,S=R+(P<<7&4294967295|P>>>25),P=F+(L^S&(R^L))+k[9]+2336552879&4294967295,F=S+(P<<12&4294967295|P>>>20),P=L+(R^F&(S^R))+k[10]+4294925233&4294967295,L=F+(P<<17&4294967295|P>>>15),P=R+(S^L&(F^S))+k[11]+2304563134&4294967295,R=L+(P<<22&4294967295|P>>>10),P=S+(F^R&(L^F))+k[12]+1804603682&4294967295,S=R+(P<<7&4294967295|P>>>25),P=F+(L^S&(R^L))+k[13]+4254626195&4294967295,F=S+(P<<12&4294967295|P>>>20),P=L+(R^F&(S^R))+k[14]+2792965006&4294967295,L=F+(P<<17&4294967295|P>>>15),P=R+(S^L&(F^S))+k[15]+1236535329&4294967295,R=L+(P<<22&4294967295|P>>>10),P=S+(L^F&(R^L))+k[1]+4129170786&4294967295,S=R+(P<<5&4294967295|P>>>27),P=F+(R^L&(S^R))+k[6]+3225465664&4294967295,F=S+(P<<9&4294967295|P>>>23),P=L+(S^R&(F^S))+k[11]+643717713&4294967295,L=F+(P<<14&4294967295|P>>>18),P=R+(F^S&(L^F))+k[0]+3921069994&4294967295,R=L+(P<<20&4294967295|P>>>12),P=S+(L^F&(R^L))+k[5]+3593408605&4294967295,S=R+(P<<5&4294967295|P>>>27),P=F+(R^L&(S^R))+k[10]+38016083&4294967295,F=S+(P<<9&4294967295|P>>>23),P=L+(S^R&(F^S))+k[15]+3634488961&4294967295,L=F+(P<<14&4294967295|P>>>18),P=R+(F^S&(L^F))+k[4]+3889429448&4294967295,R=L+(P<<20&4294967295|P>>>12),P=S+(L^F&(R^L))+k[9]+568446438&4294967295,S=R+(P<<5&4294967295|P>>>27),P=F+(R^L&(S^R))+k[14]+3275163606&4294967295,F=S+(P<<9&4294967295|P>>>23),P=L+(S^R&(F^S))+k[3]+4107603335&4294967295,L=F+(P<<14&4294967295|P>>>18),P=R+(F^S&(L^F))+k[8]+1163531501&4294967295,R=L+(P<<20&4294967295|P>>>12),P=S+(L^F&(R^L))+k[13]+2850285829&4294967295,S=R+(P<<5&4294967295|P>>>27),P=F+(R^L&(S^R))+k[2]+4243563512&4294967295,F=S+(P<<9&4294967295|P>>>23),P=L+(S^R&(F^S))+k[7]+1735328473&4294967295,L=F+(P<<14&4294967295|P>>>18),P=R+(F^S&(L^F))+k[12]+2368359562&4294967295,R=L+(P<<20&4294967295|P>>>12),P=S+(R^L^F)+k[5]+4294588738&4294967295,S=R+(P<<4&4294967295|P>>>28),P=F+(S^R^L)+k[8]+2272392833&4294967295,F=S+(P<<11&4294967295|P>>>21),P=L+(F^S^R)+k[11]+1839030562&4294967295,L=F+(P<<16&4294967295|P>>>16),P=R+(L^F^S)+k[14]+4259657740&4294967295,R=L+(P<<23&4294967295|P>>>9),P=S+(R^L^F)+k[1]+2763975236&4294967295,S=R+(P<<4&4294967295|P>>>28),P=F+(S^R^L)+k[4]+1272893353&4294967295,F=S+(P<<11&4294967295|P>>>21),P=L+(F^S^R)+k[7]+4139469664&4294967295,L=F+(P<<16&4294967295|P>>>16),P=R+(L^F^S)+k[10]+3200236656&4294967295,R=L+(P<<23&4294967295|P>>>9),P=S+(R^L^F)+k[13]+681279174&4294967295,S=R+(P<<4&4294967295|P>>>28),P=F+(S^R^L)+k[0]+3936430074&4294967295,F=S+(P<<11&4294967295|P>>>21),P=L+(F^S^R)+k[3]+3572445317&4294967295,L=F+(P<<16&4294967295|P>>>16),P=R+(L^F^S)+k[6]+76029189&4294967295,R=L+(P<<23&4294967295|P>>>9),P=S+(R^L^F)+k[9]+3654602809&4294967295,S=R+(P<<4&4294967295|P>>>28),P=F+(S^R^L)+k[12]+3873151461&4294967295,F=S+(P<<11&4294967295|P>>>21),P=L+(F^S^R)+k[15]+530742520&4294967295,L=F+(P<<16&4294967295|P>>>16),P=R+(L^F^S)+k[2]+3299628645&4294967295,R=L+(P<<23&4294967295|P>>>9),P=S+(L^(R|~F))+k[0]+4096336452&4294967295,S=R+(P<<6&4294967295|P>>>26),P=F+(R^(S|~L))+k[7]+1126891415&4294967295,F=S+(P<<10&4294967295|P>>>22),P=L+(S^(F|~R))+k[14]+2878612391&4294967295,L=F+(P<<15&4294967295|P>>>17),P=R+(F^(L|~S))+k[5]+4237533241&4294967295,R=L+(P<<21&4294967295|P>>>11),P=S+(L^(R|~F))+k[12]+1700485571&4294967295,S=R+(P<<6&4294967295|P>>>26),P=F+(R^(S|~L))+k[3]+2399980690&4294967295,F=S+(P<<10&4294967295|P>>>22),P=L+(S^(F|~R))+k[10]+4293915773&4294967295,L=F+(P<<15&4294967295|P>>>17),P=R+(F^(L|~S))+k[1]+2240044497&4294967295,R=L+(P<<21&4294967295|P>>>11),P=S+(L^(R|~F))+k[8]+1873313359&4294967295,S=R+(P<<6&4294967295|P>>>26),P=F+(R^(S|~L))+k[15]+4264355552&4294967295,F=S+(P<<10&4294967295|P>>>22),P=L+(S^(F|~R))+k[6]+2734768916&4294967295,L=F+(P<<15&4294967295|P>>>17),P=R+(F^(L|~S))+k[13]+1309151649&4294967295,R=L+(P<<21&4294967295|P>>>11),P=S+(L^(R|~F))+k[4]+4149444226&4294967295,S=R+(P<<6&4294967295|P>>>26),P=F+(R^(S|~L))+k[11]+3174756917&4294967295,F=S+(P<<10&4294967295|P>>>22),P=L+(S^(F|~R))+k[2]+718787259&4294967295,L=F+(P<<15&4294967295|P>>>17),P=R+(F^(L|~S))+k[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(L+(P<<21&4294967295|P>>>11))&4294967295,N.g[2]=N.g[2]+L&4294967295,N.g[3]=N.g[3]+F&4294967295}s.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var R=S-this.blockSize,k=this.B,L=this.h,F=0;F<S;){if(L==0)for(;F<=R;)o(this,N,F),F+=this.blockSize;if(typeof N=="string"){for(;F<S;)if(k[L++]=N.charCodeAt(F++),L==this.blockSize){o(this,k),L=0;break}}else for(;F<S;)if(k[L++]=N[F++],L==this.blockSize){o(this,k),L=0;break}}this.h=L,this.o+=S},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var R=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=R&255,R/=256;for(this.u(N),N=Array(16),S=R=0;4>S;++S)for(var k=0;32>k;k+=8)N[R++]=this.g[S]>>>k&255;return N};function u(N,S){var R=f;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=S(N)}function h(N,S){this.h=S;for(var R=[],k=!0,L=N.length-1;0<=L;L--){var F=N[L]|0;k&&F==S||(R[L]=F,k=!1)}this.g=R}var f={};function g(N){return-128<=N&&128>N?u(N,function(S){return new h([S|0],0>S?-1:0)}):new h([N|0],0>N?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return T;if(0>N)return z(y(-N));for(var S=[],R=1,k=0;N>=R;k++)S[k]=N/R|0,R*=4294967296;return new h(S,0)}function w(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return z(w(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(S,8)),k=T,L=0;L<N.length;L+=8){var F=Math.min(8,N.length-L),P=parseInt(N.substring(L,L+F),S);8>F?(F=y(Math.pow(S,F)),k=k.j(F).add(y(P))):(k=k.j(R),k=k.add(y(P)))}return k}var T=g(0),I=g(1),V=g(16777216);r=h.prototype,r.m=function(){if(q(this))return-z(this).m();for(var N=0,S=1,R=0;R<this.g.length;R++){var k=this.i(R);N+=(0<=k?k:4294967296+k)*S,S*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(O(this))return"0";if(q(this))return"-"+z(this).toString(N);for(var S=y(Math.pow(N,6)),R=this,k="";;){var L=fe(R,S).g;R=Q(R,L.j(S));var F=((0<R.g.length?R.g[0]:R.h)>>>0).toString(N);if(R=L,O(R))return F+k;for(;6>F.length;)F="0"+F;k=F+k}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function O(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function q(N){return N.h==-1}r.l=function(N){return N=Q(this,N),q(N)?-1:O(N)?0:1};function z(N){for(var S=N.g.length,R=[],k=0;k<S;k++)R[k]=~N.g[k];return new h(R,~N.h).add(I)}r.abs=function(){return q(this)?z(this):this},r.add=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],k=0,L=0;L<=S;L++){var F=k+(this.i(L)&65535)+(N.i(L)&65535),P=(F>>>16)+(this.i(L)>>>16)+(N.i(L)>>>16);k=P>>>16,F&=65535,P&=65535,R[L]=P<<16|F}return new h(R,R[R.length-1]&-2147483648?-1:0)};function Q(N,S){return N.add(z(S))}r.j=function(N){if(O(this)||O(N))return T;if(q(this))return q(N)?z(this).j(z(N)):z(z(this).j(N));if(q(N))return z(this.j(z(N)));if(0>this.l(V)&&0>N.l(V))return y(this.m()*N.m());for(var S=this.g.length+N.g.length,R=[],k=0;k<2*S;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(var L=0;L<N.g.length;L++){var F=this.i(k)>>>16,P=this.i(k)&65535,tt=N.i(L)>>>16,xt=N.i(L)&65535;R[2*k+2*L]+=P*xt,J(R,2*k+2*L),R[2*k+2*L+1]+=F*xt,J(R,2*k+2*L+1),R[2*k+2*L+1]+=P*tt,J(R,2*k+2*L+1),R[2*k+2*L+2]+=F*tt,J(R,2*k+2*L+2)}for(k=0;k<S;k++)R[k]=R[2*k+1]<<16|R[2*k];for(k=S;k<2*S;k++)R[k]=0;return new h(R,0)};function J(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function re(N,S){this.g=N,this.h=S}function fe(N,S){if(O(S))throw Error("division by zero");if(O(N))return new re(T,T);if(q(N))return S=fe(z(N),S),new re(z(S.g),z(S.h));if(q(S))return S=fe(N,z(S)),new re(z(S.g),S.h);if(30<N.g.length){if(q(N)||q(S))throw Error("slowDivide_ only works with positive integers.");for(var R=I,k=S;0>=k.l(N);)R=Ce(R),k=Ce(k);var L=Te(R,1),F=Te(k,1);for(k=Te(k,2),R=Te(R,2);!O(k);){var P=F.add(k);0>=P.l(N)&&(L=L.add(R),F=P),k=Te(k,1),R=Te(R,1)}return S=Q(N,L.j(S)),new re(L,S)}for(L=T;0<=N.l(S);){for(R=Math.max(1,Math.floor(N.m()/S.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),F=y(R),P=F.j(S);q(P)||0<P.l(N);)R-=k,F=y(R),P=F.j(S);O(F)&&(F=I),L=L.add(F),N=Q(N,P)}return new re(L,N)}r.A=function(N){return fe(this,N).h},r.and=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],k=0;k<S;k++)R[k]=this.i(k)&N.i(k);return new h(R,this.h&N.h)},r.or=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],k=0;k<S;k++)R[k]=this.i(k)|N.i(k);return new h(R,this.h|N.h)},r.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],k=0;k<S;k++)R[k]=this.i(k)^N.i(k);return new h(R,this.h^N.h)};function Ce(N){for(var S=N.g.length+1,R=[],k=0;k<S;k++)R[k]=N.i(k)<<1|N.i(k-1)>>>31;return new h(R,N.h)}function Te(N,S){var R=S>>5;S%=32;for(var k=N.g.length-R,L=[],F=0;F<k;F++)L[F]=0<S?N.i(F+R)>>>S|N.i(F+R+1)<<32-S:N.i(F+R);return new h(L,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Yy=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=w,ri=h}).apply(typeof tg<"u"?tg:typeof self<"u"?self:typeof window<"u"?window:{});var ru=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xy,ca,Jy,cu,rd,Zy,ev,tv;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,p,v){return l==Array.prototype||l==Object.prototype||(l[p]=v.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof ru=="object"&&ru];for(var p=0;p<l.length;++p){var v=l[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(l,p){if(p)e:{var v=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var j=l[E];if(!(j in v))break e;v=v[j]}l=l[l.length-1],E=v[l],p=p(E),p!=E&&p!=null&&e(v,l,{configurable:!0,writable:!0,value:p})}}function u(l,p){l instanceof String&&(l+="");var v=0,E=!1,j={next:function(){if(!E&&v<l.length){var $=v++;return{value:p($,l[$]),done:!1}}return E=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(l){return l||function(){return u(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function g(l){var p=typeof l;return p=p!="object"?p:l?Array.isArray(l)?"array":p:"null",p=="array"||p=="object"&&typeof l.length=="number"}function y(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function w(l,p,v){return l.call.apply(l.bind,arguments)}function T(l,p,v){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,E),l.apply(p,j)}}return function(){return l.apply(p,arguments)}}function I(l,p,v){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:T,I.apply(null,arguments)}function V(l,p){var v=Array.prototype.slice.call(arguments,1);return function(){var E=v.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function O(l,p){function v(){}v.prototype=p.prototype,l.aa=p.prototype,l.prototype=new v,l.prototype.constructor=l,l.Qb=function(E,j,$){for(var te=Array(arguments.length-2),be=2;be<arguments.length;be++)te[be-2]=arguments[be];return p.prototype[j].apply(E,te)}}function q(l){const p=l.length;if(0<p){const v=Array(p);for(let E=0;E<p;E++)v[E]=l[E];return v}return[]}function z(l,p){for(let v=1;v<arguments.length;v++){const E=arguments[v];if(g(E)){const j=l.length||0,$=E.length||0;l.length=j+$;for(let te=0;te<$;te++)l[j+te]=E[te]}else l.push(E)}}class Q{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function J(l){return/^[\s\xa0]*$/.test(l)}function re(){var l=f.navigator;return l&&(l=l.userAgent)?l:""}function fe(l){return fe[" "](l),l}fe[" "]=function(){};var Ce=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function Te(l,p,v){for(const E in l)p.call(v,l[E],E,l)}function N(l,p){for(const v in l)p.call(void 0,l[v],v,l)}function S(l){const p={};for(const v in l)p[v]=l[v];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,p){let v,E;for(let j=1;j<arguments.length;j++){E=arguments[j];for(v in E)l[v]=E[v];for(let $=0;$<R.length;$++)v=R[$],Object.prototype.hasOwnProperty.call(E,v)&&(l[v]=E[v])}}function L(l){var p=1;l=l.split(":");const v=[];for(;0<p&&l.length;)v.push(l.shift()),p--;return l.length&&v.push(l.join(":")),v}function F(l){f.setTimeout(()=>{throw l},0)}function P(){var l=me;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class tt{constructor(){this.h=this.g=null}add(p,v){const E=xt.get();E.set(p,v),this.h?this.h.next=E:this.g=E,this.h=E}}var xt=new Q(()=>new kt,l=>l.reset());class kt{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ue,ne=!1,me=new tt,se=()=>{const l=f.Promise.resolve(void 0);Ue=()=>{l.then(M)}};var M=()=>{for(var l;l=P();){try{l.h.call(l.g)}catch(v){F(v)}var p=xt;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}ne=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return l}();function Se(l,p){if(de.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var v=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(Ce){e:{try{fe(p.nodeName);var j=!0;break e}catch{}j=!1}j||(p=null)}}else v=="mouseover"?p=l.fromElement:v=="mouseout"&&(p=l.toElement);this.relatedTarget=p,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:ke[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Se.aa.h.call(this)}}O(Se,de);var ke={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function Be(l,p,v,E,j){this.listener=l,this.proxy=null,this.src=p,this.type=v,this.capture=!!E,this.ha=j,this.key=++Fe,this.da=this.fa=!1}function gt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function rr(l){this.src=l,this.g={},this.h=0}rr.prototype.add=function(l,p,v,E,j){var $=l.toString();l=this.g[$],l||(l=this.g[$]=[],this.h++);var te=xr(l,p,E,j);return-1<te?(p=l[te],v||(p.fa=!1)):(p=new Be(p,this.src,$,!!E,j),p.fa=v,l.push(p)),p};function es(l,p){var v=p.type;if(v in l.g){var E=l.g[v],j=Array.prototype.indexOf.call(E,p,void 0),$;($=0<=j)&&Array.prototype.splice.call(E,j,1),$&&(gt(p),l.g[v].length==0&&(delete l.g[v],l.h--))}}function xr(l,p,v,E){for(var j=0;j<l.length;++j){var $=l[j];if(!$.da&&$.listener==p&&$.capture==!!v&&$.ha==E)return j}return-1}var gi="closure_lm_"+(1e6*Math.random()|0),ts={};function fo(l,p,v,E,j){if(Array.isArray(p)){for(var $=0;$<p.length;$++)fo(l,p[$],v,E,j);return null}return v=go(v),l&&l[Oe]?l.K(p,v,y(E)?!!E.capture:!!E,j):po(l,p,v,!1,E,j)}function po(l,p,v,E,j,$){if(!p)throw Error("Invalid event type");var te=y(j)?!!j.capture:!!j,be=rs(l);if(be||(l[gi]=be=new rr(l)),v=be.add(p,v,E,te,$),v.proxy)return v;if(E=Ua(),v.proxy=E,E.src=l,E.listener=v,l.addEventListener)Ie||(j=te),j===void 0&&(j=!1),l.addEventListener(p.toString(),E,j);else if(l.attachEvent)l.attachEvent(sr(p.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ua(){function l(v){return p.call(l.src,l.listener,v)}const p=mo;return l}function ns(l,p,v,E,j){if(Array.isArray(p))for(var $=0;$<p.length;$++)ns(l,p[$],v,E,j);else E=y(E)?!!E.capture:!!E,v=go(v),l&&l[Oe]?(l=l.i,p=String(p).toString(),p in l.g&&($=l.g[p],v=xr($,v,E,j),-1<v&&(gt($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete l.g[p],l.h--)))):l&&(l=rs(l))&&(p=l.g[p.toString()],l=-1,p&&(l=xr(p,v,E,j)),(v=-1<l?p[l]:null)&&ir(v))}function ir(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[Oe])es(p.i,l);else{var v=l.type,E=l.proxy;p.removeEventListener?p.removeEventListener(v,E,l.capture):p.detachEvent?p.detachEvent(sr(v),E):p.addListener&&p.removeListener&&p.removeListener(E),(v=rs(p))?(es(v,l),v.h==0&&(v.src=null,p[gi]=null)):gt(l)}}}function sr(l){return l in ts?ts[l]:ts[l]="on"+l}function mo(l,p){if(l.da)l=!0;else{p=new Se(p,this);var v=l.listener,E=l.ha||l.src;l.fa&&ir(l),l=v.call(E,p)}return l}function rs(l){return l=l[gi],l instanceof rr?l:null}var is="__closure_events_fn_"+(1e9*Math.random()>>>0);function go(l){return typeof l=="function"?l:(l[is]||(l[is]=function(p){return l.handleEvent(p)}),l[is])}function ut(){G.call(this),this.i=new rr(this),this.M=this,this.F=null}O(ut,G),ut.prototype[Oe]=!0,ut.prototype.removeEventListener=function(l,p,v,E){ns(this,l,p,v,E)};function ct(l,p){var v,E=l.F;if(E)for(v=[];E;E=E.F)v.push(E);if(l=l.M,E=p.type||p,typeof p=="string")p=new de(p,l);else if(p instanceof de)p.target=p.target||l;else{var j=p;p=new de(E,l),k(p,j)}if(j=!0,v)for(var $=v.length-1;0<=$;$--){var te=p.g=v[$];j=or(te,E,!0,p)&&j}if(te=p.g=l,j=or(te,E,!0,p)&&j,j=or(te,E,!1,p)&&j,v)for($=0;$<v.length;$++)te=p.g=v[$],j=or(te,E,!1,p)&&j}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var l=this.i,p;for(p in l.g){for(var v=l.g[p],E=0;E<v.length;E++)gt(v[E]);delete l.g[p],l.h--}}this.F=null},ut.prototype.K=function(l,p,v,E){return this.i.add(String(l),p,!1,v,E)},ut.prototype.L=function(l,p,v,E){return this.i.add(String(l),p,!0,v,E)};function or(l,p,v,E){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();for(var j=!0,$=0;$<p.length;++$){var te=p[$];if(te&&!te.da&&te.capture==v){var be=te.listener,ht=te.ha||te.src;te.fa&&es(l.i,te),j=be.call(ht,E)!==!1&&j}}return j&&!E.defaultPrevented}function yo(l,p,v){if(typeof l=="function")v&&(l=I(l,v));else if(l&&typeof l.handleEvent=="function")l=I(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:f.setTimeout(l,p||0)}function kr(l){l.g=yo(()=>{l.g=null,l.i&&(l.i=!1,kr(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class yi extends G{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:kr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vi(l){G.call(this),this.h=l,this.g={}}O(vi,G);var vo=[];function _o(l){Te(l.g,function(p,v){this.g.hasOwnProperty(v)&&ir(p)},l),l.g={}}vi.prototype.N=function(){vi.aa.N.call(this),_o(this)},vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wo=f.JSON.stringify,Eo=f.JSON.parse,To=class{stringify(l){return f.JSON.stringify(l,void 0)}parse(l){return f.JSON.parse(l,void 0)}};function _i(){}_i.prototype.h=null;function ss(l){return l.h||(l.h=l.i())}function os(){}var hn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bn(){de.call(this,"d")}O(bn,de);function as(){de.call(this,"c")}O(as,de);var Un={},Io=null;function wi(){return Io=Io||new ut}Un.La="serverreachability";function So(l){de.call(this,Un.La,l)}O(So,de);function ar(l){const p=wi();ct(p,new So(p))}Un.STAT_EVENT="statevent";function Ao(l,p){de.call(this,Un.STAT_EVENT,l),this.stat=p}O(Ao,de);function nt(l){const p=wi();ct(p,new Ao(p,l))}Un.Ma="timingevent";function ls(l,p){de.call(this,Un.Ma,l),this.size=p}O(ls,de);function Tn(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){l()},p)}function Ei(){this.g=!0}Ei.prototype.xa=function(){this.g=!1};function Ti(l,p,v,E,j,$){l.info(function(){if(l.g)if($)for(var te="",be=$.split("&"),ht=0;ht<be.length;ht++){var Ne=be[ht].split("=");if(1<Ne.length){var yt=Ne[0];Ne=Ne[1];var st=yt.split("_");te=2<=st.length&&st[1]=="type"?te+(yt+"="+Ne+"&"):te+(yt+"=redacted&")}}else te=null;else te=$;return"XMLHTTP REQ ("+E+") [attempt "+j+"]: "+p+`
`+v+`
`+te})}function us(l,p,v,E,j,$,te){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+j+"]: "+p+`
`+v+`
`+$+" "+te})}function In(l,p,v,E){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+ic(l,v)+(E?" "+E:"")})}function Co(l,p){l.info(function(){return"TIMEOUT: "+p})}Ei.prototype.info=function(){};function ic(l,p){if(!l.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(l=0;l<v.length;l++)if(Array.isArray(v[l])){var E=v[l];if(!(2>E.length)){var j=E[1];if(Array.isArray(j)&&!(1>j.length)){var $=j[0];if($!="noop"&&$!="stop"&&$!="close")for(var te=1;te<j.length;te++)j[te]=""}}}}return wo(v)}catch{return p}}var cs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},za={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sn;function Ii(){}O(Ii,_i),Ii.prototype.g=function(){return new XMLHttpRequest},Ii.prototype.i=function(){return{}},Sn=new Ii;function An(l,p,v,E){this.j=l,this.i=p,this.l=v,this.R=E||1,this.U=new vi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ba}function Ba(){this.i=null,this.g="",this.h=!1}var Ro={},hs={};function ds(l,p,v){l.L=1,l.v=Mr(tn(p)),l.m=v,l.P=!0,Po(l,null)}function Po(l,p){l.F=Date.now(),$e(l),l.A=tn(l.v);var v=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),Fr(v.i,"t",E),l.C=0,v=l.j.J,l.h=new Ba,l.g=ol(l.j,v?p:null,!l.m),0<l.O&&(l.M=new yi(I(l.Y,l,l.g),l.O)),p=l.U,v=l.g,E=l.ca;var j="readystatechange";Array.isArray(j)||(j&&(vo[0]=j.toString()),j=vo);for(var $=0;$<j.length;$++){var te=fo(v,j[$],E||p.handleEvent,!1,p.h||p);if(!te)break;p.g[te.key]=te}p=l.H?S(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),ar(),Ti(l.i,l.u,l.A,l.l,l.R,l.m)}An.prototype.ca=function(l){l=l.target;const p=this.M;p&&$t(l)==3?p.j():this.Y(l)},An.prototype.Y=function(l){try{if(l==this.g)e:{const st=$t(this.g);var p=this.g.Ba();const pn=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||Lo(this.g)))){this.J||st!=4||p==7||(p==8||0>=pn?ar(3):ar(2)),Si(this);var v=this.g.Z();this.X=v;t:if($a(this)){var E=Lo(this.g);l="";var j=E.length,$=$t(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dn(this),Nr(this);var te="";break t}this.h.i=new f.TextDecoder}for(p=0;p<j;p++)this.h.h=!0,l+=this.h.i.decode(E[p],{stream:!($&&p==j-1)});E.length=0,this.h.g+=l,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=v==200,us(this.i,this.u,this.A,this.l,this.R,st,v),this.o){if(this.T&&!this.K){t:{if(this.g){var be,ht=this.g;if((be=ht.g?ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(be)){var Ne=be;break t}}Ne=null}if(v=Ne)In(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xo(this,v);else{this.o=!1,this.s=3,nt(12),dn(this),Nr(this);break e}}if(this.P){v=!0;let rn;for(;!this.J&&this.C<te.length;)if(rn=sc(this,te),rn==hs){st==4&&(this.s=4,nt(14),v=!1),In(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==Ro){this.s=4,nt(15),In(this.i,this.l,te,"[Invalid Chunk]"),v=!1;break}else In(this.i,this.l,rn,null),xo(this,rn);if($a(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||te.length!=0||this.h.h||(this.s=1,nt(16),v=!1),this.o=this.o&&v,!v)In(this.i,this.l,te,"[Invalid Chunked Response]"),dn(this),Nr(this);else if(0<te.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),Oo(yt),yt.M=!0,nt(11))}}else In(this.i,this.l,te,null),xo(this,te);st==4&&dn(this),this.o&&!this.J&&(st==4?Is(this.j,this):(this.o=!1,$e(this)))}else vs(this.g),v==400&&0<te.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),dn(this),Nr(this)}}}catch{}finally{}};function $a(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function sc(l,p){var v=l.C,E=p.indexOf(`
`,v);return E==-1?hs:(v=Number(p.substring(v,E)),isNaN(v)?Ro:(E+=1,E+v>p.length?hs:(p=p.slice(E,E+v),l.C=E+v,p)))}An.prototype.cancel=function(){this.J=!0,dn(this)};function $e(l){l.S=Date.now()+l.I,qa(l,l.I)}function qa(l,p){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Tn(I(l.ba,l),p)}function Si(l){l.B&&(f.clearTimeout(l.B),l.B=null)}An.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Co(this.i,this.A),this.L!=2&&(ar(),nt(17)),dn(this),this.s=2,Nr(this)):qa(this,this.S-l)};function Nr(l){l.j.G==0||l.J||Is(l.j,l)}function dn(l){Si(l);var p=l.M;p&&typeof p.ma=="function"&&p.ma(),l.M=null,_o(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function xo(l,p){try{var v=l.j;if(v.G!=0&&(v.g==l||jt(v.h,l))){if(!l.K&&jt(v.h,l)&&v.G==3){try{var E=v.Da.g.parse(p)}catch{E=null}if(Array.isArray(E)&&E.length==3){var j=E;if(j[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<l.F)Ts(v),kn(v);else break e;Es(v),nt(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=Tn(I(v.Za,v),6e3));if(1>=Wa(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else dr(v,11)}else if((l.K||v.g==l)&&Ts(v),!J(p))for(j=v.Da.g.parse(p),p=0;p<j.length;p++){let Ne=j[p];if(v.T=Ne[0],Ne=Ne[1],v.G==2)if(Ne[0]=="c"){v.K=Ne[1],v.ia=Ne[2];const yt=Ne[3];yt!=null&&(v.la=yt,v.j.info("VER="+v.la));const st=Ne[4];st!=null&&(v.Aa=st,v.j.info("SVER="+v.Aa));const pn=Ne[5];pn!=null&&typeof pn=="number"&&0<pn&&(E=1.5*pn,v.L=E,v.j.info("backChannelRequestTimeoutMs_="+E)),E=v;const rn=l.g;if(rn){const Ni=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ni){var $=E.h;$.g||Ni.indexOf("spdy")==-1&&Ni.indexOf("quic")==-1&&Ni.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(ko($,$.h),$.h=null))}if(E.D){const As=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;As&&(E.ya=As,ze(E.I,E.D,As))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-l.F,v.j.info("Handshake RTT: "+v.R+"ms")),E=v;var te=l;if(E.qa=sl(E,E.J?E.ia:null,E.W),te.K){Ka(E.h,te);var be=te,ht=E.L;ht&&(be.I=ht),be.B&&(Si(be),$e(be)),E.g=te}else ki(E);0<v.i.length&&qn(v)}else Ne[0]!="stop"&&Ne[0]!="close"||dr(v,7);else v.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?dr(v,7):It(v):Ne[0]!="noop"&&v.l&&v.l.ta(Ne),v.v=0)}}ar(4)}catch{}}var Ha=class{constructor(l,p){this.g=l,this.map=p}};function Ai(l){this.l=l||10,f.PerformanceNavigationTiming?(l=f.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function en(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Wa(l){return l.h?1:l.g?l.g.size:0}function jt(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function ko(l,p){l.g?l.g.add(p):l.h=p}function Ka(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}Ai.prototype.cancel=function(){if(this.i=Ga(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Ga(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const v of l.g.values())p=p.concat(v.D);return p}return q(l.i)}function fs(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var p=[],v=l.length,E=0;E<v;E++)p.push(l[E]);return p}p=[],v=0;for(E in l)p[v++]=l[E];return p}function ps(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var p=[];l=l.length;for(var v=0;v<l;v++)p.push(v);return p}p=[],v=0;for(const E in l)p[v++]=E;return p}}}function Dr(l,p){if(l.forEach&&typeof l.forEach=="function")l.forEach(p,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,p,void 0);else for(var v=ps(l),E=fs(l),j=E.length,$=0;$<j;$++)p.call(void 0,E[$],v&&v[$],l)}var Ci=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oc(l,p){if(l){l=l.split("&");for(var v=0;v<l.length;v++){var E=l[v].indexOf("="),j=null;if(0<=E){var $=l[v].substring(0,E);j=l[v].substring(E+1)}else $=l[v];p($,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function lr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof lr){this.h=l.h,Ri(this,l.j),this.o=l.o,this.g=l.g,Vr(this,l.s),this.l=l.l;var p=l.i,v=new zn;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),Lr(this,v),this.m=l.m}else l&&(p=String(l).match(Ci))?(this.h=!1,Ri(this,p[1]||"",!0),this.o=Pe(p[2]||""),this.g=Pe(p[3]||"",!0),Vr(this,p[4]),this.l=Pe(p[5]||"",!0),Lr(this,p[6]||"",!0),this.m=Pe(p[7]||"")):(this.h=!1,this.i=new zn(null,this.h))}lr.prototype.toString=function(){var l=[],p=this.j;p&&l.push(Or(p,ms,!0),":");var v=this.g;return(v||p=="file")&&(l.push("//"),(p=this.o)&&l.push(Or(p,ms,!0),"@"),l.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&l.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&l.push("/"),l.push(Or(v,v.charAt(0)=="/"?Xa:Ya,!0))),(v=this.i.toString())&&l.push("?",v),(v=this.m)&&l.push("#",Or(v,No)),l.join("")};function tn(l){return new lr(l)}function Ri(l,p,v){l.j=v?Pe(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function Vr(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function Lr(l,p,v){p instanceof zn?(l.i=p,Bn(l.i,l.h)):(v||(p=Or(p,Ja)),l.i=new zn(p,l.h))}function ze(l,p,v){l.i.set(p,v)}function Mr(l){return ze(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Pe(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Or(l,p,v){return typeof l=="string"?(l=encodeURI(l).replace(p,Qa),v&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Qa(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var ms=/[#\/\?@]/g,Ya=/[#\?:]/g,Xa=/[#\?]/g,Ja=/[#\?@]/g,No=/#/g;function zn(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function Tt(l){l.g||(l.g=new Map,l.h=0,l.i&&oc(l.i,function(p,v){l.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=zn.prototype,r.add=function(l,p){Tt(this),this.i=null,l=fn(this,l);var v=this.g.get(l);return v||this.g.set(l,v=[]),v.push(p),this.h+=1,this};function Cn(l,p){Tt(l),p=fn(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function Rn(l,p){return Tt(l),p=fn(l,p),l.g.has(p)}r.forEach=function(l,p){Tt(this),this.g.forEach(function(v,E){v.forEach(function(j){l.call(p,j,E,this)},this)},this)},r.na=function(){Tt(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let E=0;E<p.length;E++){const j=l[E];for(let $=0;$<j.length;$++)v.push(p[E])}return v},r.V=function(l){Tt(this);let p=[];if(typeof l=="string")Rn(this,l)&&(p=p.concat(this.g.get(fn(this,l))));else{l=Array.from(this.g.values());for(let v=0;v<l.length;v++)p=p.concat(l[v])}return p},r.set=function(l,p){return Tt(this),this.i=null,l=fn(this,l),Rn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},r.get=function(l,p){return l?(l=this.V(l),0<l.length?String(l[0]):p):p};function Fr(l,p,v){Cn(l,p),0<v.length&&(l.i=null,l.g.set(fn(l,p),q(v)),l.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var E=p[v];const $=encodeURIComponent(String(E)),te=this.V(E);for(E=0;E<te.length;E++){var j=$;te[E]!==""&&(j+="="+encodeURIComponent(String(te[E]))),l.push(j)}}return this.i=l.join("&")};function fn(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function Bn(l,p){p&&!l.j&&(Tt(l),l.i=null,l.g.forEach(function(v,E){var j=E.toLowerCase();E!=j&&(Cn(this,E),Fr(this,j,v))},l)),l.j=p}function ac(l,p){const v=new Ei;if(f.Image){const E=new Image;E.onload=V(Bt,v,"TestLoadImage: loaded",!0,p,E),E.onerror=V(Bt,v,"TestLoadImage: error",!1,p,E),E.onabort=V(Bt,v,"TestLoadImage: abort",!1,p,E),E.ontimeout=V(Bt,v,"TestLoadImage: timeout",!1,p,E),f.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else p(!1)}function Za(l,p){const v=new Ei,E=new AbortController,j=setTimeout(()=>{E.abort(),Bt(v,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:E.signal}).then($=>{clearTimeout(j),$.ok?Bt(v,"TestPingServer: ok",!0,p):Bt(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(j),Bt(v,"TestPingServer: error",!1,p)})}function Bt(l,p,v,E,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),E(v)}catch{}}function lc(){this.g=new To}function el(l,p,v){const E=v||"";try{Dr(l,function(j,$){let te=j;y(j)&&(te=wo(j)),p.push(E+$+"="+encodeURIComponent(te))})}catch(j){throw p.push(E+"type="+encodeURIComponent("_badmap")),j}}function ur(l){this.l=l.Ub||null,this.j=l.eb||!1}O(ur,_i),ur.prototype.g=function(){return new Pi(this.l,this.j)},ur.prototype.i=function(l){return function(){return l}}({});function Pi(l,p){ut.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Pi,ut),r=Pi.prototype,r.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,xn(this)},r.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||f).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pn(this)),this.readyState=0},r.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,xn(this)),this.g&&(this.readyState=3,xn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tl(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function tl(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}r.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?Pn(this):xn(this),this.readyState==3&&tl(this)}},r.Ra=function(l){this.g&&(this.response=this.responseText=l,Pn(this))},r.Qa=function(l){this.g&&(this.response=l,Pn(this))},r.ga=function(){this.g&&Pn(this)};function Pn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,xn(l)}r.setRequestHeader=function(l,p){this.u.append(l,p)},r.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,l.push(v[0]+": "+v[1]),v=p.next();return l.join(`\r
`)};function xn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function cr(l){let p="";return Te(l,function(v,E){p+=E,p+=":",p+=v,p+=`\r
`}),p}function jr(l,p,v){e:{for(E in v){var E=!1;break e}E=!0}E||(v=cr(v),typeof l=="string"?v!=null&&encodeURIComponent(String(v)):ze(l,p,v))}function Ge(l){ut.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Ge,ut);var uc=/^https?$/i,Do=["POST","PUT"];r=Ge.prototype,r.Ha=function(l){this.J=l},r.ea=function(l,p,v,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sn.g(),this.v=this.o?ss(this.o):ss(Sn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch($){xi(this,$);return}if(l=v||"",v=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var j in E)v.set(j,E[j]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const $ of E.keys())v.set($,E.get($));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),j=f.FormData&&l instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Do,p,void 0))||E||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,te]of v)this.g.setRequestHeader($,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ys(this),this.u=!0,this.g.send(l),this.u=!1}catch($){xi(this,$)}};function xi(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,gs(l),nn(l)}function gs(l){l.A||(l.A=!0,ct(l,"complete"),ct(l,"error"))}r.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ct(this,"complete"),ct(this,"abort"),nn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nn(this,!0)),Ge.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Vo(this):this.bb())},r.bb=function(){Vo(this)};function Vo(l){if(l.h&&typeof h<"u"&&(!l.v[1]||$t(l)!=4||l.Z()!=2)){if(l.u&&$t(l)==4)yo(l.Ea,0,l);else if(ct(l,"readystatechange"),$t(l)==4){l.h=!1;try{const te=l.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var E;if(E=te===0){var j=String(l.D).match(Ci)[1]||null;!j&&f.self&&f.self.location&&(j=f.self.location.protocol.slice(0,-1)),E=!uc.test(j?j.toLowerCase():"")}v=E}if(v)ct(l,"complete"),ct(l,"success");else{l.m=6;try{var $=2<$t(l)?l.g.statusText:""}catch{$=""}l.l=$+" ["+l.Z()+"]",gs(l)}}finally{nn(l)}}}}function nn(l,p){if(l.g){ys(l);const v=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||ct(l,"ready");try{v.onreadystatechange=E}catch{}}}function ys(l){l.I&&(f.clearTimeout(l.I),l.I=null)}r.isActive=function(){return!!this.g};function $t(l){return l.g?l.g.readyState:0}r.Z=function(){try{return 2<$t(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),Eo(p)}};function Lo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function vs(l){const p={};l=(l.g&&2<=$t(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(J(l[E]))continue;var v=L(l[E]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=p[j]||[];p[j]=$,$.push(v)}N(p,function(E){return E.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $n(l,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[l]||p}function Mo(l){this.Aa=0,this.i=[],this.j=new Ei,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$n("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$n("baseRetryDelayMs",5e3,l),this.cb=$n("retryDelaySeedMs",1e4,l),this.Wa=$n("forwardChannelMaxRetries",2,l),this.wa=$n("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Ai(l&&l.concurrentRequestLimit),this.Da=new lc,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Mo.prototype,r.la=8,r.G=1,r.connect=function(l,p,v,E){nt(0),this.W=l,this.H=p||{},v&&E!==void 0&&(this.H.OSID=v,this.H.OAID=E),this.F=this.X,this.I=sl(this,null,this.W),qn(this)};function It(l){if(_s(l),l.G==3){var p=l.U++,v=tn(l.I);if(ze(v,"SID",l.K),ze(v,"RID",p),ze(v,"TYPE","terminate"),hr(l,v),p=new An(l,l.j,p),p.L=2,p.v=Mr(tn(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.v,v=!0),v||(p.g=ol(p.j,null),p.g.ea(p.v)),p.F=Date.now(),$e(p)}il(l)}function kn(l){l.g&&(Oo(l),l.g.cancel(),l.g=null)}function _s(l){kn(l),l.u&&(f.clearTimeout(l.u),l.u=null),Ts(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&f.clearTimeout(l.s),l.s=null)}function qn(l){if(!en(l.h)&&!l.s){l.s=!0;var p=l.Ga;Ue||se(),ne||(Ue(),ne=!0),me.add(p,l),l.B=0}}function cc(l,p){return Wa(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=p.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Tn(I(l.Ga,l,p),rl(l,l.B)),l.B++,!0)}r.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const j=new An(this,this.j,l);let $=this.o;if(this.S&&($?($=S($),k($,this.S)):$=this.S),this.m!==null||this.O||(j.H=$,$=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var E=this.i[v];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(p+=E,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=br(this,j,p),v=tn(this.I),ze(v,"RID",l),ze(v,"CVER",22),this.D&&ze(v,"X-HTTP-Session-Id",this.D),hr(this,v),$&&(this.O?p="headers="+encodeURIComponent(String(cr($)))+"&"+p:this.m&&jr(v,this.m,$)),ko(this.h,j),this.Ua&&ze(v,"TYPE","init"),this.P?(ze(v,"$req",p),ze(v,"SID","null"),j.T=!0,ds(j,v,null)):ds(j,v,p),this.G=2}}else this.G==3&&(l?ws(this,l):this.i.length==0||en(this.h)||ws(this))};function ws(l,p){var v;p?v=p.l:v=l.U++;const E=tn(l.I);ze(E,"SID",l.K),ze(E,"RID",v),ze(E,"AID",l.T),hr(l,E),l.m&&l.o&&jr(E,l.m,l.o),v=new An(l,l.j,v,l.B+1),l.m===null&&(v.H=l.o),p&&(l.i=p.D.concat(l.i)),p=br(l,v,1e3),v.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),ko(l.h,v),ds(v,E,p)}function hr(l,p){l.H&&Te(l.H,function(v,E){ze(p,E,v)}),l.l&&Dr({},function(v,E){ze(p,E,v)})}function br(l,p,v){v=Math.min(l.i.length,v);var E=l.l?I(l.l.Na,l.l,l):null;e:{var j=l.i;let $=-1;for(;;){const te=["count="+v];$==-1?0<v?($=j[0].g,te.push("ofs="+$)):$=0:te.push("ofs="+$);let be=!0;for(let ht=0;ht<v;ht++){let Ne=j[ht].g;const yt=j[ht].map;if(Ne-=$,0>Ne)$=Math.max(0,j[ht].g-100),be=!1;else try{el(yt,te,"req"+Ne+"_")}catch{E&&E(yt)}}if(be){E=te.join("&");break e}}}return l=l.i.splice(0,v),p.D=l,E}function ki(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;Ue||se(),ne||(Ue(),ne=!0),me.add(p,l),l.v=0}}function Es(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Tn(I(l.Fa,l),rl(l,l.v)),l.v++,!0)}r.Fa=function(){if(this.u=null,nl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Tn(I(this.ab,this),l)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),kn(this),nl(this))};function Oo(l){l.A!=null&&(f.clearTimeout(l.A),l.A=null)}function nl(l){l.g=new An(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var p=tn(l.qa);ze(p,"RID","rpc"),ze(p,"SID",l.K),ze(p,"AID",l.T),ze(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&ze(p,"TO",l.ja),ze(p,"TYPE","xmlhttp"),hr(l,p),l.m&&l.o&&jr(p,l.m,l.o),l.L&&(l.g.I=l.L);var v=l.g;l=l.ia,v.L=1,v.v=Mr(tn(p)),v.m=null,v.P=!0,Po(v,l)}r.Za=function(){this.C!=null&&(this.C=null,kn(this),Es(this),nt(19))};function Ts(l){l.C!=null&&(f.clearTimeout(l.C),l.C=null)}function Is(l,p){var v=null;if(l.g==p){Ts(l),Oo(l),l.g=null;var E=2}else if(jt(l.h,p))v=p.D,Ka(l.h,p),E=1;else return;if(l.G!=0){if(p.o)if(E==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var j=l.B;E=wi(),ct(E,new ls(E,v)),qn(l)}else ki(l);else if(j=p.s,j==3||j==0&&0<p.X||!(E==1&&cc(l,p)||E==2&&Es(l)))switch(v&&0<v.length&&(p=l.h,p.i=p.i.concat(v)),j){case 1:dr(l,5);break;case 4:dr(l,10);break;case 3:dr(l,6);break;default:dr(l,2)}}}function rl(l,p){let v=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(v*=2),v*p}function dr(l,p){if(l.j.info("Error code "+p),p==2){var v=I(l.fb,l),E=l.Xa;const j=!E;E=new lr(E||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ri(E,"https"),Mr(E),j?ac(E.toString(),v):Za(E.toString(),v)}else nt(2);l.G=0,l.l&&l.l.sa(p),il(l),_s(l)}r.fb=function(l){l?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function il(l){if(l.G=0,l.ka=[],l.l){const p=Ga(l.h);(p.length!=0||l.i.length!=0)&&(z(l.ka,p),z(l.ka,l.i),l.h.i.length=0,q(l.i),l.i.length=0),l.l.ra()}}function sl(l,p,v){var E=v instanceof lr?tn(v):new lr(v);if(E.g!="")p&&(E.g=p+"."+E.g),Vr(E,E.s);else{var j=f.location;E=j.protocol,p=p?p+"."+j.hostname:j.hostname,j=+j.port;var $=new lr(null);E&&Ri($,E),p&&($.g=p),j&&Vr($,j),v&&($.l=v),E=$}return v=l.D,p=l.ya,v&&p&&ze(E,v,p),ze(E,"VER",l.la),hr(l,E),E}function ol(l,p,v){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Ca&&!l.pa?new Ge(new ur({eb:v})):new Ge(l.pa),p.Ha(l.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fo(){}r=Fo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ss(){}Ss.prototype.g=function(l,p){return new bt(l,p)};function bt(l,p){ut.call(this),this.g=new Mo(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!J(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!J(p)&&(this.g.D=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new Hn(this)}O(bt,ut),bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bt.prototype.close=function(){It(this.g)},bt.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var v={};v.__data__=l,l=v}else this.u&&(v={},v.__data__=wo(l),l=v);p.i.push(new Ha(p.Ya++,l)),p.G==3&&qn(p)},bt.prototype.N=function(){this.g.l=null,delete this.j,It(this.g),delete this.g,bt.aa.N.call(this)};function al(l){bn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const v in p){l=v;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}O(al,bn);function ll(){as.call(this),this.status=1}O(ll,as);function Hn(l){this.g=l}O(Hn,Fo),Hn.prototype.ua=function(){ct(this.g,"a")},Hn.prototype.ta=function(l){ct(this.g,new al(l))},Hn.prototype.sa=function(l){ct(this.g,new ll)},Hn.prototype.ra=function(){ct(this.g,"b")},Ss.prototype.createWebChannel=Ss.prototype.g,bt.prototype.send=bt.prototype.o,bt.prototype.open=bt.prototype.m,bt.prototype.close=bt.prototype.close,tv=function(){return new Ss},ev=function(){return wi()},Zy=Un,rd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cs.NO_ERROR=0,cs.TIMEOUT=8,cs.HTTP_ERROR=6,cu=cs,za.COMPLETE="complete",Jy=za,os.EventType=hn,hn.OPEN="a",hn.CLOSE="b",hn.ERROR="c",hn.MESSAGE="d",ut.prototype.listen=ut.prototype.K,ca=os,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,Xy=Ge}).apply(typeof ru<"u"?ru:typeof self<"u"?self:typeof window<"u"?window:{});const ng="@firebase/firestore",rg="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ao="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=new Rd("@firebase/firestore");function Ws(){return Yi.logLevel}function oe(r,...e){if(Yi.logLevel<=Ve.DEBUG){const t=e.map(Ld);Yi.debug(`Firestore (${ao}): ${r}`,...t)}}function Ar(r,...e){if(Yi.logLevel<=Ve.ERROR){const t=e.map(Ld);Yi.error(`Firestore (${ao}): ${r}`,...t)}}function Xs(r,...e){if(Yi.logLevel<=Ve.WARN){const t=e.map(Ld);Yi.warn(`Firestore (${ao}): ${r}`,...t)}}function Ld(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(r="Unexpected state"){const e=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: `+r;throw Ar(e),new Error(e)}function je(r,e){r||ve()}function Ee(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends fi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ot.UNAUTHENTICATED))}shutdown(){}}class pI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class mI{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){je(this.o===void 0);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let u=new Tr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Tr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},f=g=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>f(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Tr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(je(typeof s.accessToken=="string"),new nv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new Ot(e)}}class gI{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class yI{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new gI(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ig{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vI{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,DT(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){je(this.o===void 0);const s=u=>{u.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,oe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new ig(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(je(typeof t.token=="string"),this.R=t.token,new ig(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=_I(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function xe(r,e){return r<e?-1:r>e?1:0}function Js(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg=-62135596800,og=1e6;class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*og);return new pt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ae(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ae(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<sg)throw new ae(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/og}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-sg;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new pt(0,0))}static max(){return new we(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="__name__";class Yn{constructor(e,t,s){t===void 0?t=0:t>e.length&&ve(),s===void 0?s=e.length-t:s>e.length-t&&ve(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Yn.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yn?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Yn.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=Yn.isNumericId(e),o=Yn.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Yn.extractNumericId(e).compare(Yn.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ri.fromString(e.substring(4,e.length-2))}}class Ke extends Yn{construct(e,t,s){return new Ke(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ae(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new Ke(t)}static emptyPath(){return new Ke([])}}const wI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends Yn{construct(e,t,s){return new Rt(e,t,s)}static isValidIdentifier(e){return wI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ag}static keyField(){return new Rt([ag])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ae(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ae(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ae(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(s+=f,o++):(u(),o++)}if(u(),h)throw new ae(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(t)}static emptyPath(){return new Rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Ke.fromString(e))}static fromName(e){return new pe(Ke.fromString(e).popFirst(5))}static empty(){return new pe(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ke.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Ke(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=-1;function EI(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new pt(t+1,0):new pt(t,s));return new ai(o,pe.empty(),e)}function TI(r){return new ai(r.readTime,r.key,Ta)}class ai{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new ai(we.min(),pe.empty(),Ta)}static max(){return new ai(we.max(),pe.empty(),Ta)}}function II(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=pe.comparator(r.documentKey,e.documentKey),t!==0?t:xe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lo(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==SI)throw r;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):K.reject(t)}static resolve(e){return new K((t,s)=>{t(e)})}static reject(e){return new K((t,s)=>{s(e)})}static waitFor(e){return new K((t,s)=>{let o=0,u=0,h=!1;e.forEach(f=>{++o,f.next(()=>{++u,h&&u===o&&t()},g=>s(g))}),h=!0,u===o&&t()})}static or(e){let t=K.resolve(!1);for(const s of e)t=t.next(o=>o?K.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new K((s,o)=>{const u=e.length,h=new Array(u);let f=0;for(let g=0;g<u;g++){const y=g;t(e[y]).next(w=>{h[y]=w,++f,f===u&&s(h)},w=>o(w))}})}static doWhile(e,t){return new K((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function CI(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function uo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Uu.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md=-1;function zu(r){return r==null}function Tu(r){return r===0&&1/r==-1/0}function RI(r){return typeof r=="number"&&Number.isInteger(r)&&!Tu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="";function PI(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=lg(e)),e=xI(r.get(t),e);return lg(e)}function xI(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case iv:t+="";break;default:t+=u}}return t}function lg(r){return r+iv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function pi(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function sv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,t){this.comparator=e,this.root=t||Ct.EMPTY}insert(e,t){return new Ze(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new iu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new iu(this.root,e,this.comparator,!1)}getReverseIterator(){return new iu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new iu(this.root,e,this.comparator,!0)}}class iu{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ct{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Ct.RED,this.left=o??Ct.EMPTY,this.right=u??Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Ct(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ct.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1;Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,t,s,o,u){return this}insert(e,t,s){return new Ct(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new cg(this.data.getIterator())}getIteratorFrom(e){return new cg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new mt(this.comparator);return t.data=e,t}}class cg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new ln([])}unionWith(e){let t=new mt(Rt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new ln(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Js(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ov("Invalid base64 string: "+u):u}}(e);return new Pt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Pt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const kI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function li(r){if(je(!!r),typeof r=="string"){let e=0;const t=kI.exec(r);if(je(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:it(r.seconds),nanos:it(r.nanos)}}function it(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ui(r){return typeof r=="string"?Pt.fromBase64String(r):Pt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="server_timestamp",lv="__type__",uv="__previous_value__",cv="__local_write_time__";function Od(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[lv])===null||t===void 0?void 0:t.stringValue)===av}function Bu(r){const e=r.mapValue.fields[uv];return Od(e)?Bu(e):e}function Ia(r){const e=li(r.mapValue.fields[cv].timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,t,s,o,u,h,f,g,y){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=g,this.useFetchStreams=y}}const Iu="(default)";class Sa{constructor(e,t){this.projectId=e,this.database=t||Iu}static empty(){return new Sa("","")}get isDefaultDatabase(){return this.database===Iu}isEqual(e){return e instanceof Sa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="__type__",dv="__max__",su={mapValue:{fields:{__type__:{stringValue:dv}}}},fv="__vector__",Su="value";function ci(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Od(r)?4:VI(r)?9007199254740991:DI(r)?10:11:ve()}function tr(r,e){if(r===e)return!0;const t=ci(r);if(t!==ci(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ia(r).isEqual(Ia(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=li(o.timestampValue),f=li(u.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return ui(o.bytesValue).isEqual(ui(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return it(o.geoPointValue.latitude)===it(u.geoPointValue.latitude)&&it(o.geoPointValue.longitude)===it(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return it(o.integerValue)===it(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=it(o.doubleValue),f=it(u.doubleValue);return h===f?Tu(h)===Tu(f):isNaN(h)&&isNaN(f)}return!1}(r,e);case 9:return Js(r.arrayValue.values||[],e.arrayValue.values||[],tr);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},f=u.mapValue.fields||{};if(ug(h)!==ug(f))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(f[g]===void 0||!tr(h[g],f[g])))return!1;return!0}(r,e);default:return ve()}}function Aa(r,e){return(r.values||[]).find(t=>tr(t,e))!==void 0}function Zs(r,e){if(r===e)return 0;const t=ci(r),s=ci(e);if(t!==s)return xe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return xe(r.booleanValue,e.booleanValue);case 2:return function(u,h){const f=it(u.integerValue||u.doubleValue),g=it(h.integerValue||h.doubleValue);return f<g?-1:f>g?1:f===g?0:isNaN(f)?isNaN(g)?0:-1:1}(r,e);case 3:return hg(r.timestampValue,e.timestampValue);case 4:return hg(Ia(r),Ia(e));case 5:return xe(r.stringValue,e.stringValue);case 6:return function(u,h){const f=ui(u),g=ui(h);return f.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const f=u.split("/"),g=h.split("/");for(let y=0;y<f.length&&y<g.length;y++){const w=xe(f[y],g[y]);if(w!==0)return w}return xe(f.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const f=xe(it(u.latitude),it(h.latitude));return f!==0?f:xe(it(u.longitude),it(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return dg(r.arrayValue,e.arrayValue);case 10:return function(u,h){var f,g,y,w;const T=u.fields||{},I=h.fields||{},V=(f=T[Su])===null||f===void 0?void 0:f.arrayValue,O=(g=I[Su])===null||g===void 0?void 0:g.arrayValue,q=xe(((y=V==null?void 0:V.values)===null||y===void 0?void 0:y.length)||0,((w=O==null?void 0:O.values)===null||w===void 0?void 0:w.length)||0);return q!==0?q:dg(V,O)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===su.mapValue&&h===su.mapValue)return 0;if(u===su.mapValue)return 1;if(h===su.mapValue)return-1;const f=u.fields||{},g=Object.keys(f),y=h.fields||{},w=Object.keys(y);g.sort(),w.sort();for(let T=0;T<g.length&&T<w.length;++T){const I=xe(g[T],w[T]);if(I!==0)return I;const V=Zs(f[g[T]],y[w[T]]);if(V!==0)return V}return xe(g.length,w.length)}(r.mapValue,e.mapValue);default:throw ve()}}function hg(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return xe(r,e);const t=li(r),s=li(e),o=xe(t.seconds,s.seconds);return o!==0?o:xe(t.nanos,s.nanos)}function dg(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=Zs(t[o],s[o]);if(u)return u}return xe(t.length,s.length)}function eo(r){return id(r)}function id(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=li(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return ui(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return pe.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=id(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${id(t.fields[h])}`;return o+"}"}(r.mapValue):ve()}function hu(r){switch(ci(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bu(r);return e?16+hu(e):16;case 5:return 2*r.stringValue.length;case 6:return ui(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+hu(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return pi(s.fields,(u,h)=>{o+=u.length+hu(h)}),o}(r.mapValue);default:throw ve()}}function fg(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function sd(r){return!!r&&"integerValue"in r}function Fd(r){return!!r&&"arrayValue"in r}function pg(r){return!!r&&"nullValue"in r}function mg(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function du(r){return!!r&&"mapValue"in r}function DI(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[hv])===null||t===void 0?void 0:t.stringValue)===fv}function ma(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return pi(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=ma(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ma(r.arrayValue.values[t]);return e}return Object.assign({},r)}function VI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===dv}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.value=e}static empty(){return new Jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!du(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ma(t)}setAll(e){let t=Rt.emptyPath(),s={},o=[];e.forEach((h,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=f.popLast()}h?s[f.lastSegment()]=ma(h):o.push(f.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());du(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return tr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];du(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){pi(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Jt(ma(this.value))}}function pv(r){const e=[];return pi(r.fields,(t,s)=>{const o=new Rt([t]);if(du(s)){const u=pv(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,t,s,o,u,h,f){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=f}static newInvalidDocument(e){return new Ft(e,0,we.min(),we.min(),we.min(),Jt.empty(),0)}static newFoundDocument(e,t,s,o){return new Ft(e,1,t,we.min(),s,o,0)}static newNoDocument(e,t){return new Ft(e,2,t,we.min(),we.min(),Jt.empty(),0)}static newUnknownDocument(e,t){return new Ft(e,3,t,we.min(),we.min(),Jt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,t){this.position=e,this.inclusive=t}}function gg(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(h.referenceValue),t.key):s=Zs(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function yg(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!tr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,t="asc"){this.field=e,this.dir=t}}function LI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{}class lt extends mv{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new OI(e,t,s):t==="array-contains"?new bI(e,s):t==="in"?new UI(e,s):t==="not-in"?new zI(e,s):t==="array-contains-any"?new BI(e,s):new lt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new FI(e,s):new jI(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Zs(t,this.value)):t!==null&&ci(this.value)===ci(t)&&this.matchesComparison(Zs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jn extends mv{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new jn(e,t)}matches(e){return gv(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function gv(r){return r.op==="and"}function yv(r){return MI(r)&&gv(r)}function MI(r){for(const e of r.filters)if(e instanceof jn)return!1;return!0}function od(r){if(r instanceof lt)return r.field.canonicalString()+r.op.toString()+eo(r.value);if(yv(r))return r.filters.map(e=>od(e)).join(",");{const e=r.filters.map(t=>od(t)).join(",");return`${r.op}(${e})`}}function vv(r,e){return r instanceof lt?function(s,o){return o instanceof lt&&s.op===o.op&&s.field.isEqual(o.field)&&tr(s.value,o.value)}(r,e):r instanceof jn?function(s,o){return o instanceof jn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,f)=>u&&vv(h,o.filters[f]),!0):!1}(r,e):void ve()}function _v(r){return r instanceof lt?function(t){return`${t.field.canonicalString()} ${t.op} ${eo(t.value)}`}(r):r instanceof jn?function(t){return t.op.toString()+" {"+t.getFilters().map(_v).join(" ,")+"}"}(r):"Filter"}class OI extends lt{constructor(e,t,s){super(e,t,s),this.key=pe.fromName(s.referenceValue)}matches(e){const t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class FI extends lt{constructor(e,t){super(e,"in",t),this.keys=wv("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class jI extends lt{constructor(e,t){super(e,"not-in",t),this.keys=wv("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function wv(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>pe.fromName(s.referenceValue))}class bI extends lt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Fd(t)&&Aa(t.arrayValue,this.value)}}class UI extends lt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Aa(this.value.arrayValue,t)}}class zI extends lt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Aa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Aa(this.value.arrayValue,t)}}class BI extends lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Fd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Aa(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,t=null,s=[],o=[],u=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=f,this.le=null}}function vg(r,e=null,t=[],s=[],o=null,u=null,h=null){return new $I(r,e,t,s,o,u,h)}function jd(r){const e=Ee(r);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>od(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),zu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>eo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>eo(s)).join(",")),e.le=t}return e.le}function bd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!LI(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!vv(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!yg(r.startAt,e.startAt)&&yg(r.endAt,e.endAt)}function ad(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,t=null,s=[],o=[],u=null,h="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=f,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function qI(r,e,t,s,o,u,h,f){return new La(r,e,t,s,o,u,h,f)}function Ud(r){return new La(r)}function _g(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Ev(r){return r.collectionGroup!==null}function ga(r){const e=Ee(r);if(e.he===null){e.he=[];const t=new Set;for(const u of e.explicitOrderBy)e.he.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new mt(Rt.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(f=f.add(y.field))})}),f})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.he.push(new Cu(u,s))}),t.has(Rt.keyField().canonicalString())||e.he.push(new Cu(Rt.keyField(),s))}return e.he}function Jn(r){const e=Ee(r);return e.Pe||(e.Pe=HI(e,ga(r))),e.Pe}function HI(r,e){if(r.limitType==="F")return vg(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Cu(o.field,u)});const t=r.endAt?new Au(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Au(r.startAt.position,r.startAt.inclusive):null;return vg(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function ld(r,e){const t=r.filters.concat([e]);return new La(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function ud(r,e,t){return new La(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function $u(r,e){return bd(Jn(r),Jn(e))&&r.limitType===e.limitType}function Tv(r){return`${jd(Jn(r))}|lt:${r.limitType}`}function Ks(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>_v(o)).join(", ")}]`),zu(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>eo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>eo(o)).join(",")),`Target(${s})`}(Jn(r))}; limitType=${r.limitType})`}function qu(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of ga(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,f,g){const y=gg(h,f,g);return h.inclusive?y<=0:y<0}(s.startAt,ga(s),o)||s.endAt&&!function(h,f,g){const y=gg(h,f,g);return h.inclusive?y>=0:y>0}(s.endAt,ga(s),o))}(r,e)}function WI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Iv(r){return(e,t)=>{let s=!1;for(const o of ga(r)){const u=KI(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function KI(r,e,t){const s=r.field.isKeyField()?pe.comparator(e.key,t.key):function(u,h,f){const g=h.data.field(u),y=f.data.field(u);return g!==null&&y!==null?Zs(g,y):ve()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){pi(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return sv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=new Ze(pe.comparator);function Cr(){return GI}const Sv=new Ze(pe.comparator);function ha(...r){let e=Sv;for(const t of r)e=e.insert(t.key,t);return e}function Av(r){let e=Sv;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Ki(){return ya()}function Cv(){return ya()}function ya(){return new Ji(r=>r.toString(),(r,e)=>r.isEqual(e))}const QI=new Ze(pe.comparator),YI=new mt(pe.comparator);function Re(...r){let e=YI;for(const t of r)e=e.add(t);return e}const XI=new mt(xe);function JI(){return XI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tu(e)?"-0":e}}function Rv(r){return{integerValue:""+r}}function ZI(r,e){return RI(e)?Rv(e):zd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(){this._=void 0}}function eS(r,e,t){return r instanceof Ru?function(o,u){const h={fields:{[lv]:{stringValue:av},[cv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Od(u)&&(u=Bu(u)),u&&(h.fields[uv]=u),{mapValue:h}}(t,e):r instanceof Ca?xv(r,e):r instanceof Ra?kv(r,e):function(o,u){const h=Pv(o,u),f=wg(h)+wg(o.Ie);return sd(h)&&sd(o.Ie)?Rv(f):zd(o.serializer,f)}(r,e)}function tS(r,e,t){return r instanceof Ca?xv(r,e):r instanceof Ra?kv(r,e):t}function Pv(r,e){return r instanceof Pu?function(s){return sd(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Ru extends Hu{}class Ca extends Hu{constructor(e){super(),this.elements=e}}function xv(r,e){const t=Nv(e);for(const s of r.elements)t.some(o=>tr(o,s))||t.push(s);return{arrayValue:{values:t}}}class Ra extends Hu{constructor(e){super(),this.elements=e}}function kv(r,e){let t=Nv(e);for(const s of r.elements)t=t.filter(o=>!tr(o,s));return{arrayValue:{values:t}}}class Pu extends Hu{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function wg(r){return it(r.integerValue||r.doubleValue)}function Nv(r){return Fd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function nS(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Ca&&o instanceof Ca||s instanceof Ra&&o instanceof Ra?Js(s.elements,o.elements,tr):s instanceof Pu&&o instanceof Pu?tr(s.Ie,o.Ie):s instanceof Ru&&o instanceof Ru}(r.transform,e.transform)}class rS{constructor(e,t){this.version=e,this.transformResults=t}}class Fn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Wu{}function Dv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Bd(r.key,Fn.none()):new Ma(r.key,r.data,Fn.none());{const t=r.data,s=Jt.empty();let o=new mt(Rt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new mi(r.key,s,new ln(o.toArray()),Fn.none())}}function iS(r,e,t){r instanceof Ma?function(o,u,h){const f=o.value.clone(),g=Tg(o.fieldTransforms,u,h.transformResults);f.setAll(g),u.convertToFoundDocument(h.version,f).setHasCommittedMutations()}(r,e,t):r instanceof mi?function(o,u,h){if(!fu(o.precondition,u))return void u.convertToUnknownDocument(h.version);const f=Tg(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(Vv(o)),g.setAll(f),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(r,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function va(r,e,t,s){return r instanceof Ma?function(u,h,f,g){if(!fu(u.precondition,h))return f;const y=u.value.clone(),w=Ig(u.fieldTransforms,g,h);return y.setAll(w),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(r,e,t,s):r instanceof mi?function(u,h,f,g){if(!fu(u.precondition,h))return f;const y=Ig(u.fieldTransforms,g,h),w=h.data;return w.setAll(Vv(u)),w.setAll(y),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),f===null?null:f.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(r,e,t,s):function(u,h,f){return fu(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f}(r,e,t)}function sS(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Pv(s.transform,o||null);u!=null&&(t===null&&(t=Jt.empty()),t.set(s.field,u))}return t||null}function Eg(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Js(s,o,(u,h)=>nS(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Ma extends Wu{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class mi extends Wu{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Vv(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function Tg(r,e,t){const s=new Map;je(r.length===t.length);for(let o=0;o<t.length;o++){const u=r[o],h=u.transform,f=e.data.field(u.field);s.set(u.field,tS(h,f,t[o]))}return s}function Ig(r,e,t){const s=new Map;for(const o of r){const u=o.transform,h=t.data.field(o.field);s.set(o.field,eS(u,h,e))}return s}class Bd extends Wu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oS extends Wu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&iS(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=va(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=va(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Cv();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let f=this.applyToLocalView(h,u.mutatedFields);f=t.has(o.key)?null:f;const g=Dv(h,f);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Re())}isEqual(e){return this.batchId===e.batchId&&Js(this.mutations,e.mutations,(t,s)=>Eg(t,s))&&Js(this.baseMutations,e.baseMutations,(t,s)=>Eg(t,s))}}class $d{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){je(e.mutations.length===s.length);let o=function(){return QI}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new $d(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,De;function cS(r){switch(r){case W.OK:return ve();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return ve()}}function Lv(r){if(r===void 0)return Ar("GRPC error has no .code"),W.UNKNOWN;switch(r){case at.OK:return W.OK;case at.CANCELLED:return W.CANCELLED;case at.UNKNOWN:return W.UNKNOWN;case at.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case at.INTERNAL:return W.INTERNAL;case at.UNAVAILABLE:return W.UNAVAILABLE;case at.UNAUTHENTICATED:return W.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case at.NOT_FOUND:return W.NOT_FOUND;case at.ALREADY_EXISTS:return W.ALREADY_EXISTS;case at.PERMISSION_DENIED:return W.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case at.ABORTED:return W.ABORTED;case at.OUT_OF_RANGE:return W.OUT_OF_RANGE;case at.UNIMPLEMENTED:return W.UNIMPLEMENTED;case at.DATA_LOSS:return W.DATA_LOSS;default:return ve()}}(De=at||(at={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=new ri([4294967295,4294967295],0);function Sg(r){const e=hS().encode(r),t=new Yy;return t.update(e),new Uint8Array(t.digest())}function Ag(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ri([t,s],0),new ri([o,u],0)]}class qd{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new da(`Invalid padding: ${t}`);if(s<0)throw new da(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new da(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new da(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=ri.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(ri.fromNumber(s)));return o.compare(dS)===1&&(o=new ri([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Sg(e),[s,o]=Ag(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);if(!this.Re(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new qd(u,o,t);return s.forEach(f=>h.insert(f)),h}insert(e){if(this.Ee===0)return;const t=Sg(e),[s,o]=Ag(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class da extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Oa.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Ku(we.min(),o,new Ze(xe),Cr(),Re())}}class Oa{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Oa(s,t,Re(),Re(),Re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class Mv{constructor(e,t){this.targetId=e,this.ge=t}}class Ov{constructor(e,t,s=Pt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Cg{constructor(){this.pe=0,this.ye=Rg(),this.we=Pt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Re(),t=Re(),s=Re();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:ve()}}),new Oa(this.we,this.Se,e,t,s)}Me(){this.be=!1,this.ye=Rg()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,je(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class fS{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Cr(),this.$e=ou(),this.Ke=ou(),this.Ue=new Ze(xe)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:ve()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const u=o.target;if(ad(u))if(s===0){const h=new pe(u.path);this.ze(t,h,Ft.newNoDocument(h,we.min()))}else je(s===1);else{const h=this.et(t);if(h!==s){const f=this.tt(e),g=f?this.nt(f,e,h):1;if(g!==0){this.Ye(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,y)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,f;try{h=ui(s).toUint8Array()}catch(g){if(g instanceof ov)return Xs("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{f=new qd(h,o,u)}catch(g){return Xs(g instanceof da?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return f.Ee===0?null:f}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.ke.it(),f=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(f)||(this.ze(t,u,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((u,h)=>{const f=this.Xe(h);if(f){if(u.current&&ad(f.target)){const g=new pe(f.target.path);this._t(g).has(h)||this.ut(h,g)||this.ze(h,g,Ft.newNoDocument(g,e))}u.ve&&(t.set(h,u.Fe()),u.Me())}});let s=Re();this.Ke.forEach((u,h)=>{let f=!0;h.forEachWhile(g=>{const y=this.Xe(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(s=s.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const o=new Ku(e,t,this.Ue,this.Qe,s);return this.Qe=Cr(),this.$e=ou(),this.Ke=ou(),this.Ue=new Ze(xe),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Cg,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new mt(xe),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new mt(xe),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||oe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Cg),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function ou(){return new Ze(pe.comparator)}function Rg(){return new Ze(pe.comparator)}const pS={asc:"ASCENDING",desc:"DESCENDING"},mS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gS={and:"AND",or:"OR"};class yS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function cd(r,e){return r.useProto3Json||zu(e)?e:{value:e}}function xu(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function vS(r,e){return xu(r,e.toTimestamp())}function Zn(r){return je(!!r),we.fromTimestamp(function(t){const s=li(t);return new pt(s.seconds,s.nanos)}(r))}function Hd(r,e){return hd(r,e).canonicalString()}function hd(r,e){const t=function(o){return new Ke(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function jv(r){const e=Ke.fromString(r);return je($v(e)),e}function dd(r,e){return Hd(r.databaseId,e.path)}function qh(r,e){const t=jv(e);if(t.get(1)!==r.databaseId.projectId)throw new ae(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ae(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new pe(Uv(t))}function bv(r,e){return Hd(r.databaseId,e)}function _S(r){const e=jv(r);return e.length===4?Ke.emptyPath():Uv(e)}function fd(r){return new Ke(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Uv(r){return je(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Pg(r,e,t){return{name:dd(r,e),fields:t.value.mapValue.fields}}function wS(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,w){return y.useProto3Json?(je(w===void 0||typeof w=="string"),Pt.fromBase64String(w||"")):(je(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Pt.fromUint8Array(w||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&function(y){const w=y.code===void 0?W.UNKNOWN:Lv(y.code);return new ae(w,y.message||"")}(h);t=new Ov(s,o,u,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=qh(r,s.document.name),u=Zn(s.document.updateTime),h=s.document.createTime?Zn(s.document.createTime):we.min(),f=new Jt({mapValue:{fields:s.document.fields}}),g=Ft.newFoundDocument(o,u,h,f),y=s.targetIds||[],w=s.removedTargetIds||[];t=new pu(y,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=qh(r,s.document),u=s.readTime?Zn(s.readTime):we.min(),h=Ft.newNoDocument(o,u),f=s.removedTargetIds||[];t=new pu([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=qh(r,s.document),u=s.removedTargetIds||[];t=new pu([],u,o,null)}else{if(!("filter"in e))return ve();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new uS(o,u),f=s.targetId;t=new Mv(f,h)}}return t}function ES(r,e){let t;if(e instanceof Ma)t={update:Pg(r,e.key,e.value)};else if(e instanceof Bd)t={delete:dd(r,e.key)};else if(e instanceof mi)t={update:Pg(r,e.key,e.data),updateMask:kS(e.fieldMask)};else{if(!(e instanceof oS))return ve();t={verify:dd(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const f=h.transform;if(f instanceof Ru)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Ca)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ra)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Pu)return{fieldPath:h.field.canonicalString(),increment:f.Ie};throw ve()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:vS(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve()}(r,e.precondition)),t}function TS(r,e){return r&&r.length>0?(je(e!==void 0),r.map(t=>function(o,u){let h=o.updateTime?Zn(o.updateTime):Zn(u);return h.isEqual(we.min())&&(h=Zn(u)),new rS(h,o.transformResults||[])}(t,e))):[]}function IS(r,e){return{documents:[bv(r,e.path)]}}function SS(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=bv(r,o);const u=function(y){if(y.length!==0)return Bv(jn.create(y,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(y){if(y.length!==0)return y.map(w=>function(I){return{field:Gs(I.field),direction:RS(I.dir)}}(w))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=cd(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:t,parent:o}}function AS(r){let e=_S(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){je(s===1);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let u=[];t.where&&(u=function(T){const I=zv(T);return I instanceof jn&&yv(I)?I.getFilters():[I]}(t.where));let h=[];t.orderBy&&(h=function(T){return T.map(I=>function(O){return new Cu(Qs(O.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(I))}(t.orderBy));let f=null;t.limit&&(f=function(T){let I;return I=typeof T=="object"?T.value:T,zu(I)?null:I}(t.limit));let g=null;t.startAt&&(g=function(T){const I=!!T.before,V=T.values||[];return new Au(V,I)}(t.startAt));let y=null;return t.endAt&&(y=function(T){const I=!T.before,V=T.values||[];return new Au(V,I)}(t.endAt)),qI(e,o,h,u,f,"F",g,y)}function CS(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function zv(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Qs(t.unaryFilter.field);return lt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Qs(t.unaryFilter.field);return lt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Qs(t.unaryFilter.field);return lt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Qs(t.unaryFilter.field);return lt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(r):r.fieldFilter!==void 0?function(t){return lt.create(Qs(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return jn.create(t.compositeFilter.filters.map(s=>zv(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve()}}(t.compositeFilter.op))}(r):ve()}function RS(r){return pS[r]}function PS(r){return mS[r]}function xS(r){return gS[r]}function Gs(r){return{fieldPath:r.canonicalString()}}function Qs(r){return Rt.fromServerFormat(r.fieldPath)}function Bv(r){return r instanceof lt?function(t){if(t.op==="=="){if(mg(t.value))return{unaryFilter:{field:Gs(t.field),op:"IS_NAN"}};if(pg(t.value))return{unaryFilter:{field:Gs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(mg(t.value))return{unaryFilter:{field:Gs(t.field),op:"IS_NOT_NAN"}};if(pg(t.value))return{unaryFilter:{field:Gs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gs(t.field),op:PS(t.op),value:t.value}}}(r):r instanceof jn?function(t){const s=t.getFilters().map(o=>Bv(o));return s.length===1?s[0]:{compositeFilter:{op:xS(t.op),filters:s}}}(r):ve()}function kS(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function $v(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,t,s,o,u=we.min(),h=we.min(),f=Pt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=g}withSequenceNumber(e){return new ei(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.Tt=e}}function DS(r){const e=AS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ud(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this.Tn=new LS}addToCollectionParentIndex(e,t){return this.Tn.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(ai.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(ai.min())}updateCollectionGroup(e,t,s){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class LS{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new mt(Ke.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new mt(Ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qv=41943040;class Xt{static withCacheSize(e){return new Xt(e,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xt.DEFAULT_COLLECTION_PERCENTILE=10,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xt.DEFAULT=new Xt(qv,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xt.DISABLED=new Xt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new to(0)}static Un(){return new to(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg="LruGarbageCollector",MS=1048576;function Ng([r,e],[t,s]){const o=xe(r,t);return o===0?xe(e,s):o}class OS{constructor(e){this.Hn=e,this.buffer=new mt(Ng),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Ng(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class FS{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){oe(kg,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){uo(t)?oe(kg,"Ignoring IndexedDB error during garbage collection: ",t):await lo(t)}await this.er(3e5)})}}class jS{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return K.resolve(Uu.ae);const s=new OS(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(xg)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xg):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,u,h,f,g,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,f=Date.now(),this.removeTargets(e,s,t))).next(T=>(u=T,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(y=Date.now(),Ws()<=Ve.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${o} in `+(f-h)+`ms
	Removed ${u} targets in `+(g-f)+`ms
	Removed ${T} documents in `+(y-g)+`ms
Total Duration: ${y-w}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T})))}}function bS(r,e){return new jS(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.changes=new Ji(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?K.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&va(s.mutation,o,ln.empty(),pt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Re()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Re()){const o=Ki();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=ha();return u.forEach((f,g)=>{h=h.insert(f,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Ki();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Re()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,f)=>{t.set(h,f)})})}computeViews(e,t,s,o){let u=Cr();const h=ya(),f=function(){return ya()}();return t.forEach((g,y)=>{const w=s.get(y.key);o.has(y.key)&&(w===void 0||w.mutation instanceof mi)?u=u.insert(y.key,y):w!==void 0?(h.set(y.key,w.mutation.getFieldMask()),va(w.mutation,y,w.mutation.getFieldMask(),pt.now())):h.set(y.key,ln.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((y,w)=>h.set(y,w)),t.forEach((y,w)=>{var T;return f.set(y,new zS(w,(T=h.get(y))!==null&&T!==void 0?T:null))}),f))}recalculateAndSaveOverlays(e,t){const s=ya();let o=new Ze((h,f)=>h-f),u=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const f of h)f.keys().forEach(g=>{const y=t.get(g);if(y===null)return;let w=s.get(g)||ln.empty();w=f.applyToLocalView(y,w),s.set(g,w);const T=(o.get(f.batchId)||Re()).add(g);o=o.insert(f.batchId,T)})}).next(()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),y=g.key,w=g.value,T=Cv();w.forEach(I=>{if(!u.has(I)){const V=Dv(t.get(I),s.get(I));V!==null&&T.set(I,V),u=u.add(I)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,T))}return K.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return pe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ev(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):K.resolve(Ki());let f=Ta,g=u;return h.next(y=>K.forEach(y,(w,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),u.get(w)?K.resolve():this.remoteDocumentCache.getEntry(e,w).next(I=>{g=g.insert(w,I)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,g,y,Re())).next(w=>({batchId:f,changes:Av(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next(s=>{let o=ha();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=ha();return this.indexManager.getCollectionParents(e,u).next(f=>K.forEach(f,g=>{const y=function(T,I){return new La(I,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(w=>{w.forEach((T,I)=>{h=h.insert(T,I)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((g,y)=>{const w=y.getKey();h.get(w)===null&&(h=h.insert(w,Ft.newInvalidDocument(w)))});let f=ha();return h.forEach((g,y)=>{const w=u.get(g);w!==void 0&&va(w.mutation,y,ln.empty(),pt.now()),qu(t,y)&&(f=f.insert(g,y))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return K.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Zn(o.createTime)}}(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:DS(o.bundledQuery),readTime:Zn(o.readTime)}}(t)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(){this.overlays=new Ze(pe.comparator),this.Rr=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ki();return K.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.Et(e,t,u)}),K.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),K.resolve()}getOverlaysForCollection(e,t,s){const o=Ki(),u=t.length+1,h=new pe(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const g=f.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return K.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new Ze((y,w)=>y-w);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let w=u.get(y.largestBatchId);w===null&&(w=Ki(),u=u.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const f=Ki(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,w)=>f.set(y,w)),!(f.size()>=o)););return K.resolve(f)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new lS(t,s));let u=this.Rr.get(t);u===void 0&&(u=Re(),this.Rr.set(t,u)),this.Rr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(){this.Vr=new mt(Et.mr),this.gr=new mt(Et.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new Et(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new Et(e,t))}Sr(e,t){e.forEach(s=>this.removeReference(s,t))}br(e){const t=new pe(new Ke([])),s=new Et(t,e),o=new Et(t,e+1),u=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new pe(new Ke([])),s=new Et(t,e),o=new Et(t,e+1);let u=Re();return this.gr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Et(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Et{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return pe.comparator(e.key,t.key)||xe(e.Cr,t.Cr)}static pr(e,t){return xe(e.Cr,t.Cr)||pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new mt(Et.mr)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new aS(u,t,s,o);this.mutationQueue.push(h);for(const f of o)this.Mr=this.Mr.add(new Et(f.key,u)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return K.resolve(h)}lookupMutationBatch(e,t){return K.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),u=o<0?0:o;return K.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Md:this.Fr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Et(t,0),o=new Et(t,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],h=>{const f=this.Or(h.Cr);u.push(f)}),K.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new mt(xe);return t.forEach(o=>{const u=new Et(o,0),h=new Et(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],f=>{s=s.add(f.Cr)})}),K.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const h=new Et(new pe(u),0);let f=new mt(xe);return this.Mr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(f=f.add(g.Cr)),!0)},h),K.resolve(this.Br(f))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){je(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return K.forEach(t.mutations,o=>{const u=new Et(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new Et(t,0),o=this.Mr.firstAfterOrEqual(s);return K.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.kr=e,this.docs=function(){return new Ze(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return K.resolve(s?s.document.mutableCopy():Ft.newInvalidDocument(t))}getEntries(e,t){let s=Cr();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Ft.newInvalidDocument(o))}),K.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=Cr();const h=t.path,f=new pe(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:y,value:{document:w}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||II(TI(w),s)<=0||(o.has(w.key)||qu(t,w))&&(u=u.insert(w.key,w.mutableCopy()))}return K.resolve(u)}getAllFromCollectionGroup(e,t,s,o){ve()}qr(e,t){return K.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new GS(this)}getSize(e){return K.resolve(this.size)}}class GS extends US{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),K.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e){this.persistence=e,this.Qr=new Ji(t=>jd(t),bd),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Wd,this.targetCount=0,this.Ur=to.Kn()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),K.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new to(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.zn(t),K.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Qr.forEach((h,f)=>{f.sequenceNumber<=t&&s.get(f.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),K.waitFor(u).next(()=>o)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return K.resolve(s)}addMatchingKeys(e,t,s){return this.Kr.yr(t,s),K.resolve()}removeMatchingKeys(e,t,s){this.Kr.Sr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),K.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),K.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Kr.vr(t);return K.resolve(s)}containsKey(e,t){return K.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Uu(0),this.zr=!1,this.zr=!0,this.jr=new HS,this.referenceDelegate=e(this),this.Hr=new QS(this),this.indexManager=new VS,this.remoteDocumentCache=function(o){return new KS(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new NS(t),this.Yr=new $S(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qS,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new WS(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){oe("MemoryPersistence","Starting transaction:",e);const o=new YS(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,t){return K.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class YS extends AI{constructor(e){super(),this.currentSequenceNumber=e}}class Kd{constructor(e){this.persistence=e,this.ti=new Wd,this.ni=null}static ri(e){return new Kd(e)}get ii(){if(this.ni)return this.ni;throw ve()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),K.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),K.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.ii,s=>{const o=pe.fromPath(s);return this.si(e,o).next(u=>{u||t.removeEntry(o,we.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return K.or([()=>K.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class ku{constructor(e,t){this.persistence=e,this.oi=new Ji(s=>PI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=bS(this,t)}static ri(e,t){return new ku(e,t)}Zr(){}Xr(e){return K.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return K.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?K.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,t).next(f=>{f||(s++,u.removeEntry(h,we.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),K.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),K.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),K.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=hu(e.data.value)),t}ar(e,t,s){return K.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return K.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=Re(),o=Re();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Gd(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return PE()?8:CI(AE())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.rs(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new XS;return this._s(e,t,h).next(f=>{if(u.result=f,this.Xi)return this.us(e,t,h,f.size)})}).next(()=>u.result)}us(e,t,s,o){return s.documentReadCount<this.es?(Ws()<=Ve.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Ks(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),K.resolve()):(Ws()<=Ve.DEBUG&&oe("QueryEngine","Query:",Ks(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Ws()<=Ve.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Ks(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jn(t))):K.resolve())}rs(e,t){if(_g(t))return K.resolve(null);let s=Jn(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=ud(t,null,"F"),s=Jn(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Re(...u);return this.ns.getDocuments(e,h).next(f=>this.indexManager.getMinOffset(e,s).next(g=>{const y=this.cs(t,f);return this.ls(t,y,h,g.readTime)?this.rs(e,ud(t,null,"F")):this.hs(e,y,t,g)}))})))}ss(e,t,s,o){return _g(t)||o.isEqual(we.min())?K.resolve(null):this.ns.getDocuments(e,s).next(u=>{const h=this.cs(t,u);return this.ls(t,h,s,o)?K.resolve(null):(Ws()<=Ve.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ks(t)),this.hs(e,h,t,EI(o,Ta)).next(f=>f))})}cs(e,t){let s=new mt(Iv(e));return t.forEach((o,u)=>{qu(e,u)&&(s=s.add(u))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,t,s){return Ws()<=Ve.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Ks(t)),this.ns.getDocumentsMatchingQuery(e,t,ai.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd="LocalStore",ZS=3e8;class eA{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new Ze(xe),this.Is=new Ji(u=>jd(u),bd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BS(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function tA(r,e,t,s){return new eA(r,e,t,s)}async function Wv(r,e){const t=Ee(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],f=[];let g=Re();for(const y of o){h.push(y.batchId);for(const w of y.mutations)g=g.add(w.key)}for(const y of u){f.push(y.batchId);for(const w of y.mutations)g=g.add(w.key)}return t.localDocuments.getDocuments(s,g).next(y=>({Rs:y,removedBatchIds:h,addedBatchIds:f}))})})}function nA(r,e){const t=Ee(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.ds.newChangeBuffer({trackRemovals:!0});return function(f,g,y,w){const T=y.batch,I=T.keys();let V=K.resolve();return I.forEach(O=>{V=V.next(()=>w.getEntry(g,O)).next(q=>{const z=y.docVersions.get(O);je(z!==null),q.version.compareTo(z)<0&&(T.applyToRemoteDocument(q,y),q.isValidDocument()&&(q.setReadTime(y.commitVersion),w.addEntry(q)))})}),V.next(()=>f.mutationQueue.removeMutationBatch(g,T))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let g=Re();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(g=g.add(f.batch.mutations[y].key));return g}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function Kv(r){const e=Ee(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function rA(r,e){const t=Ee(r),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const f=[];e.targetChanges.forEach((w,T)=>{const I=o.get(T);if(!I)return;f.push(t.Hr.removeMatchingKeys(u,w.removedDocuments,T).next(()=>t.Hr.addMatchingKeys(u,w.addedDocuments,T)));let V=I.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?V=V.withResumeToken(Pt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):w.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(w.resumeToken,s)),o=o.insert(T,V),function(q,z,Q){return q.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=ZS?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(I,V,w)&&f.push(t.Hr.updateTargetData(u,V))});let g=Cr(),y=Re();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(u,w))}),f.push(iA(u,h,e.documentUpdates).next(w=>{g=w.Vs,y=w.fs})),!s.isEqual(we.min())){const w=t.Hr.getLastRemoteSnapshotVersion(u).next(T=>t.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));f.push(w)}return K.waitFor(f).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(t.Ts=o,u))}function iA(r,e,t){let s=Re(),o=Re();return t.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let h=Cr();return t.forEach((f,g)=>{const y=u.get(f);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(f)),g.isNoDocument()&&g.version.isEqual(we.min())?(e.removeEntry(f,g.readTime),h=h.insert(f,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(f,g)):oe(Qd,"Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",g.version)}),{Vs:h,fs:o}})}function sA(r,e){const t=Ee(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Md),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function oA(r,e){const t=Ee(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(u=>u?(o=u,K.resolve(o)):t.Hr.allocateTargetId(s).next(h=>(o=new ei(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function pd(r,e,t){const s=Ee(r),o=s.Ts.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!uo(h))throw h;oe(Qd,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function Dg(r,e,t){const s=Ee(r);let o=we.min(),u=Re();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,y,w){const T=Ee(g),I=T.Is.get(w);return I!==void 0?K.resolve(T.Ts.get(I)):T.Hr.getTargetData(y,w)}(s,h,Jn(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,f.targetId).next(g=>{u=g})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,t?o:we.min(),t?u:Re())).next(f=>(aA(s,WI(e),f),{documents:f,gs:u})))}function aA(r,e,t){let s=r.Es.get(e)||we.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class Vg{constructor(){this.activeTargetIds=JI()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lA{constructor(){this.ho=new Vg,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Vg,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="ConnectivityMonitor";class Mg{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){oe(Lg,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){oe(Lg,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let au=null;function md(){return au===null?au=function(){return 268435456+Math.round(2147483648*Math.random())}():au++,"0x"+au.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh="RestConnection",cA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hA{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Iu?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,t,s,o,u){const h=md(),f=this.bo(e,t.toUriEncodedString());oe(Hh,`Sending RPC '${e}' ${h}:`,f,s);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,o,u),this.vo(e,f,g,s).then(y=>(oe(Hh,`Received RPC '${e}' ${h}: `,y),y),y=>{throw Xs(Hh,`RPC '${e}' ${h} failed with error: `,y,"url: ",f,"request:",s),y})}Co(e,t,s,o,u,h){return this.So(e,t,s,o,u)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ao}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,t){const s=cA[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class fA extends hA{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const u=md();return new Promise((h,f)=>{const g=new Xy;g.setWithCredentials(!0),g.listenOnce(Jy.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case cu.NO_ERROR:const w=g.getResponseJson();oe(Mt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),h(w);break;case cu.TIMEOUT:oe(Mt,`RPC '${e}' ${u} timed out`),f(new ae(W.DEADLINE_EXCEEDED,"Request time out"));break;case cu.HTTP_ERROR:const T=g.getStatus();if(oe(Mt,`RPC '${e}' ${u} failed with status:`,T,"response text:",g.getResponseText()),T>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const V=I==null?void 0:I.error;if(V&&V.status&&V.message){const O=function(z){const Q=z.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(Q)>=0?Q:W.UNKNOWN}(V.status);f(new ae(O,V.message))}else f(new ae(W.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new ae(W.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{oe(Mt,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);oe(Mt,`RPC '${e}' ${u} sending request:`,o),g.send(t,"POST",y,s,15)})}Wo(e,t,s){const o=md(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=tv(),f=ev(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const w=u.join("");oe(Mt,`Creating RPC '${e}' stream ${o}: ${w}`,g);const T=h.createWebChannel(w,g);let I=!1,V=!1;const O=new dA({Fo:z=>{V?oe(Mt,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(I||(oe(Mt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),I=!0),oe(Mt,`RPC '${e}' stream ${o} sending:`,z),T.send(z))},Mo:()=>T.close()}),q=(z,Q,J)=>{z.listen(Q,re=>{try{J(re)}catch(fe){setTimeout(()=>{throw fe},0)}})};return q(T,ca.EventType.OPEN,()=>{V||(oe(Mt,`RPC '${e}' stream ${o} transport opened.`),O.Qo())}),q(T,ca.EventType.CLOSE,()=>{V||(V=!0,oe(Mt,`RPC '${e}' stream ${o} transport closed`),O.Ko())}),q(T,ca.EventType.ERROR,z=>{V||(V=!0,Xs(Mt,`RPC '${e}' stream ${o} transport errored:`,z),O.Ko(new ae(W.UNAVAILABLE,"The operation could not be completed")))}),q(T,ca.EventType.MESSAGE,z=>{var Q;if(!V){const J=z.data[0];je(!!J);const re=J,fe=(re==null?void 0:re.error)||((Q=re[0])===null||Q===void 0?void 0:Q.error);if(fe){oe(Mt,`RPC '${e}' stream ${o} received error:`,fe);const Ce=fe.status;let Te=function(R){const k=at[R];if(k!==void 0)return Lv(k)}(Ce),N=fe.message;Te===void 0&&(Te=W.INTERNAL,N="Unknown error status: "+Ce+" with message "+fe.message),V=!0,O.Ko(new ae(Te,N)),T.close()}else oe(Mt,`RPC '${e}' stream ${o} received:`,J),O.Uo(J)}}),q(f,Zy.STAT_EVENT,z=>{z.stat===rd.PROXY?oe(Mt,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===rd.NOPROXY&&oe(Mt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.$o()},0),O}}function Wh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(r){return new yS(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="PersistentStream";class Qv{constructor(e,t,s,o,u,h,f,g){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Gv(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===W.RESOURCE_EXHAUSTED?(Ar(t.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new ae(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return oe(Og,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(oe(Og,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pA extends Qv{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=wS(this.serializer,e),s=function(u){if(!("targetChange"in u))return we.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?Zn(h.readTime):we.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=fd(this.serializer),t.addTarget=function(u,h){let f;const g=h.target;if(f=ad(g)?{documents:IS(u,g)}:{query:SS(u,g).ht},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=Fv(u,h.resumeToken);const y=cd(u,h.expectedCount);y!==null&&(f.expectedCount=y)}else if(h.snapshotVersion.compareTo(we.min())>0){f.readTime=xu(u,h.snapshotVersion.toTimestamp());const y=cd(u,h.expectedCount);y!==null&&(f.expectedCount=y)}return f}(this.serializer,e);const s=CS(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=fd(this.serializer),t.removeTarget=e,this.I_(t)}}class mA extends Qv{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return je(!!e.streamToken),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=TS(e.writeResults,e.commitTime),s=Zn(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=fd(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>ES(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{}class yA extends gA{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ae(W.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.So(e,hd(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ae(W.UNKNOWN,u.toString())})}Co(e,t,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,f])=>this.connection.Co(e,hd(t,s),o,h,f,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ae(W.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class vA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ar(t),this.N_=!1):oe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi="RemoteStore";class _A{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{s.enqueueAndForget(async()=>{Zi(this)&&(oe(Xi,"Restarting streams for network reachability change."),await async function(g){const y=Ee(g);y.W_.add(4),await Fa(y),y.j_.set("Unknown"),y.W_.delete(4),await Qu(y)}(this))})}),this.j_=new vA(s,o)}}async function Qu(r){if(Zi(r))for(const e of r.G_)await e(!0)}async function Fa(r){for(const e of r.G_)await e(!1)}function Yv(r,e){const t=Ee(r);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Zd(t)?Jd(t):co(t).c_()&&Xd(t,e))}function Yd(r,e){const t=Ee(r),s=co(t);t.U_.delete(e),s.c_()&&Xv(t,e),t.U_.size===0&&(s.c_()?s.P_():Zi(t)&&t.j_.set("Unknown"))}function Xd(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}co(r).y_(e)}function Xv(r,e){r.H_.Ne(e),co(r).w_(e)}function Jd(r){r.H_=new fS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),co(r).start(),r.j_.B_()}function Zd(r){return Zi(r)&&!co(r).u_()&&r.U_.size>0}function Zi(r){return Ee(r).W_.size===0}function Jv(r){r.H_=void 0}async function wA(r){r.j_.set("Online")}async function EA(r){r.U_.forEach((e,t)=>{Xd(r,e)})}async function TA(r,e){Jv(r),Zd(r)?(r.j_.q_(e),Jd(r)):r.j_.set("Unknown")}async function IA(r,e,t){if(r.j_.set("Online"),e instanceof Ov&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const f of u.targetIds)o.U_.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.U_.delete(f),o.H_.removeTarget(f))}(r,e)}catch(s){oe(Xi,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Nu(r,s)}else if(e instanceof pu?r.H_.We(e):e instanceof Mv?r.H_.Ze(e):r.H_.je(e),!t.isEqual(we.min()))try{const s=await Kv(r.localStore);t.compareTo(s)>=0&&await function(u,h){const f=u.H_.ot(h);return f.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const w=u.U_.get(y);w&&u.U_.set(y,w.withResumeToken(g.resumeToken,h))}}),f.targetMismatches.forEach((g,y)=>{const w=u.U_.get(g);if(!w)return;u.U_.set(g,w.withResumeToken(Pt.EMPTY_BYTE_STRING,w.snapshotVersion)),Xv(u,g);const T=new ei(w.target,g,y,w.sequenceNumber);Xd(u,T)}),u.remoteSyncer.applyRemoteEvent(f)}(r,t)}catch(s){oe(Xi,"Failed to raise snapshot:",s),await Nu(r,s)}}async function Nu(r,e,t){if(!uo(e))throw e;r.W_.add(1),await Fa(r),r.j_.set("Offline"),t||(t=()=>Kv(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{oe(Xi,"Retrying IndexedDB access"),await t(),r.W_.delete(1),await Qu(r)})}function Zv(r,e){return e().catch(t=>Nu(r,t,e))}async function Yu(r){const e=Ee(r),t=hi(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:Md;for(;SA(e);)try{const o=await sA(e.localStore,s);if(o===null){e.K_.length===0&&t.P_();break}s=o.batchId,AA(e,o)}catch(o){await Nu(e,o)}e_(e)&&t_(e)}function SA(r){return Zi(r)&&r.K_.length<10}function AA(r,e){r.K_.push(e);const t=hi(r);t.c_()&&t.S_&&t.b_(e.mutations)}function e_(r){return Zi(r)&&!hi(r).u_()&&r.K_.length>0}function t_(r){hi(r).start()}async function CA(r){hi(r).C_()}async function RA(r){const e=hi(r);for(const t of r.K_)e.b_(t.mutations)}async function PA(r,e,t){const s=r.K_.shift(),o=$d.from(s,e,t);await Zv(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Yu(r)}async function xA(r,e){e&&hi(r).S_&&await async function(s,o){if(function(h){return cS(h)&&h!==W.ABORTED}(o.code)){const u=s.K_.shift();hi(s).h_(),await Zv(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Yu(s)}}(r,e),e_(r)&&t_(r)}async function Fg(r,e){const t=Ee(r);t.asyncQueue.verifyOperationInProgress(),oe(Xi,"RemoteStore received new credentials");const s=Zi(t);t.W_.add(3),await Fa(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Qu(t)}async function kA(r,e){const t=Ee(r);e?(t.W_.delete(2),await Qu(t)):e||(t.W_.add(2),await Fa(t),t.j_.set("Unknown"))}function co(r){return r.J_||(r.J_=function(t,s,o){const u=Ee(t);return u.M_(),new pA(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:wA.bind(null,r),No:EA.bind(null,r),Lo:TA.bind(null,r),p_:IA.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Zd(r)?Jd(r):r.j_.set("Unknown")):(await r.J_.stop(),Jv(r))})),r.J_}function hi(r){return r.Y_||(r.Y_=function(t,s,o){const u=Ee(t);return u.M_(),new mA(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:CA.bind(null,r),Lo:xA.bind(null,r),D_:RA.bind(null,r),v_:PA.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Yu(r)):(await r.Y_.stop(),r.K_.length>0&&(oe(Xi,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,f=new ef(e,t,h,o,u);return f.start(s),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tf(r,e){if(Ar("AsyncQueue",`${e}: ${r}`),uo(r))return new ae(W.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{static emptySet(e){return new Ys(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||pe.comparator(t.key,s.key):(t,s)=>pe.comparator(t.key,s.key),this.keyedMap=ha(),this.sortedSet=new Ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ys)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Ys;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(){this.Z_=new Ze(pe.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):ve():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class no{constructor(e,t,s,o,u,h,f,g,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(f=>{h.push({type:0,doc:f})}),new no(e,t,Ys.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$u(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class DA{constructor(){this.queries=bg(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=Ee(t),u=o.queries;o.queries=bg(),u.forEach((h,f)=>{for(const g of f.ta)g.onError(s)})})(this,new ae(W.ABORTED,"Firestore shutting down"))}}function bg(){return new Ji(r=>Tv(r),$u)}async function n_(r,e){const t=Ee(r);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new NA,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await t.onListen(o,!0);break;case 1:u.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=tf(h,`Initialization of query '${Ks(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,u),u.ta.push(e),e.sa(t.onlineState),u.ea&&e.oa(u.ea)&&nf(t)}async function r_(r,e){const t=Ee(r),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function VA(r,e){const t=Ee(r);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const f of h.ta)f.oa(o)&&(s=!0);h.ea=o}}s&&nf(t)}function LA(r,e,t){const s=Ee(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(t);s.queries.delete(e)}function nf(r){r.ia.forEach(e=>{e.next()})}var gd,Ug;(Ug=gd||(gd={}))._a="default",Ug.Cache="cache";class i_{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new no(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=no.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==gd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e){this.key=e}}class o_{constructor(e){this.key=e}}class MA{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Re(),this.mutatedKeys=Re(),this.ya=Iv(e),this.wa=new Ys(this.ya)}get Sa(){return this.fa}ba(e,t){const s=t?t.Da:new jg,o=t?t.wa:this.wa;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((w,T)=>{const I=o.get(w),V=qu(this.query,T)?T:null,O=!!I&&this.mutatedKeys.has(I.key),q=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let z=!1;I&&V?I.data.isEqual(V.data)?O!==q&&(s.track({type:3,doc:V}),z=!0):this.va(I,V)||(s.track({type:2,doc:V}),z=!0,(g&&this.ya(V,g)>0||y&&this.ya(V,y)<0)&&(f=!0)):!I&&V?(s.track({type:0,doc:V}),z=!0):I&&!V&&(s.track({type:1,doc:I}),z=!0,(g||y)&&(f=!0)),z&&(V?(h=h.add(V),u=q?u.add(w):u.delete(w)):(h=h.delete(w),u=u.delete(w)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),u=u.delete(w.key),s.track({type:1,doc:w})}return{wa:h,Da:s,ls:f,mutatedKeys:u}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((w,T)=>function(V,O){const q=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return q(V)-q(O)}(w.type,T.type)||this.ya(w.doc,T.doc)),this.Ca(s),o=o!=null&&o;const f=t&&!o?this.Fa():[],g=this.pa.size===0&&this.current&&!o?1:0,y=g!==this.ga;return this.ga=g,h.length!==0||y?{snapshot:new no(this.query,e.wa,u,h,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new jg,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Re(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new o_(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new s_(s))}),t}Oa(e){this.fa=e.gs,this.pa=Re();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return no.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const rf="SyncEngine";class OA{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class FA{constructor(e){this.key=e,this.Ba=!1}}class jA{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new Ji(f=>Tv(f),$u),this.qa=new Map,this.Qa=new Set,this.$a=new Ze(pe.comparator),this.Ka=new Map,this.Ua=new Wd,this.Wa={},this.Ga=new Map,this.za=to.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function bA(r,e,t=!0){const s=d_(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await a_(s,e,t,!0),o}async function UA(r,e){const t=d_(r);await a_(t,e,!0,!1)}async function a_(r,e,t,s){const o=await oA(r.localStore,Jn(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,t);let f;return s&&(f=await zA(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&Yv(r.remoteStore,o),f}async function zA(r,e,t,s,o){r.Ha=(T,I,V)=>async function(q,z,Q,J){let re=z.view.ba(Q);re.ls&&(re=await Dg(q.localStore,z.query,!1).then(({documents:N})=>z.view.ba(N,re)));const fe=J&&J.targetChanges.get(z.targetId),Ce=J&&J.targetMismatches.get(z.targetId)!=null,Te=z.view.applyChanges(re,q.isPrimaryClient,fe,Ce);return Bg(q,z.targetId,Te.Ma),Te.snapshot}(r,T,I,V);const u=await Dg(r.localStore,e,!0),h=new MA(e,u.gs),f=h.ba(u.documents),g=Oa.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),y=h.applyChanges(f,r.isPrimaryClient,g);Bg(r,t,y.Ma);const w=new OA(e,t,h);return r.ka.set(e,w),r.qa.has(t)?r.qa.get(t).push(e):r.qa.set(t,[e]),y.snapshot}async function BA(r,e,t){const s=Ee(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(h=>!$u(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await pd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Yd(s.remoteStore,o.targetId),yd(s,o.targetId)}).catch(lo)):(yd(s,o.targetId),await pd(s.localStore,o.targetId,!0))}async function $A(r,e){const t=Ee(r),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Yd(t.remoteStore,s.targetId))}async function qA(r,e,t){const s=XA(r);try{const o=await function(h,f){const g=Ee(h),y=pt.now(),w=f.reduce((V,O)=>V.add(O.key),Re());let T,I;return g.persistence.runTransaction("Locally write mutations","readwrite",V=>{let O=Cr(),q=Re();return g.ds.getEntries(V,w).next(z=>{O=z,O.forEach((Q,J)=>{J.isValidDocument()||(q=q.add(Q))})}).next(()=>g.localDocuments.getOverlayedDocuments(V,O)).next(z=>{T=z;const Q=[];for(const J of f){const re=sS(J,T.get(J.key).overlayedDocument);re!=null&&Q.push(new mi(J.key,re,pv(re.value.mapValue),Fn.exists(!0)))}return g.mutationQueue.addMutationBatch(V,y,Q,f)}).next(z=>{I=z;const Q=z.applyToLocalDocumentSet(T,q);return g.documentOverlayCache.saveOverlays(V,z.batchId,Q)})}).then(()=>({batchId:I.batchId,changes:Av(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,f,g){let y=h.Wa[h.currentUser.toKey()];y||(y=new Ze(xe)),y=y.insert(f,g),h.Wa[h.currentUser.toKey()]=y}(s,o.batchId,t),await ja(s,o.changes),await Yu(s.remoteStore)}catch(o){const u=tf(o,"Failed to persist write");t.reject(u)}}async function l_(r,e){const t=Ee(r);try{const s=await rA(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Ka.get(u);h&&(je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?je(h.Ba):o.removedDocuments.size>0&&(je(h.Ba),h.Ba=!1))}),await ja(t,s,e)}catch(s){await lo(s)}}function zg(r,e,t){const s=Ee(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((u,h)=>{const f=h.view.sa(e);f.snapshot&&o.push(f.snapshot)}),function(h,f){const g=Ee(h);g.onlineState=f;let y=!1;g.queries.forEach((w,T)=>{for(const I of T.ta)I.sa(f)&&(y=!0)}),y&&nf(g)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function HA(r,e,t){const s=Ee(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ka.get(e),u=o&&o.key;if(u){let h=new Ze(pe.comparator);h=h.insert(u,Ft.newNoDocument(u,we.min()));const f=Re().add(u),g=new Ku(we.min(),new Map,new Ze(xe),h,f);await l_(s,g),s.$a=s.$a.remove(u),s.Ka.delete(e),sf(s)}else await pd(s.localStore,e,!1).then(()=>yd(s,e,t)).catch(lo)}async function WA(r,e){const t=Ee(r),s=e.batch.batchId;try{const o=await nA(t.localStore,e);c_(t,s,null),u_(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await ja(t,o)}catch(o){await lo(o)}}async function KA(r,e,t){const s=Ee(r);try{const o=await function(h,f){const g=Ee(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return g.mutationQueue.lookupMutationBatch(y,f).next(T=>(je(T!==null),w=T.keys(),g.mutationQueue.removeMutationBatch(y,T))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,w,f)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>g.localDocuments.getDocuments(y,w))})}(s.localStore,e);c_(s,e,t),u_(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await ja(s,o)}catch(o){await lo(o)}}function u_(r,e){(r.Ga.get(e)||[]).forEach(t=>{t.resolve()}),r.Ga.delete(e)}function c_(r,e,t){const s=Ee(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function yd(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),t&&r.La.Ja(s,t);r.qa.delete(e),r.isPrimaryClient&&r.Ua.br(e).forEach(s=>{r.Ua.containsKey(s)||h_(r,s)})}function h_(r,e){r.Qa.delete(e.path.canonicalString());const t=r.$a.get(e);t!==null&&(Yd(r.remoteStore,t),r.$a=r.$a.remove(e),r.Ka.delete(t),sf(r))}function Bg(r,e,t){for(const s of t)s instanceof s_?(r.Ua.addReference(s.key,e),GA(r,s)):s instanceof o_?(oe(rf,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||h_(r,s.key)):ve()}function GA(r,e){const t=e.key,s=t.path.canonicalString();r.$a.get(t)||r.Qa.has(s)||(oe(rf,"New document in limbo: "+t),r.Qa.add(s),sf(r))}function sf(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const t=new pe(Ke.fromString(e)),s=r.za.next();r.Ka.set(s,new FA(t)),r.$a=r.$a.insert(t,s),Yv(r.remoteStore,new ei(Jn(Ud(t.path)),s,"TargetPurposeLimboResolution",Uu.ae))}}async function ja(r,e,t){const s=Ee(r),o=[],u=[],h=[];s.ka.isEmpty()||(s.ka.forEach((f,g)=>{h.push(s.Ha(g,e,t).then(y=>{var w;if((y||t)&&s.isPrimaryClient){const T=y?!y.fromCache:(w=t==null?void 0:t.targetChanges.get(g.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(y){o.push(y);const T=Gd.Yi(g.targetId,y);u.push(T)}}))}),await Promise.all(h),s.La.p_(o),await async function(g,y){const w=Ee(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>K.forEach(y,I=>K.forEach(I.Hi,V=>w.persistence.referenceDelegate.addReference(T,I.targetId,V)).next(()=>K.forEach(I.Ji,V=>w.persistence.referenceDelegate.removeReference(T,I.targetId,V)))))}catch(T){if(!uo(T))throw T;oe(Qd,"Failed to update sequence numbers: "+T)}for(const T of y){const I=T.targetId;if(!T.fromCache){const V=w.Ts.get(I),O=V.snapshotVersion,q=V.withLastLimboFreeSnapshotVersion(O);w.Ts=w.Ts.insert(I,q)}}}(s.localStore,u))}async function QA(r,e){const t=Ee(r);if(!t.currentUser.isEqual(e)){oe(rf,"User change. New user:",e.toKey());const s=await Wv(t.localStore,e);t.currentUser=e,function(u,h){u.Ga.forEach(f=>{f.forEach(g=>{g.reject(new ae(W.CANCELLED,h))})}),u.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ja(t,s.Rs)}}function YA(r,e){const t=Ee(r),s=t.Ka.get(e);if(s&&s.Ba)return Re().add(s.key);{let o=Re();const u=t.qa.get(e);if(!u)return o;for(const h of u){const f=t.ka.get(h);o=o.unionWith(f.view.Sa)}return o}}function d_(r){const e=Ee(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=l_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HA.bind(null,e),e.La.p_=VA.bind(null,e.eventManager),e.La.Ja=LA.bind(null,e.eventManager),e}function XA(r){const e=Ee(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KA.bind(null,e),e}class Du{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gu(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return tA(this.persistence,new JS,e.initialUser,this.serializer)}Xa(e){return new Hv(Kd.ri,this.serializer)}Za(e){return new lA}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Du.provider={build:()=>new Du};class JA extends Du{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){je(this.persistence.referenceDelegate instanceof ku);const s=this.persistence.referenceDelegate.garbageCollector;return new FS(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Xt.withCacheSize(this.cacheSizeBytes):Xt.DEFAULT;return new Hv(s=>ku.ri(s,t),this.serializer)}}class vd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>zg(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=QA.bind(null,this.syncEngine),await kA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new DA}()}createDatastore(e){const t=Gu(e.databaseInfo.databaseId),s=function(u){return new fA(u)}(e.databaseInfo);return function(u,h,f,g){return new yA(u,h,f,g)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,f){return new _A(s,o,u,h,f)}(this.localStore,this.datastore,e.asyncQueue,t=>zg(this.syncEngine,t,0),function(){return Mg.D()?new Mg:new uA}())}createSyncEngine(e,t){return function(o,u,h,f,g,y,w){const T=new jA(o,u,h,f,g,y);return w&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Ee(o);oe(Xi,"RemoteStore shutting down."),u.W_.add(5),await Fa(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}vd.provider={build:()=>new vd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ar("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di="FirestoreClient";class ZA{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Ot.UNAUTHENTICATED,this.clientId=rv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{oe(di,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(oe(di,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=tf(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Kh(r,e){r.asyncQueue.verifyOperationInProgress(),oe(di,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Wv(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function $g(r,e){r.asyncQueue.verifyOperationInProgress();const t=await eC(r);oe(di,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>Fg(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Fg(e.remoteStore,o)),r._onlineComponents=e}async function eC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){oe(di,"Using user provided OfflineComponentProvider");try{await Kh(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Xs("Error using user provided cache. Falling back to memory cache: "+t),await Kh(r,new Du)}}else oe(di,"Using default OfflineComponentProvider"),await Kh(r,new JA(void 0));return r._offlineComponents}async function p_(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(oe(di,"Using user provided OnlineComponentProvider"),await $g(r,r._uninitializedComponentsProvider._online)):(oe(di,"Using default OnlineComponentProvider"),await $g(r,new vd))),r._onlineComponents}function tC(r){return p_(r).then(e=>e.syncEngine)}async function m_(r){const e=await p_(r),t=e.eventManager;return t.onListen=bA.bind(null,e.syncEngine),t.onUnlisten=BA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=UA.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=$A.bind(null,e.syncEngine),t}function nC(r,e,t={}){const s=new Tr;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,f,g,y){const w=new f_({next:I=>{w.su(),h.enqueueAndForget(()=>r_(u,T));const V=I.docs.has(f);!V&&I.fromCache?y.reject(new ae(W.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&I.fromCache&&g&&g.source==="server"?y.reject(new ae(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(I)},error:I=>y.reject(I)}),T=new i_(Ud(f.path),w,{includeMetadataChanges:!0,Ta:!0});return n_(u,T)}(await m_(r),r.asyncQueue,e,t,s)),s.promise}function rC(r,e,t={}){const s=new Tr;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,f,g,y){const w=new f_({next:I=>{w.su(),h.enqueueAndForget(()=>r_(u,T)),I.fromCache&&g.source==="server"?y.reject(new ae(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(I)},error:I=>y.reject(I)}),T=new i_(f,w,{includeMetadataChanges:!0,Ta:!0});return n_(u,T)}(await m_(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(r,e,t){if(!t)throw new ae(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function iC(r,e,t,s){if(e===!0&&s===!0)throw new ae(W.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Hg(r){if(!pe.isDocumentKey(r))throw new ae(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Wg(r){if(pe.isDocumentKey(r))throw new ae(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Xu(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ve()}function ro(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ae(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Xu(r);throw new ae(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="firestore.googleapis.com",Kg=!0;class Gg{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=v_,this.ssl=Kg}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Kg;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MS)throw new ae(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=g_((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ae(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ae(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ae(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ju{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gg(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new fI;switch(s.type){case"firstParty":return new yI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ae(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=qg.get(t);s&&(oe("ComponentProvider","Removing Datastore"),qg.delete(t),s.terminate())}(this),Promise.resolve()}}function sC(r,e,t,s={}){var o;const u=(r=ro(r,Ju))._getSettings(),h=`${e}:${t}`;if(u.host!==v_&&u.host!==h&&Xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),s.mockUserToken){let f,g;if(typeof s.mockUserToken=="string")f=s.mockUserToken,g=Ot.MOCK_USER;else{f=SE(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new ae(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ot(y)}r._authCredentials=new pI(new nv(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ho(this.firestore,e,this._query)}}class cn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ii(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class ii extends ho{constructor(e,t,s){super(e,t,Ud(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new pe(e))}withConverter(e){return new ii(this.firestore,e,this._path)}}function Vu(r,e,...t){if(r=En(r),y_("collection","path",e),r instanceof Ju){const s=Ke.fromString(e,...t);return Wg(s),new ii(r,null,s)}{if(!(r instanceof cn||r instanceof ii))throw new ae(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ke.fromString(e,...t));return Wg(s),new ii(r.firestore,null,s)}}function Qg(r,e,...t){if(r=En(r),arguments.length===1&&(e=rv.newId()),y_("doc","path",e),r instanceof Ju){const s=Ke.fromString(e,...t);return Hg(s),new cn(r,null,new pe(s))}{if(!(r instanceof cn||r instanceof ii))throw new ae(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ke.fromString(e,...t));return Hg(s),new cn(r.firestore,r instanceof ii?r.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg="AsyncQueue";class Xg{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Gv(this,"async_queue_retry"),this.Su=()=>{const s=Wh();s&&oe(Yg,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const t=Wh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Wh();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Tr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!uo(e))throw e;oe(Yg,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(h){let f=h.message||"";return h.stack&&(f=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),f}(s);throw Ar("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=ef.createAndSchedule(this,e,t,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&ve()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Zu extends Ju{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Xg,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Xg(e),this._firestoreClient=void 0,await e}}}function oC(r,e){const t=typeof r=="object"?r:Ay(),s=typeof r=="string"?r:Iu,o=Va(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=TE("firestore");u&&sC(o,...u)}return o}function ec(r){if(r._terminated)throw new ae(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||aC(r),r._firestoreClient}function aC(r){var e,t,s;const o=r._freezeSettings(),u=function(f,g,y,w){return new NI(f,g,y,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,g_(w.experimentalLongPollingOptions),w.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new ZA(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(f){const g=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this._byteString=e}static fromBase64String(e){try{return new io(Pt.fromBase64String(e))}catch(t){throw new ae(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new io(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ae(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ae(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ae(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=/^__.*__$/;class uC{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new mi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ma(e,this.data,t,this.fieldTransforms)}}class __{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new mi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function w_(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class uf{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new uf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Lu(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(w_(this.Lu)&&lC.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class cC{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Gu(e)}ju(e,t,s,o=!1){return new uf({Lu:e,methodName:t,zu:s,path:Rt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function E_(r){const e=r._freezeSettings(),t=Gu(r._databaseId);return new cC(r._databaseId,!!e.ignoreUndefinedProperties,t)}function hC(r,e,t,s,o,u={}){const h=r.ju(u.merge||u.mergeFields?2:0,e,t,o);cf("Data must be an object, but it was:",h,s);const f=T_(s,h);let g,y;if(u.merge)g=new ln(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const w=[];for(const T of u.mergeFields){const I=_d(e,T,t);if(!h.contains(I))throw new ae(W.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);S_(w,I)||w.push(I)}g=new ln(w),y=h.fieldTransforms.filter(T=>g.covers(T.field))}else g=null,y=h.fieldTransforms;return new uC(new Jt(f),g,y)}class nc extends of{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nc}}function dC(r,e,t,s){const o=r.ju(1,e,t);cf("Data must be an object, but it was:",o,s);const u=[],h=Jt.empty();pi(s,(g,y)=>{const w=hf(e,g,t);y=En(y);const T=o.Ku(w);if(y instanceof nc)u.push(w);else{const I=ba(y,T);I!=null&&(u.push(w),h.set(w,I))}});const f=new ln(u);return new __(h,f,o.fieldTransforms)}function fC(r,e,t,s,o,u){const h=r.ju(1,e,t),f=[_d(e,s,t)],g=[o];if(u.length%2!=0)throw new ae(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<u.length;I+=2)f.push(_d(e,u[I])),g.push(u[I+1]);const y=[],w=Jt.empty();for(let I=f.length-1;I>=0;--I)if(!S_(y,f[I])){const V=f[I];let O=g[I];O=En(O);const q=h.Ku(V);if(O instanceof nc)y.push(V);else{const z=ba(O,q);z!=null&&(y.push(V),w.set(V,z))}}const T=new ln(y);return new __(w,T,h.fieldTransforms)}function pC(r,e,t,s=!1){return ba(t,r.ju(s?4:3,e))}function ba(r,e){if(I_(r=En(r)))return cf("Unsupported field value:",e,r),T_(r,e);if(r instanceof of)return function(s,o){if(!w_(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const f of s){let g=ba(f,o.Uu(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=En(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return ZI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=pt.fromDate(s);return{timestampValue:xu(o.serializer,u)}}if(s instanceof pt){const u=new pt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:xu(o.serializer,u)}}if(s instanceof af)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof io)return{bytesValue:Fv(o.serializer,s._byteString)};if(s instanceof cn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Hd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof lf)return function(h,f){return{mapValue:{fields:{[hv]:{stringValue:fv},[Su]:{arrayValue:{values:h.toArray().map(y=>{if(typeof y!="number")throw f.Wu("VectorValues must only contain numeric values.");return zd(f.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Xu(s)}`)}(r,e)}function T_(r,e){const t={};return sv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pi(r,(s,o)=>{const u=ba(o,e.qu(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function I_(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof pt||r instanceof af||r instanceof io||r instanceof cn||r instanceof of||r instanceof lf)}function cf(r,e,t){if(!I_(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=Xu(t);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function _d(r,e,t){if((e=En(e))instanceof tc)return e._internalPath;if(typeof e=="string")return hf(r,e);throw Lu("Field path arguments must be of type string or ",r,!1,void 0,t)}const mC=new RegExp("[~\\*/\\[\\]]");function hf(r,e,t){if(e.search(mC)>=0)throw Lu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new tc(...e.split("."))._internalPath}catch{throw Lu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Lu(r,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new ae(W.INVALID_ARGUMENT,f+r+g)}function S_(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(df("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class gC extends A_{data(){return super.data()}}function df(r,e){return typeof e=="string"?hf(r,e):e instanceof tc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ae(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ff{}class vC extends ff{}function _C(r,e,...t){let s=[];e instanceof ff&&s.push(e),s=s.concat(t),function(u){const h=u.filter(g=>g instanceof pf).length,f=u.filter(g=>g instanceof rc).length;if(h>1||h>0&&f>0)throw new ae(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class rc extends vC{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new rc(e,t,s)}_apply(e){const t=this._parse(e);return C_(e._query,t),new ho(e.firestore,e.converter,ld(e._query,t))}_parse(e){const t=E_(e.firestore);return function(u,h,f,g,y,w,T){let I;if(y.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new ae(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){Zg(T,w);const O=[];for(const q of T)O.push(Jg(g,u,q));I={arrayValue:{values:O}}}else I=Jg(g,u,T)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||Zg(T,w),I=pC(f,h,T,w==="in"||w==="not-in");return lt.create(y,w,I)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function wC(r,e,t){const s=e,o=df("where",r);return rc._create(o,s,t)}class pf extends ff{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new pf(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:jn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const f=u.getFlattenedFilters();for(const g of f)C_(h,g),h=ld(h,g)}(e._query,t),new ho(e.firestore,e.converter,ld(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Jg(r,e,t){if(typeof(t=En(t))=="string"){if(t==="")throw new ae(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ev(e)&&t.indexOf("/")!==-1)throw new ae(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Ke.fromString(t));if(!pe.isDocumentKey(s))throw new ae(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return fg(r,new pe(s))}if(t instanceof cn)return fg(r,t._key);throw new ae(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xu(t)}.`)}function Zg(r,e){if(!Array.isArray(r)||r.length===0)throw new ae(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function C_(r,e){const t=function(o,u){for(const h of o)for(const f of h.getFlattenedFilters())if(u.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ae(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class EC{convertValue(e,t="none"){switch(ci(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ui(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ve()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return pi(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Su].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>it(h.doubleValue));return new lf(u)}convertGeoPoint(e){return new af(it(e.latitude),it(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Bu(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Ia(e));default:return null}}convertTimestamp(e){const t=li(e);return new pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ke.fromString(e);je($v(s));const o=new Sa(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(t)||Ar(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class R_ extends A_{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new mu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(df("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class mu extends R_{data(e={}){return super.data(e)}}class IC{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new fa(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new mu(this._firestore,this._userDataWriter,s.key,s,new fa(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ae(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(f=>{const g=new mu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new fa(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>u||f.type!==3).map(f=>{const g=new mu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new fa(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return f.type!==0&&(y=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),w=h.indexOf(f.doc.key)),{type:SC(f.type),doc:g,oldIndex:y,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function SC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(r){r=ro(r,cn);const e=ro(r.firestore,Zu);return nC(ec(e),r._key).then(t=>RC(e,r,t))}class P_ extends EC{constructor(e){super(),this.firestore=e}convertBytes(e){return new io(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,t)}}function x_(r){r=ro(r,ho);const e=ro(r.firestore,Zu),t=ec(e),s=new P_(e);return yC(r._query),rC(t,r._query).then(o=>new IC(e,s,r,o))}function CC(r,e){return function(s,o){const u=new Tr;return s.asyncQueue.enqueueAndForget(async()=>qA(await tC(s),o,u)),u.promise}(ec(r),e)}function RC(r,e,t){const s=t.docs.get(e._key),o=new P_(r);return new R_(r,o,e._key,s,new fa(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=E_(e)}set(e,t,s){this._verifyNotCommitted();const o=Gh(e,this._firestore),u=TC(o.converter,t,s),h=hC(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(h.toMutation(o._key,Fn.none())),this}update(e,t,s,...o){this._verifyNotCommitted();const u=Gh(e,this._firestore);let h;return h=typeof(t=En(t))=="string"||t instanceof tc?fC(this._dataReader,"WriteBatch.update",u._key,t,s,o):dC(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(h.toMutation(u._key,Fn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Gh(e,this._firestore);return this._mutations=this._mutations.concat(new Bd(t._key,Fn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ae(W.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Gh(r,e){if((r=En(r)).firestore!==e)throw new ae(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(r){return ec(r=ro(r,Zu)),new PC(r,e=>CC(r,e))}(function(e,t=!0){(function(o){ao=o})(MT),oi(new Ir("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),f=new Zu(new mI(s.getProvider("auth-internal")),new vI(h,s.getProvider("app-check-internal")),function(y,w){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ae(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sa(y.options.projectId,w)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),f._setSettings(u),f},"PUBLIC").setMultipleInstances(!0)),Xn(ng,rg,e),Xn(ng,rg,"esm2017")})();const kC={apiKey:"AIzaSyCctttVWGUc5IBnmkH8U1kLGmSG1z-CpA0",authDomain:"ecommerce-suplementos-78176.firebaseapp.com",projectId:"ecommerce-suplementos-78176",storageBucket:"ecommerce-suplementos-78176.firebasestorage.app",messagingSenderId:"908532172304",appId:"1:908532172304:web:15b22e3cbdd8aa1f00ac95",measurementId:"G-L9HTD6TPZJ"},k_=Sy(kC);uI(k_);const _a=oC(k_);async function NC(){return(await x_(Vu(_a,"products"))).docs.map(t=>t.data())}const DC=async r=>{const e=xC(_a),{name:t,last_name:s,email:o,password:u,addressToRef:h}=r,{street:f,colonia:g}=h,y=Qg(Vu(_a,"users")),w=Qg(Vu(_a,"address")),T={name:t,last_name:s,email:o,password:u,addressRef:w},I={street:f,colonia:g};e.set(y,T),e.set(w,I);try{await e.commit(),console.log("Usuario creado correctamente")}catch(V){throw console.error("Error al crear usuario",V),V}};async function VC(r,e){let t=null;try{const s=_C(Vu(_a,"users"),wC("email","==",r)),o=await x_(s);if(o.empty)console.error("Usuario no encontrado");else{const h=o.docs[0].data();if(h.password===e&&h.email===r){t=h;const f=t.addressRef,g=await AC(f);if(g.exists()){const y=g.data();t.address=y}else console.error("La direccin del usuario no existe.")}else console.error("Contrasea incorrecta")}}catch(s){console.error("Error al obtener usuario",s)}finally{return t}}const LC=({filter:r})=>{const[e,t]=H.useState([]);return H.useEffect(()=>{(async()=>{try{const u=(await NC()).filter(h=>h.type.toLowerCase().includes(r.toLowerCase()));t(u)}catch(o){console.error("Error al obtener productos:",o)}})()},[r]),C.jsxs("div",{className:"store-container-wrapper",children:[C.jsx("div",{}),C.jsx("div",{className:"store-container",children:C.jsx("ul",{className:"ul_itemslist",children:e.map(s=>C.jsxs("li",{className:"li_itemslist",children:[C.jsxs("div",{className:"div_container_product",children:[C.jsx("div",{children:C.jsx("img",{className:"li_img_product",src:s.img,alt:s.desc})}),C.jsx("div",{children:C.jsx("h3",{children:s.name})}),C.jsx("div",{children:C.jsxs("h4",{children:["$",s.price]})})]}),C.jsx("div",{className:"div_details_and_cart",children:C.jsx(Yt,{to:`/ProjectGymReact/product/detail/${s.id}`,state:s,children:C.jsx("div",{className:"div_details",children:C.jsx("p",{children:"Ver detalle"})})})})]},s.id))})}),C.jsx("div",{})]})},MC=({userName:r,userLastname:e,filter:t})=>C.jsxs("section",{className:"div_principal_contenido view_default",children:[C.jsx("h1",{children:"BIENVENIDO A REAL MAN!"}),C.jsx(LC,{filter:t,className:"items_list"})]}),OC=({quantity:r,setQuantity:e,stock:t})=>{const s=()=>{r<=t?e(r+1):alert("No hay stock suficiente")},o=()=>e(r>1?r-1:1);return C.jsxs("div",{className:"div_detail_container_quantity",children:[C.jsx("button",{className:"btn_detail_decrement",onClick:o,children:"-"}),C.jsx("p",{className:"p_text_quantity",children:C.jsx("span",{children:r})}),C.jsx("button",{className:"btn_detail_increment",onClick:s,children:"+"})]})},FC=({product:r})=>{const[e,t]=H.useState(1),{getCartShopping:s}=H.useContext(Na),o=()=>{s(r,e)};return C.jsx("section",{className:"section_detail_product view_default",children:C.jsxs("div",{className:"div_container_detail",children:[C.jsx("div",{className:"div_img_container",children:C.jsx("div",{children:C.jsx("img",{src:r.img,alt:r.desc})})}),C.jsxs("div",{className:"div_detail_container_data",children:[C.jsx("div",{children:C.jsx("h2",{children:r.name})}),C.jsx("div",{className:"div_detail_desc",children:C.jsxs("p",{children:["Lorem ipsum dolor sit amet consectetur adipisicing elit. Eum minima et natus molestiae, ",C.jsx("br",{}),"saepe nobis esse, aspernatur sapiente similique quidem laboriosam maxime, tenetur ",C.jsx("br",{})," suscipit quod illum labore laudantium animi fugit!"]})}),C.jsxs("div",{className:"div_detail_price",children:["$",r.price]}),C.jsx("div",{className:"div_detail_principal_container_quantity",children:C.jsx(OC,{quantity:e,setQuantity:t,stock:r.stock})}),C.jsx("div",{className:"div_add_to_cart",children:C.jsx("button",{className:"btn_add_to_cart",onClick:o,children:"Agregar al carrito"})})]})]})})},jC=()=>{const e=Pr().state;return C.jsx(FC,{product:e})},bC=(r,e,t)=>{const s=[...r],o=s.findIndex(u=>u.id===e.id);return o!==-1?s[o].quantity+=t:(e.quantity=t,s.push({...e})),s},UC=({children:r})=>{const[e,t]=H.useState([]),[s,o]=H.useState(0),u=f=>{o(g=>g+f)},h=(f,g)=>{const y=bC(e,f,g);t(y),u(g)};return C.jsx(Na.Provider,{value:{cartShopping:e,getCartShopping:h,quantityFinal:s,setQuantityFinal:o,setCartShopping:t},children:r})},zC=({cantidad:r,onQuantityChange:e,stock:t})=>{const[s,o]=H.useState(r);H.useEffect(()=>{o(r)},[r]);const u=()=>{o(f=>{if(f<=t){const g=f+1;return e(g),g}else return alert("Sin inventario suficiente"),f})},h=()=>{o(f=>{if(f>1){const g=f-1;return e(g),g}return f})};return C.jsxs("div",{className:"div_detail_container_quantity",children:[C.jsx("button",{className:"btn_detail_decrement",onClick:h,children:"-"}),C.jsx("p",{className:"p_text_quantity",children:C.jsx("span",{children:s})}),C.jsx("button",{className:"btn_detail_increment",onClick:u,children:"+"})]})},BC=()=>{const{cartShopping:r,setCartShopping:e,quantityFinal:t,setQuantityFinal:s}=H.useContext(Na),{session:o,user:u}=H.useContext(Da);function h(){let w=0;return[...r].forEach(I=>{w+=I.price*I.quantity}),w}const f=h(),g=w=>()=>{const T=r.filter(V=>V.id!==w.id);e(T);const I=T.reduce((V,O)=>V+O.quantity,0);s(I)},y=(w,T)=>{const I=r.map(O=>O.id===w?{...O,quantity:T}:O);e(I);const V=I.reduce((O,q)=>O+q.quantity,0);s(V)};return C.jsx("section",{className:"view_default",children:r.length===0?C.jsx("div",{className:"div_cart_empty",children:C.jsx("div",{children:C.jsx("h2",{children:"There is nothing in your cart. Please add something to continue."})})}):C.jsxs("div",{children:[C.jsx("div",{className:"div_title_cart_summary",children:C.jsx("h3",{children:"Tus productos"})}),C.jsxs("div",{className:"div_principal_cart_summary",children:[C.jsx("div",{className:"div_cart_summary_items",children:C.jsx("ul",{children:r.map(w=>C.jsx("li",{className:"li_cart_summary",children:C.jsxs("div",{className:"div_principal_li_cart_summary",children:[C.jsx("div",{className:"div_cart_summary_img",children:C.jsx("img",{src:w.img,alt:w.desc})}),C.jsxs("div",{children:[C.jsxs("div",{children:[C.jsx("h4",{children:w.name}),C.jsx("h4",{children:w.desc})]}),C.jsx("div",{children:C.jsxs("h4",{children:["$",w.price,".00"]})})]}),C.jsxs("div",{className:"div_cart_summary_quantity_control",children:[C.jsx(zC,{cantidad:w.quantity,onQuantityChange:T=>y(w.id,T),stock:w.stock}),C.jsx("div",{className:"div_cart_summary_btn_eliminar",children:C.jsx("button",{onClick:g(w),children:"Eliminar"})})]})]})},w.id))})}),C.jsxs("div",{className:"div_cart_summary_checkout",children:[C.jsx("div",{children:C.jsxs("h3",{children:["Total: $",f,".00"]})}),C.jsx("div",{children:C.jsx("h3",{children:"Envo: GRATIS!"})}),C.jsx("div",{children:C.jsxs("h3",{children:["Productos: ",t]})}),C.jsx("div",{children:C.jsxs("h3",{children:["Direccin: ",u!==null?`${u.address.street}, ${u.address.colonia}`:"Direccin no disponible"]})}),C.jsx("div",{className:"div_btn_buy",children:o?C.jsx(Yt,{className:"btn_buy",to:"/ProjectGymReact/CartSummary/CartCheckout",children:"Proceder al pago"}):C.jsx(Yt,{className:"btn_buy",to:"/ProjectGymReact/Login",children:"Proceder al pago"})})]})]})]})})},$C=()=>{const{cartShopping:r,setCartShopping:e,setQuantityFinal:t}=H.useContext(Na),{user:s}=H.useContext(Da),[o,u]=H.useState(!1),h=r.reduce((y,w)=>y+w.quantity,0),f=r.reduce((y,w)=>y+w.price*w.quantity,0),g=()=>{e([]),t(0),u(!0)};return C.jsx("section",{className:"view_default",children:C.jsx("div",{className:"checkout-container",children:o?C.jsxs("div",{className:"success-message",children:[C.jsx("h2",{children:"Compra exitosa"}),C.jsx("p",{children:"Te enviamos un cdigo para proceder"})]}):C.jsxs("div",{className:"checkout-summary",children:[C.jsx("h2",{children:"Resumen de tu compra"}),C.jsxs("div",{className:"user-info",children:[C.jsxs("p",{children:[C.jsx("strong",{children:"Nombre:"})," ",s.name," ",s.lastname]}),C.jsxs("p",{children:[C.jsx("strong",{children:"Email:"})," ",s.email]}),C.jsxs("p",{children:[C.jsx("strong",{children:"Direccin de envo:"})," ",s.address?`${s.address.street}, ${s.address.colonia}`:"No disponible"]})]}),C.jsxs("div",{className:"order-info",children:[C.jsxs("p",{children:[C.jsx("strong",{children:"Total de artculos:"})," ",h]}),C.jsxs("p",{children:[C.jsx("strong",{children:"Total de la compra:"})," $",f.toFixed(2)]})]}),C.jsx("button",{className:"buy-button",onClick:g,children:"Comprar"})]})})})},qC=()=>{const[r,e]=H.useState(""),[t,s]=H.useState(""),{login:o}=H.useContext(Da),u=uy(),h=async f=>{if(f.preventDefault(),!await o(r,t))alert("Usuario o contrasea incorrectos");else{const y=localStorage.getItem("preLocation");u(y!==null?y:"/ProjectGymReact/",{replace:!0})}};return C.jsxs("section",{className:"view_default",children:[C.jsx("div",{className:"section_title_login",children:C.jsx("h2",{children:"Inicia sesin en REAL MAN o registrate con nosotros"})}),C.jsx("div",{className:"section_principal_login",children:C.jsxs("div",{className:"div_principal_login",children:[C.jsx("div",{className:"div_login_title",children:C.jsx("h2",{children:"Iniciar sesin"})}),C.jsxs("form",{onSubmit:h,children:[C.jsxs("div",{className:"div_login_label_input",children:[C.jsx("div",{children:C.jsx("label",{htmlFor:"email",children:"Email"})}),C.jsx("div",{children:C.jsx("input",{type:"email",id:"email",name:"email",value:r,onChange:f=>e(f.target.value),required:!0,className:"input_login"})})]}),C.jsxs("div",{className:"div_login_label_input",children:[C.jsx("div",{children:C.jsx("label",{htmlFor:"password",children:"Contrasea"})}),C.jsx("div",{children:C.jsx("input",{type:"password",id:"password",name:"password",value:t,onChange:f=>s(f.target.value),required:!0,className:"input_login"})})]}),C.jsx("div",{className:"div_btn_iniciar_sesion",children:C.jsx("button",{type:"submit",className:"btn_iniciar_sesion btn_hover_generic_white",children:"Entrar"})}),C.jsxs("div",{className:"div_login_register_or_recover",children:[C.jsxs("p",{children:["No tienes una cuenta? ",C.jsx(Yt,{to:"/ProjectGymReact/Register",children:"Regstrate aqu"})]}),C.jsx("button",{type:"button",children:"Recuperar contrasea"})]})]})]})})]})},HC=()=>{const[r,e]=H.useState({name:"",last_name:"",email:"",password:"",addressToRef:""}),[t,s]=H.useState({street:"",colonia:""}),o=f=>{const{name:g,value:y}=f.target;e({...r,[g]:y})},u=f=>{const{name:g,value:y}=f.target;s({...t,[g]:y})},h=f=>{f.preventDefault();const g={...r,addressToRef:{...t}};DC(g)};return C.jsxs("section",{className:"view_default",children:[C.jsx("div",{className:"section_title_login",children:C.jsx("h2",{children:"Crea una cuenta en REAL MAN"})}),C.jsx("div",{className:"section_principal_register",children:C.jsxs("div",{className:"div_principal_register",children:[C.jsx("div",{className:"div_title_register_form",children:C.jsx("h2",{children:"Crear cuenta"})}),C.jsx("div",{className:"div_form_register",children:C.jsxs("form",{action:"/ProjectGymReact",onSubmit:h,className:"form_register",children:[C.jsxs("div",{className:"div_login_label_input",children:[C.jsx("div",{children:C.jsx("label",{htmlFor:"nombres",children:"Nombre(s)"})}),C.jsx("div",{children:C.jsx("input",{type:"text",id:"nombres",name:"name",value:r.name,onChange:o,required:!0,className:"input_login"})})]}),C.jsxs("div",{className:"div_login_label_input",children:[C.jsx("div",{children:C.jsx("label",{htmlFor:"apellidos",children:"Apellidos"})}),C.jsx("div",{children:C.jsx("input",{type:"text",id:"apellidos",name:"last_name",value:r.last_name,onChange:o,required:!0,className:"input_login"})})]}),C.jsxs("div",{className:"div_login_label_input",children:[C.jsx("div",{children:C.jsx("label",{htmlFor:"email",children:"Email"})}),C.jsx("div",{children:C.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:o,required:!0,className:"input_login"})})]}),C.jsxs("div",{className:"div_login_label_input",children:[C.jsx("div",{children:C.jsx("label",{htmlFor:"password",children:"Contrasea"})}),C.jsx("div",{children:C.jsx("input",{type:"password",id:"password",name:"password",value:r.password,onChange:o,required:!0,className:"input_login"})})]}),C.jsx("div",{className:"div_title_direccion",children:C.jsx("h3",{children:"Direccin de envo"})}),C.jsxs("div",{className:"div_login_label_input",children:[C.jsx("div",{children:C.jsx("label",{htmlFor:"calle",children:"Calle y nmero"})}),C.jsx("div",{children:C.jsx("input",{type:"text",id:"calle",name:"street",value:t.street,onChange:u,required:!0,className:"input_login"})})]}),C.jsxs("div",{className:"div_login_label_input",children:[C.jsx("div",{children:C.jsx("label",{htmlFor:"colonia",children:"Colonia"})}),C.jsx("div",{children:C.jsx("input",{type:"text",id:"colonia",name:"colonia",value:t.colonia,onChange:u,required:!0,className:"input_login"})})]}),C.jsx("div",{className:"div_btn_crear_cuenta",children:C.jsx("button",{className:"btn_crear_cuenta btn_hover_generic_white",type:"submit",children:"Crear cuenta"})})]})})]})})]})},WC=({children:r})=>{const[e,t]=H.useState(!1),[s,o]=H.useState(null),u=async(f,g)=>{let y=!1;const w=await VC(f,g);return w!=null?(o(w),t(!0),y=!0):console.error("Credenciales incorrectas o usuario no encontrado."),y},h=()=>{t(!1)};return C.jsx(Da.Provider,{value:{session:e,login:u,logout:h,user:s},children:r})};function KC(){const r={name:"",lastname:""},[e,t]=H.useState("");return C.jsx(tE,{children:C.jsx(WC,{children:C.jsxs(UC,{children:[C.jsx(hE,{onFilterChange:t}),C.jsxs(Nw,{children:[C.jsx(qi,{path:"/ProjectGymReact/",element:C.jsx(MC,{userName:r.name,userLastname:r.lastname,filter:e})}),C.jsx(qi,{path:"/ProjectGymReact/product/detail/:id/",element:C.jsx(jC,{})}),C.jsx(qi,{path:"/ProjectGymReact/CartSummary",element:C.jsx(BC,{})}),C.jsx(qi,{path:"/ProjectGymReact/CartSummary/CartCheckout",element:C.jsx($C,{})}),C.jsx(qi,{path:"/ProjectGymReact/Login",element:C.jsx(qC,{})}),C.jsx(qi,{path:"/ProjectGymReact/Register",element:C.jsx(HC,{})})]}),C.jsx(dE,{})]})})})}z0.createRoot(document.getElementById("root")).render(C.jsx(H.StrictMode,{children:C.jsx(KC,{})}));
