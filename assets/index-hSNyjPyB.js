(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Sh={exports:{}},sa={},Ah={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pm;function p0(){if(pm)return Ae;pm=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function A(M){return M===null||typeof M!="object"?null:(M=S&&M[S]||M["@@iterator"],typeof M=="function"?M:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,H={};function z(M,K,de){this.props=M,this.context=K,this.refs=H,this.updater=de||V}z.prototype.isReactComponent={},z.prototype.setState=function(M,K){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,K,"setState")},z.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function G(){}G.prototype=z.prototype;function J(M,K,de){this.props=M,this.context=K,this.refs=H,this.updater=de||V}var re=J.prototype=new G;re.constructor=J,j(re,z.prototype),re.isPureReactComponent=!0;var fe=Array.isArray,Re=Object.prototype.hasOwnProperty,Te={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function T(M,K,de){var Ie,Se={},xe=null,Oe=null;if(K!=null)for(Ie in K.ref!==void 0&&(Oe=K.ref),K.key!==void 0&&(xe=""+K.key),K)Re.call(K,Ie)&&!x.hasOwnProperty(Ie)&&(Se[Ie]=K[Ie]);var Fe=arguments.length-2;if(Fe===1)Se.children=de;else if(1<Fe){for(var Be=Array(Fe),gt=0;gt<Fe;gt++)Be[gt]=arguments[gt+2];Se.children=Be}if(M&&M.defaultProps)for(Ie in Fe=M.defaultProps,Fe)Se[Ie]===void 0&&(Se[Ie]=Fe[Ie]);return{$$typeof:i,type:M,key:xe,ref:Oe,props:Se,_owner:Te.current}}function R(M,K){return{$$typeof:i,type:M.type,key:K,ref:M.ref,props:M.props,_owner:M._owner}}function k(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function D(M){var K={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(de){return K[de]})}var O=/\/+/g;function C(M,K){return typeof M=="object"&&M!==null&&M.key!=null?D(""+M.key):K.toString(36)}function tt(M,K,de,Ie,Se){var xe=typeof M;(xe==="undefined"||xe==="boolean")&&(M=null);var Oe=!1;if(M===null)Oe=!0;else switch(xe){case"string":case"number":Oe=!0;break;case"object":switch(M.$$typeof){case i:case e:Oe=!0}}if(Oe)return Oe=M,Se=Se(Oe),M=Ie===""?"."+C(Oe,0):Ie,fe(Se)?(de="",M!=null&&(de=M.replace(O,"$&/")+"/"),tt(Se,K,de,"",function(gt){return gt})):Se!=null&&(k(Se)&&(Se=R(Se,de+(!Se.key||Oe&&Oe.key===Se.key?"":(""+Se.key).replace(O,"$&/")+"/")+M)),K.push(Se)),1;if(Oe=0,Ie=Ie===""?".":Ie+":",fe(M))for(var Fe=0;Fe<M.length;Fe++){xe=M[Fe];var Be=Ie+C(xe,Fe);Oe+=tt(xe,K,de,Be,Se)}else if(Be=A(M),typeof Be=="function")for(M=Be.call(M),Fe=0;!(xe=M.next()).done;)xe=xe.value,Be=Ie+C(xe,Fe++),Oe+=tt(xe,K,de,Be,Se);else if(xe==="object")throw K=String(M),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Oe}function kt(M,K,de){if(M==null)return M;var Ie=[],Se=0;return tt(M,Ie,"","",function(xe){return K.call(de,xe,Se++)}),Ie}function xt(M){if(M._status===-1){var K=M._result;K=K(),K.then(function(de){(M._status===0||M._status===-1)&&(M._status=1,M._result=de)},function(de){(M._status===0||M._status===-1)&&(M._status=2,M._result=de)}),M._status===-1&&(M._status=0,M._result=K)}if(M._status===1)return M._result.default;throw M._result}var Ue={current:null},ne={transition:null},pe={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:ne,ReactCurrentOwner:Te};function se(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:kt,forEach:function(M,K,de){kt(M,function(){K.apply(this,arguments)},de)},count:function(M){var K=0;return kt(M,function(){K++}),K},toArray:function(M){return kt(M,function(K){return K})||[]},only:function(M){if(!k(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ae.Component=z,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=J,Ae.StrictMode=s,Ae.Suspense=g,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Ae.act=se,Ae.cloneElement=function(M,K,de){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Ie=j({},M.props),Se=M.key,xe=M.ref,Oe=M._owner;if(K!=null){if(K.ref!==void 0&&(xe=K.ref,Oe=Te.current),K.key!==void 0&&(Se=""+K.key),M.type&&M.type.defaultProps)var Fe=M.type.defaultProps;for(Be in K)Re.call(K,Be)&&!x.hasOwnProperty(Be)&&(Ie[Be]=K[Be]===void 0&&Fe!==void 0?Fe[Be]:K[Be])}var Be=arguments.length-2;if(Be===1)Ie.children=de;else if(1<Be){Fe=Array(Be);for(var gt=0;gt<Be;gt++)Fe[gt]=arguments[gt+2];Ie.children=Fe}return{$$typeof:i,type:M.type,key:Se,ref:xe,props:Ie,_owner:Oe}},Ae.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:u,_context:M},M.Consumer=M},Ae.createElement=T,Ae.createFactory=function(M){var K=T.bind(null,M);return K.type=M,K},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(M){return{$$typeof:f,render:M}},Ae.isValidElement=k,Ae.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:xt}},Ae.memo=function(M,K){return{$$typeof:v,type:M,compare:K===void 0?null:K}},Ae.startTransition=function(M){var K=ne.transition;ne.transition={};try{M()}finally{ne.transition=K}},Ae.unstable_act=se,Ae.useCallback=function(M,K){return Ue.current.useCallback(M,K)},Ae.useContext=function(M){return Ue.current.useContext(M)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(M){return Ue.current.useDeferredValue(M)},Ae.useEffect=function(M,K){return Ue.current.useEffect(M,K)},Ae.useId=function(){return Ue.current.useId()},Ae.useImperativeHandle=function(M,K,de){return Ue.current.useImperativeHandle(M,K,de)},Ae.useInsertionEffect=function(M,K){return Ue.current.useInsertionEffect(M,K)},Ae.useLayoutEffect=function(M,K){return Ue.current.useLayoutEffect(M,K)},Ae.useMemo=function(M,K){return Ue.current.useMemo(M,K)},Ae.useReducer=function(M,K,de){return Ue.current.useReducer(M,K,de)},Ae.useRef=function(M){return Ue.current.useRef(M)},Ae.useState=function(M){return Ue.current.useState(M)},Ae.useSyncExternalStore=function(M,K,de){return Ue.current.useSyncExternalStore(M,K,de)},Ae.useTransition=function(){return Ue.current.useTransition()},Ae.version="18.3.1",Ae}var mm;function pd(){return mm||(mm=1,Ah.exports=p0()),Ah.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gm;function m0(){if(gm)return sa;gm=1;var i=pd(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(f,g,v){var E,S={},A=null,V=null;v!==void 0&&(A=""+v),g.key!==void 0&&(A=""+g.key),g.ref!==void 0&&(V=g.ref);for(E in g)s.call(g,E)&&!u.hasOwnProperty(E)&&(S[E]=g[E]);if(f&&f.defaultProps)for(E in g=f.defaultProps,g)S[E]===void 0&&(S[E]=g[E]);return{$$typeof:e,type:f,key:A,ref:V,props:S,_owner:o.current}}return sa.Fragment=n,sa.jsx=h,sa.jsxs=h,sa}var ym;function g0(){return ym||(ym=1,Sh.exports=m0()),Sh.exports}var L=g0(),q=pd(),Kl={},Rh={exports:{}},Qt={},Ch={exports:{}},Ph={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vm;function y0(){return vm||(vm=1,function(i){function e(ne,pe){var se=ne.length;ne.push(pe);e:for(;0<se;){var M=se-1>>>1,K=ne[M];if(0<o(K,pe))ne[M]=pe,ne[se]=K,se=M;else break e}}function n(ne){return ne.length===0?null:ne[0]}function s(ne){if(ne.length===0)return null;var pe=ne[0],se=ne.pop();if(se!==pe){ne[0]=se;e:for(var M=0,K=ne.length,de=K>>>1;M<de;){var Ie=2*(M+1)-1,Se=ne[Ie],xe=Ie+1,Oe=ne[xe];if(0>o(Se,se))xe<K&&0>o(Oe,Se)?(ne[M]=Oe,ne[xe]=se,M=xe):(ne[M]=Se,ne[Ie]=se,M=Ie);else if(xe<K&&0>o(Oe,se))ne[M]=Oe,ne[xe]=se,M=xe;else break e}}return pe}function o(ne,pe){var se=ne.sortIndex-pe.sortIndex;return se!==0?se:ne.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,f=h.now();i.unstable_now=function(){return h.now()-f}}var g=[],v=[],E=1,S=null,A=3,V=!1,j=!1,H=!1,z=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function re(ne){for(var pe=n(v);pe!==null;){if(pe.callback===null)s(v);else if(pe.startTime<=ne)s(v),pe.sortIndex=pe.expirationTime,e(g,pe);else break;pe=n(v)}}function fe(ne){if(H=!1,re(ne),!j)if(n(g)!==null)j=!0,xt(Re);else{var pe=n(v);pe!==null&&Ue(fe,pe.startTime-ne)}}function Re(ne,pe){j=!1,H&&(H=!1,G(T),T=-1),V=!0;var se=A;try{for(re(pe),S=n(g);S!==null&&(!(S.expirationTime>pe)||ne&&!D());){var M=S.callback;if(typeof M=="function"){S.callback=null,A=S.priorityLevel;var K=M(S.expirationTime<=pe);pe=i.unstable_now(),typeof K=="function"?S.callback=K:S===n(g)&&s(g),re(pe)}else s(g);S=n(g)}if(S!==null)var de=!0;else{var Ie=n(v);Ie!==null&&Ue(fe,Ie.startTime-pe),de=!1}return de}finally{S=null,A=se,V=!1}}var Te=!1,x=null,T=-1,R=5,k=-1;function D(){return!(i.unstable_now()-k<R)}function O(){if(x!==null){var ne=i.unstable_now();k=ne;var pe=!0;try{pe=x(!0,ne)}finally{pe?C():(Te=!1,x=null)}}else Te=!1}var C;if(typeof J=="function")C=function(){J(O)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,kt=tt.port2;tt.port1.onmessage=O,C=function(){kt.postMessage(null)}}else C=function(){z(O,0)};function xt(ne){x=ne,Te||(Te=!0,C())}function Ue(ne,pe){T=z(function(){ne(i.unstable_now())},pe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ne){ne.callback=null},i.unstable_continueExecution=function(){j||V||(j=!0,xt(Re))},i.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ne?Math.floor(1e3/ne):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_getFirstCallbackNode=function(){return n(g)},i.unstable_next=function(ne){switch(A){case 1:case 2:case 3:var pe=3;break;default:pe=A}var se=A;A=pe;try{return ne()}finally{A=se}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ne,pe){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var se=A;A=ne;try{return pe()}finally{A=se}},i.unstable_scheduleCallback=function(ne,pe,se){var M=i.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?M+se:M):se=M,ne){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=se+K,ne={id:E++,callback:pe,priorityLevel:ne,startTime:se,expirationTime:K,sortIndex:-1},se>M?(ne.sortIndex=se,e(v,ne),n(g)===null&&ne===n(v)&&(H?(G(T),T=-1):H=!0,Ue(fe,se-M))):(ne.sortIndex=K,e(g,ne),j||V||(j=!0,xt(Re))),ne},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(ne){var pe=A;return function(){var se=A;A=pe;try{return ne.apply(this,arguments)}finally{A=se}}}}(Ph)),Ph}var _m;function v0(){return _m||(_m=1,Ch.exports=y0()),Ch.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm;function _0(){if(wm)return Qt;wm=1;var i=pd(),e=v0();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,a=1;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function u(t,r){h(t,r),h(t+"Capture",r)}function h(t,r){for(o[t]=r,t=0;t<r.length;t++)s.add(r[t])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},S={};function A(t){return g.call(S,t)?!0:g.call(E,t)?!1:v.test(t)?S[t]=!0:(E[t]=!0,!1)}function V(t,r,a,c){if(a!==null&&a.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function j(t,r,a,c){if(r===null||typeof r>"u"||V(t,r,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function H(t,r,a,c,d,m,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=t,this.type=r,this.sanitizeURL=m,this.removeEmptyString=_}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){z[t]=new H(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];z[r]=new H(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){z[t]=new H(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){z[t]=new H(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){z[t]=new H(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){z[t]=new H(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){z[t]=new H(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){z[t]=new H(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){z[t]=new H(t,5,!1,t.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function J(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(G,J);z[r]=new H(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(G,J);z[r]=new H(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(G,J);z[r]=new H(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){z[t]=new H(t,1,!1,t.toLowerCase(),null,!1,!1)}),z.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){z[t]=new H(t,1,!1,t.toLowerCase(),null,!0,!0)});function re(t,r,a,c){var d=z.hasOwnProperty(r)?z[r]:null;(d!==null?d.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(j(r,a,d,c)&&(a=null),c||d===null?A(r)&&(a===null?t.removeAttribute(r):t.setAttribute(r,""+a)):d.mustUseProperty?t[d.propertyName]=a===null?d.type===3?!1:"":a:(r=d.attributeName,c=d.attributeNamespace,a===null?t.removeAttribute(r):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?t.setAttributeNS(c,r,a):t.setAttribute(r,a))))}var fe=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Re=Symbol.for("react.element"),Te=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),D=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),kt=Symbol.for("react.memo"),xt=Symbol.for("react.lazy"),Ue=Symbol.for("react.offscreen"),ne=Symbol.iterator;function pe(t){return t===null||typeof t!="object"?null:(t=ne&&t[ne]||t["@@iterator"],typeof t=="function"?t:null)}var se=Object.assign,M;function K(t){if(M===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);M=r&&r[1]||""}return`
`+M+t}var de=!1;function Ie(t,r){if(!t||de)return"";de=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(B){var c=B}Reflect.construct(t,[],r)}else{try{r.call()}catch(B){c=B}t.call(r.prototype)}else{try{throw Error()}catch(B){c=B}t()}}catch(B){if(B&&c&&typeof B.stack=="string"){for(var d=B.stack.split(`
`),m=c.stack.split(`
`),_=d.length-1,I=m.length-1;1<=_&&0<=I&&d[_]!==m[I];)I--;for(;1<=_&&0<=I;_--,I--)if(d[_]!==m[I]){if(_!==1||I!==1)do if(_--,I--,0>I||d[_]!==m[I]){var P=`
`+d[_].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=_&&0<=I);break}}}finally{de=!1,Error.prepareStackTrace=a}return(t=t?t.displayName||t.name:"")?K(t):""}function Se(t){switch(t.tag){case 5:return K(t.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return t=Ie(t.type,!1),t;case 11:return t=Ie(t.type.render,!1),t;case 1:return t=Ie(t.type,!0),t;default:return""}}function xe(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case x:return"Fragment";case Te:return"Portal";case R:return"Profiler";case T:return"StrictMode";case C:return"Suspense";case tt:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case O:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kt:return r=t.displayName||null,r!==null?r:xe(t.type)||"Memo";case xt:r=t._payload,t=t._init;try{return xe(t(r))}catch{}}return null}function Oe(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Fe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Be(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function gt(t){var r=Be(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),c=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(_){c=""+_,m.call(this,_)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function nr(t){t._valueTracker||(t._valueTracker=gt(t))}function es(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),c="";return t&&(c=Be(t)?t.checked?"true":"false":t.value),t=c,t!==a?(r.setValue(t),!0):!1}function Cr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gi(t,r){var a=r.checked;return se({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??t._wrapperState.initialChecked})}function ts(t,r){var a=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;a=Fe(r.value!=null?r.value:a),t._wrapperState={initialChecked:c,initialValue:a,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function co(t,r){r=r.checked,r!=null&&re(t,"checked",r,!1)}function ho(t,r){co(t,r);var a=Fe(r.value),c=r.type;if(a!=null)c==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+a):t.value!==""+a&&(t.value=""+a);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?ns(t,r.type,a):r.hasOwnProperty("defaultValue")&&ns(t,r.type,Fe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Da(t,r,a){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,a||r===t.value||(t.value=r),t.defaultValue=r}a=t.name,a!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,a!==""&&(t.name=a)}function ns(t,r,a){(r!=="number"||Cr(t.ownerDocument)!==t)&&(a==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+a&&(t.defaultValue=""+a))}var rr=Array.isArray;function ir(t,r,a,c){if(t=t.options,r){r={};for(var d=0;d<a.length;d++)r["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=r.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&c&&(t[a].defaultSelected=!0)}else{for(a=""+Fe(a),r=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,c&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function fo(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return se({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rs(t,r){var a=r.value;if(a==null){if(a=r.children,r=r.defaultValue,a!=null){if(r!=null)throw Error(n(92));if(rr(a)){if(1<a.length)throw Error(n(93));a=a[0]}r=a}r==null&&(r=""),a=r}t._wrapperState={initialValue:Fe(a)}}function is(t,r){var a=Fe(r.value),c=Fe(r.defaultValue);a!=null&&(a=""+a,a!==t.value&&(t.value=a),r.defaultValue==null&&t.defaultValue!==a&&(t.defaultValue=a)),c!=null&&(t.defaultValue=""+c)}function po(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function lt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?lt(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var sr,mo=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,a,c,d){MSApp.execUnsafeLocalFunction(function(){return t(r,a,c,d)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(sr=sr||document.createElement("div"),sr.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=sr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Pr(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var yi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vi=["Webkit","ms","Moz","O"];Object.keys(yi).forEach(function(t){vi.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),yi[r]=yi[t]})});function go(t,r,a){return r==null||typeof r=="boolean"||r===""?"":a||typeof r!="number"||r===0||yi.hasOwnProperty(t)&&yi[t]?(""+r).trim():r+"px"}function yo(t,r){t=t.style;for(var a in r)if(r.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=go(a,r[a],c);a==="float"&&(a="cssFloat"),c?t.setProperty(a,d):t[a]=d}}var vo=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _o(t,r){if(r){if(vo[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function wo(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _i=null;function ss(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var os=null,un=null,Fn=null;function as(t){if(t=Ho(t)){if(typeof os!="function")throw Error(n(280));var r=t.stateNode;r&&(r=ll(r),os(t.stateNode,t.type,r))}}function bn(t){un?Fn?Fn.push(t):Fn=[t]:un=t}function Eo(){if(un){var t=un,r=Fn;if(Fn=un=null,as(t),r)for(t=0;t<r.length;t++)as(r[t])}}function wi(t,r){return t(r)}function To(){}var or=!1;function Io(t,r,a){if(or)return t(r,a);or=!0;try{return wi(t,r,a)}finally{or=!1,(un!==null||Fn!==null)&&(To(),Eo())}}function nt(t,r){var a=t.stateNode;if(a===null)return null;var c=ll(a);if(c===null)return null;a=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(n(231,r,typeof a));return a}var ls=!1;if(f)try{var _n={};Object.defineProperty(_n,"passive",{get:function(){ls=!0}}),window.addEventListener("test",_n,_n),window.removeEventListener("test",_n,_n)}catch{ls=!1}function Ei(t,r,a,c,d,m,_,I,P){var B=Array.prototype.slice.call(arguments,3);try{r.apply(a,B)}catch(Y){this.onError(Y)}}var Ti=!1,us=null,wn=!1,So=null,Ju={onError:function(t){Ti=!0,us=t}};function cs(t,r,a,c,d,m,_,I,P){Ti=!1,us=null,Ei.apply(Ju,arguments)}function Va(t,r,a,c,d,m,_,I,P){if(cs.apply(this,arguments),Ti){if(Ti){var B=us;Ti=!1,us=null}else throw Error(n(198));wn||(wn=!0,So=B)}}function En(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function Ii(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Tn(t){if(En(t)!==t)throw Error(n(188))}function La(t){var r=t.alternate;if(!r){if(r=En(t),r===null)throw Error(n(188));return r!==t?null:t}for(var a=t,c=r;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return Tn(d),t;if(m===c)return Tn(d),r;m=m.sibling}throw Error(n(188))}if(a.return!==c.return)a=d,c=m;else{for(var _=!1,I=d.child;I;){if(I===a){_=!0,a=d,c=m;break}if(I===c){_=!0,c=d,a=m;break}I=I.sibling}if(!_){for(I=m.child;I;){if(I===a){_=!0,a=m,c=d;break}if(I===c){_=!0,c=m,a=d;break}I=I.sibling}if(!_)throw Error(n(189))}}if(a.alternate!==c)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?t:r}function Ao(t){return t=La(t),t!==null?hs(t):null}function hs(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=hs(t);if(r!==null)return r;t=t.sibling}return null}var ds=e.unstable_scheduleCallback,Ro=e.unstable_cancelCallback,Ma=e.unstable_shouldYield,Zu=e.unstable_requestPaint,$e=e.unstable_now,Oa=e.unstable_getCurrentPriorityLevel,Si=e.unstable_ImmediatePriority,kr=e.unstable_UserBlockingPriority,cn=e.unstable_NormalPriority,Co=e.unstable_LowPriority,Fa=e.unstable_IdlePriority,Ai=null,Zt=null;function ba(t){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Ai,t,void 0,(t.current.flags&128)===128)}catch{}}var bt=Math.clz32?Math.clz32:Ua,Po=Math.log,ja=Math.LN2;function Ua(t){return t>>>=0,t===0?32:31-(Po(t)/ja|0)|0}var fs=64,ps=4194304;function xr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ri(t,r){var a=t.pendingLanes;if(a===0)return 0;var c=0,d=t.suspendedLanes,m=t.pingedLanes,_=a&268435455;if(_!==0){var I=_&~d;I!==0?c=xr(I):(m&=_,m!==0&&(c=xr(m)))}else _=a&~d,_!==0?c=xr(_):m!==0&&(c=xr(m));if(c===0)return 0;if(r!==0&&r!==c&&!(r&d)&&(d=c&-c,m=r&-r,d>=m||d===16&&(m&4194240)!==0))return r;if(c&4&&(c|=a&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=c;0<r;)a=31-bt(r),d=1<<a,c|=t[a],r&=~d;return c}function ec(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ar(t,r){for(var a=t.suspendedLanes,c=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes;0<m;){var _=31-bt(m),I=1<<_,P=d[_];P===-1?(!(I&a)||I&c)&&(d[_]=ec(I,r)):P<=r&&(t.expiredLanes|=I),m&=~I}}function en(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ci(){var t=fs;return fs<<=1,!(fs&4194240)&&(fs=64),t}function Nr(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Dr(t,r,a){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-bt(r),t[r]=a}function ze(t,r){var a=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<a;){var d=31-bt(a),m=1<<d;r[d]=0,c[d]=-1,t[d]=-1,a&=~m}}function Vr(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var c=31-bt(a),d=1<<c;d&r|t[c]&r&&(t[c]|=r),a&=~d}}var Pe=0;function Lr(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var za,ms,Ba,$a,Ha,ko=!1,jn=[],Tt=null,In=null,Sn=null,Mr=new Map,hn=new Map,Un=[],tc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qa(t,r){switch(t){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":In=null;break;case"mouseover":case"mouseout":Sn=null;break;case"pointerover":case"pointerout":Mr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":hn.delete(r.pointerId)}}function Bt(t,r,a,c,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[d]},r!==null&&(r=Ho(r),r!==null&&ms(r)),t):(t.eventSystemFlags|=c,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function nc(t,r,a,c,d){switch(r){case"focusin":return Tt=Bt(Tt,t,r,a,c,d),!0;case"dragenter":return In=Bt(In,t,r,a,c,d),!0;case"mouseover":return Sn=Bt(Sn,t,r,a,c,d),!0;case"pointerover":var m=d.pointerId;return Mr.set(m,Bt(Mr.get(m)||null,t,r,a,c,d)),!0;case"gotpointercapture":return m=d.pointerId,hn.set(m,Bt(hn.get(m)||null,t,r,a,c,d)),!0}return!1}function Wa(t){var r=Di(t.target);if(r!==null){var a=En(r);if(a!==null){if(r=a.tag,r===13){if(r=Ii(a),r!==null){t.blockedOn=r,Ha(t.priority,function(){Ba(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lr(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=gs(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(a===null){a=t.nativeEvent;var c=new a.constructor(a.type,a);_i=c,a.target.dispatchEvent(c),_i=null}else return r=Ho(a),r!==null&&ms(r),t.blockedOn=a,!1;r.shift()}return!0}function Pi(t,r,a){lr(t)&&a.delete(r)}function Ka(){ko=!1,Tt!==null&&lr(Tt)&&(Tt=null),In!==null&&lr(In)&&(In=null),Sn!==null&&lr(Sn)&&(Sn=null),Mr.forEach(Pi),hn.forEach(Pi)}function An(t,r){t.blockedOn===r&&(t.blockedOn=null,ko||(ko=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ka)))}function Rn(t){function r(d){return An(d,t)}if(0<jn.length){An(jn[0],t);for(var a=1;a<jn.length;a++){var c=jn[a];c.blockedOn===t&&(c.blockedOn=null)}}for(Tt!==null&&An(Tt,t),In!==null&&An(In,t),Sn!==null&&An(Sn,t),Mr.forEach(r),hn.forEach(r),a=0;a<Un.length;a++)c=Un[a],c.blockedOn===t&&(c.blockedOn=null);for(;0<Un.length&&(a=Un[0],a.blockedOn===null);)Wa(a),a.blockedOn===null&&Un.shift()}var ur=fe.ReactCurrentBatchConfig,Or=!0;function Ke(t,r,a,c){var d=Pe,m=ur.transition;ur.transition=null;try{Pe=1,xo(t,r,a,c)}finally{Pe=d,ur.transition=m}}function rc(t,r,a,c){var d=Pe,m=ur.transition;ur.transition=null;try{Pe=4,xo(t,r,a,c)}finally{Pe=d,ur.transition=m}}function xo(t,r,a,c){if(Or){var d=gs(t,r,a,c);if(d===null)pc(t,r,c,ki,a),qa(t,c);else if(nc(d,t,r,a,c))c.stopPropagation();else if(qa(t,c),r&4&&-1<tc.indexOf(t)){for(;d!==null;){var m=Ho(d);if(m!==null&&za(m),m=gs(t,r,a,c),m===null&&pc(t,r,c,ki,a),m===d)break;d=m}d!==null&&c.stopPropagation()}else pc(t,r,c,null,a)}}var ki=null;function gs(t,r,a,c){if(ki=null,t=ss(c),t=Di(t),t!==null)if(r=En(t),r===null)t=null;else if(a=r.tag,a===13){if(t=Ii(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return ki=t,null}function No(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Oa()){case Si:return 1;case kr:return 4;case cn:case Co:return 16;case Fa:return 536870912;default:return 16}default:return 16}}var tn=null,ys=null,$t=null;function Do(){if($t)return $t;var t,r=ys,a=r.length,c,d="value"in tn?tn.value:tn.textContent,m=d.length;for(t=0;t<a&&r[t]===d[t];t++);var _=a-t;for(c=1;c<=_&&r[a-c]===d[m-c];c++);return $t=d.slice(t,1<c?1-c:void 0)}function vs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function zn(){return!0}function Vo(){return!1}function It(t){function r(a,c,d,m,_){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var I in t)t.hasOwnProperty(I)&&(a=t[I],this[I]=a?a(m):m[I]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?zn:Vo,this.isPropagationStopped=Vo,this}return se(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=zn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=zn)},persist:function(){},isPersistent:zn}),r}var Cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_s=It(Cn),Bn=se({},Cn,{view:0,detail:0}),ic=It(Bn),ws,cr,Fr,xi=se({},Bn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$n,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fr&&(Fr&&t.type==="mousemove"?(ws=t.screenX-Fr.screenX,cr=t.screenY-Fr.screenY):cr=ws=0,Fr=t),ws)},movementY:function(t){return"movementY"in t?t.movementY:cr}}),Es=It(xi),Lo=se({},xi,{dataTransfer:0}),Ga=It(Lo),Ts=se({},Bn,{relatedTarget:0}),Is=It(Ts),Qa=se({},Cn,{animationName:0,elapsedTime:0,pseudoElement:0}),hr=It(Qa),Ya=se({},Cn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xa=It(Ya),Ja=se({},Cn,{data:0}),Mo=It(Ja),Ss={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Za={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function el(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Za[t])?!!r[t]:!1}function $n(){return el}var l=se({},Bn,{key:function(t){if(t.key){var r=Ss[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=vs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jt[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$n,charCode:function(t){return t.type==="keypress"?vs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),p=It(l),y=se({},xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w=It(y),F=se({},Bn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$n}),$=It(F),te=se({},Cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),je=It(te),ct=se({},xi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ne=It(ct),yt=[9,13,27,32],st=f&&"CompositionEvent"in window,dn=null;f&&"documentMode"in document&&(dn=document.documentMode);var nn=f&&"TextEvent"in window&&!dn,Ni=f&&(!st||dn&&8<dn&&11>=dn),As=" ",lf=!1;function uf(t,r){switch(t){case"keyup":return yt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Rs=!1;function d_(t,r){switch(t){case"compositionend":return cf(r);case"keypress":return r.which!==32?null:(lf=!0,As);case"textInput":return t=r.data,t===As&&lf?null:t;default:return null}}function f_(t,r){if(Rs)return t==="compositionend"||!st&&uf(t,r)?(t=Do(),$t=ys=tn=null,Rs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ni&&r.locale!=="ko"?null:r.data;default:return null}}var p_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!p_[t.type]:r==="textarea"}function df(t,r,a,c){bn(c),r=sl(r,"onChange"),0<r.length&&(a=new _s("onChange","change",null,a,c),t.push({event:a,listeners:r}))}var Oo=null,Fo=null;function m_(t){xf(t,0)}function tl(t){var r=Ns(t);if(es(r))return t}function g_(t,r){if(t==="change")return r}var ff=!1;if(f){var sc;if(f){var oc="oninput"in document;if(!oc){var pf=document.createElement("div");pf.setAttribute("oninput","return;"),oc=typeof pf.oninput=="function"}sc=oc}else sc=!1;ff=sc&&(!document.documentMode||9<document.documentMode)}function mf(){Oo&&(Oo.detachEvent("onpropertychange",gf),Fo=Oo=null)}function gf(t){if(t.propertyName==="value"&&tl(Fo)){var r=[];df(r,Fo,t,ss(t)),Io(m_,r)}}function y_(t,r,a){t==="focusin"?(mf(),Oo=r,Fo=a,Oo.attachEvent("onpropertychange",gf)):t==="focusout"&&mf()}function v_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tl(Fo)}function __(t,r){if(t==="click")return tl(r)}function w_(t,r){if(t==="input"||t==="change")return tl(r)}function E_(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Pn=typeof Object.is=="function"?Object.is:E_;function bo(t,r){if(Pn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),c=Object.keys(r);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!g.call(r,d)||!Pn(t[d],r[d]))return!1}return!0}function yf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vf(t,r){var a=yf(t);t=0;for(var c;a;){if(a.nodeType===3){if(c=t+a.textContent.length,t<=r&&c>=r)return{node:a,offset:r-t};t=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=yf(a)}}function _f(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?_f(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function wf(){for(var t=window,r=Cr();r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Cr(t.document)}return r}function ac(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function T_(t){var r=wf(),a=t.focusedElem,c=t.selectionRange;if(r!==a&&a&&a.ownerDocument&&_f(a.ownerDocument.documentElement,a)){if(c!==null&&ac(a)){if(r=c.start,t=c.end,t===void 0&&(t=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(t,a.value.length);else if(t=(r=a.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var d=a.textContent.length,m=Math.min(c.start,d);c=c.end===void 0?m:Math.min(c.end,d),!t.extend&&m>c&&(d=c,c=m,m=d),d=vf(a,m);var _=vf(a,c);d&&_&&(t.rangeCount!==1||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),t.removeAllRanges(),m>c?(t.addRange(r),t.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),t.addRange(r)))}}for(r=[],t=a;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)t=r[a],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var I_=f&&"documentMode"in document&&11>=document.documentMode,Cs=null,lc=null,jo=null,uc=!1;function Ef(t,r,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;uc||Cs==null||Cs!==Cr(c)||(c=Cs,"selectionStart"in c&&ac(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),jo&&bo(jo,c)||(jo=c,c=sl(lc,"onSelect"),0<c.length&&(r=new _s("onSelect","select",null,r,a),t.push({event:r,listeners:c}),r.target=Cs)))}function nl(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Ps={animationend:nl("Animation","AnimationEnd"),animationiteration:nl("Animation","AnimationIteration"),animationstart:nl("Animation","AnimationStart"),transitionend:nl("Transition","TransitionEnd")},cc={},Tf={};f&&(Tf=document.createElement("div").style,"AnimationEvent"in window||(delete Ps.animationend.animation,delete Ps.animationiteration.animation,delete Ps.animationstart.animation),"TransitionEvent"in window||delete Ps.transitionend.transition);function rl(t){if(cc[t])return cc[t];if(!Ps[t])return t;var r=Ps[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Tf)return cc[t]=r[a];return t}var If=rl("animationend"),Sf=rl("animationiteration"),Af=rl("animationstart"),Rf=rl("transitionend"),Cf=new Map,Pf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function br(t,r){Cf.set(t,r),u(r,[t])}for(var hc=0;hc<Pf.length;hc++){var dc=Pf[hc],S_=dc.toLowerCase(),A_=dc[0].toUpperCase()+dc.slice(1);br(S_,"on"+A_)}br(If,"onAnimationEnd"),br(Sf,"onAnimationIteration"),br(Af,"onAnimationStart"),br("dblclick","onDoubleClick"),br("focusin","onFocus"),br("focusout","onBlur"),br(Rf,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uo));function kf(t,r,a){var c=t.type||"unknown-event";t.currentTarget=a,Va(c,r,void 0,t),t.currentTarget=null}function xf(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var c=t[a],d=c.event;c=c.listeners;e:{var m=void 0;if(r)for(var _=c.length-1;0<=_;_--){var I=c[_],P=I.instance,B=I.currentTarget;if(I=I.listener,P!==m&&d.isPropagationStopped())break e;kf(d,I,B),m=P}else for(_=0;_<c.length;_++){if(I=c[_],P=I.instance,B=I.currentTarget,I=I.listener,P!==m&&d.isPropagationStopped())break e;kf(d,I,B),m=P}}}if(wn)throw t=So,wn=!1,So=null,t}function qe(t,r){var a=r[wc];a===void 0&&(a=r[wc]=new Set);var c=t+"__bubble";a.has(c)||(Nf(r,t,2,!1),a.add(c))}function fc(t,r,a){var c=0;r&&(c|=4),Nf(a,t,c,r)}var il="_reactListening"+Math.random().toString(36).slice(2);function zo(t){if(!t[il]){t[il]=!0,s.forEach(function(a){a!=="selectionchange"&&(R_.has(a)||fc(a,!1,t),fc(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[il]||(r[il]=!0,fc("selectionchange",!1,r))}}function Nf(t,r,a,c){switch(No(r)){case 1:var d=Ke;break;case 4:d=rc;break;default:d=xo}a=d.bind(null,r,a,t),d=void 0,!ls||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),c?d!==void 0?t.addEventListener(r,a,{capture:!0,passive:d}):t.addEventListener(r,a,!0):d!==void 0?t.addEventListener(r,a,{passive:d}):t.addEventListener(r,a,!1)}function pc(t,r,a,c,d){var m=c;if(!(r&1)&&!(r&2)&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var I=c.stateNode.containerInfo;if(I===d||I.nodeType===8&&I.parentNode===d)break;if(_===4)for(_=c.return;_!==null;){var P=_.tag;if((P===3||P===4)&&(P=_.stateNode.containerInfo,P===d||P.nodeType===8&&P.parentNode===d))return;_=_.return}for(;I!==null;){if(_=Di(I),_===null)return;if(P=_.tag,P===5||P===6){c=m=_;continue e}I=I.parentNode}}c=c.return}Io(function(){var B=m,Y=ss(a),Z=[];e:{var Q=Cf.get(t);if(Q!==void 0){var ie=_s,le=t;switch(t){case"keypress":if(vs(a)===0)break e;case"keydown":case"keyup":ie=p;break;case"focusin":le="focus",ie=Is;break;case"focusout":le="blur",ie=Is;break;case"beforeblur":case"afterblur":ie=Is;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Es;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Ga;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=$;break;case If:case Sf:case Af:ie=hr;break;case Rf:ie=je;break;case"scroll":ie=ic;break;case"wheel":ie=Ne;break;case"copy":case"cut":case"paste":ie=Xa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=w}var ue=(r&4)!==0,rt=!ue&&t==="scroll",b=ue?Q!==null?Q+"Capture":null:Q;ue=[];for(var N=B,U;N!==null;){U=N;var ee=U.stateNode;if(U.tag===5&&ee!==null&&(U=ee,b!==null&&(ee=nt(N,b),ee!=null&&ue.push(Bo(N,ee,U)))),rt)break;N=N.return}0<ue.length&&(Q=new ie(Q,le,null,a,Y),Z.push({event:Q,listeners:ue}))}}if(!(r&7)){e:{if(Q=t==="mouseover"||t==="pointerover",ie=t==="mouseout"||t==="pointerout",Q&&a!==_i&&(le=a.relatedTarget||a.fromElement)&&(Di(le)||le[dr]))break e;if((ie||Q)&&(Q=Y.window===Y?Y:(Q=Y.ownerDocument)?Q.defaultView||Q.parentWindow:window,ie?(le=a.relatedTarget||a.toElement,ie=B,le=le?Di(le):null,le!==null&&(rt=En(le),le!==rt||le.tag!==5&&le.tag!==6)&&(le=null)):(ie=null,le=B),ie!==le)){if(ue=Es,ee="onMouseLeave",b="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(ue=w,ee="onPointerLeave",b="onPointerEnter",N="pointer"),rt=ie==null?Q:Ns(ie),U=le==null?Q:Ns(le),Q=new ue(ee,N+"leave",ie,a,Y),Q.target=rt,Q.relatedTarget=U,ee=null,Di(Y)===B&&(ue=new ue(b,N+"enter",le,a,Y),ue.target=U,ue.relatedTarget=rt,ee=ue),rt=ee,ie&&le)t:{for(ue=ie,b=le,N=0,U=ue;U;U=ks(U))N++;for(U=0,ee=b;ee;ee=ks(ee))U++;for(;0<N-U;)ue=ks(ue),N--;for(;0<U-N;)b=ks(b),U--;for(;N--;){if(ue===b||b!==null&&ue===b.alternate)break t;ue=ks(ue),b=ks(b)}ue=null}else ue=null;ie!==null&&Df(Z,Q,ie,ue,!1),le!==null&&rt!==null&&Df(Z,rt,le,ue,!0)}}e:{if(Q=B?Ns(B):window,ie=Q.nodeName&&Q.nodeName.toLowerCase(),ie==="select"||ie==="input"&&Q.type==="file")var ce=g_;else if(hf(Q))if(ff)ce=w_;else{ce=v_;var me=y_}else(ie=Q.nodeName)&&ie.toLowerCase()==="input"&&(Q.type==="checkbox"||Q.type==="radio")&&(ce=__);if(ce&&(ce=ce(t,B))){df(Z,ce,a,Y);break e}me&&me(t,Q,B),t==="focusout"&&(me=Q._wrapperState)&&me.controlled&&Q.type==="number"&&ns(Q,"number",Q.value)}switch(me=B?Ns(B):window,t){case"focusin":(hf(me)||me.contentEditable==="true")&&(Cs=me,lc=B,jo=null);break;case"focusout":jo=lc=Cs=null;break;case"mousedown":uc=!0;break;case"contextmenu":case"mouseup":case"dragend":uc=!1,Ef(Z,a,Y);break;case"selectionchange":if(I_)break;case"keydown":case"keyup":Ef(Z,a,Y)}var ge;if(st)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Rs?uf(t,a)&&(_e="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(Ni&&a.locale!=="ko"&&(Rs||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Rs&&(ge=Do()):(tn=Y,ys="value"in tn?tn.value:tn.textContent,Rs=!0)),me=sl(B,_e),0<me.length&&(_e=new Mo(_e,t,null,a,Y),Z.push({event:_e,listeners:me}),ge?_e.data=ge:(ge=cf(a),ge!==null&&(_e.data=ge)))),(ge=nn?d_(t,a):f_(t,a))&&(B=sl(B,"onBeforeInput"),0<B.length&&(Y=new Mo("onBeforeInput","beforeinput",null,a,Y),Z.push({event:Y,listeners:B}),Y.data=ge))}xf(Z,r)})}function Bo(t,r,a){return{instance:t,listener:r,currentTarget:a}}function sl(t,r){for(var a=r+"Capture",c=[];t!==null;){var d=t,m=d.stateNode;d.tag===5&&m!==null&&(d=m,m=nt(t,a),m!=null&&c.unshift(Bo(t,m,d)),m=nt(t,r),m!=null&&c.push(Bo(t,m,d))),t=t.return}return c}function ks(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Df(t,r,a,c,d){for(var m=r._reactName,_=[];a!==null&&a!==c;){var I=a,P=I.alternate,B=I.stateNode;if(P!==null&&P===c)break;I.tag===5&&B!==null&&(I=B,d?(P=nt(a,m),P!=null&&_.unshift(Bo(a,P,I))):d||(P=nt(a,m),P!=null&&_.push(Bo(a,P,I)))),a=a.return}_.length!==0&&t.push({event:r,listeners:_})}var C_=/\r\n?/g,P_=/\u0000|\uFFFD/g;function Vf(t){return(typeof t=="string"?t:""+t).replace(C_,`
`).replace(P_,"")}function ol(t,r,a){if(r=Vf(r),Vf(t)!==r&&a)throw Error(n(425))}function al(){}var mc=null,gc=null;function yc(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var vc=typeof setTimeout=="function"?setTimeout:void 0,k_=typeof clearTimeout=="function"?clearTimeout:void 0,Lf=typeof Promise=="function"?Promise:void 0,x_=typeof queueMicrotask=="function"?queueMicrotask:typeof Lf<"u"?function(t){return Lf.resolve(null).then(t).catch(N_)}:vc;function N_(t){setTimeout(function(){throw t})}function _c(t,r){var a=r,c=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){t.removeChild(d),Rn(r);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);Rn(r)}function jr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Mf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}var xs=Math.random().toString(36).slice(2),Hn="__reactFiber$"+xs,$o="__reactProps$"+xs,dr="__reactContainer$"+xs,wc="__reactEvents$"+xs,D_="__reactListeners$"+xs,V_="__reactHandles$"+xs;function Di(t){var r=t[Hn];if(r)return r;for(var a=t.parentNode;a;){if(r=a[dr]||a[Hn]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Mf(t);t!==null;){if(a=t[Hn])return a;t=Mf(t)}return r}t=a,a=t.parentNode}return null}function Ho(t){return t=t[Hn]||t[dr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ns(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function ll(t){return t[$o]||null}var Ec=[],Ds=-1;function Ur(t){return{current:t}}function We(t){0>Ds||(t.current=Ec[Ds],Ec[Ds]=null,Ds--)}function He(t,r){Ds++,Ec[Ds]=t.current,t.current=r}var zr={},Nt=Ur(zr),Ht=Ur(!1),Vi=zr;function Vs(t,r){var a=t.type.contextTypes;if(!a)return zr;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var d={},m;for(m in a)d[m]=r[m];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=d),d}function qt(t){return t=t.childContextTypes,t!=null}function ul(){We(Ht),We(Nt)}function Of(t,r,a){if(Nt.current!==zr)throw Error(n(168));He(Nt,r),He(Ht,a)}function Ff(t,r,a){var c=t.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in r))throw Error(n(108,Oe(t)||"Unknown",d));return se({},a,c)}function cl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zr,Vi=Nt.current,He(Nt,t),He(Ht,Ht.current),!0}function bf(t,r,a){var c=t.stateNode;if(!c)throw Error(n(169));a?(t=Ff(t,r,Vi),c.__reactInternalMemoizedMergedChildContext=t,We(Ht),We(Nt),He(Nt,t)):We(Ht),He(Ht,a)}var fr=null,hl=!1,Tc=!1;function jf(t){fr===null?fr=[t]:fr.push(t)}function L_(t){hl=!0,jf(t)}function Br(){if(!Tc&&fr!==null){Tc=!0;var t=0,r=Pe;try{var a=fr;for(Pe=1;t<a.length;t++){var c=a[t];do c=c(!0);while(c!==null)}fr=null,hl=!1}catch(d){throw fr!==null&&(fr=fr.slice(t+1)),ds(Si,Br),d}finally{Pe=r,Tc=!1}}return null}var Ls=[],Ms=0,dl=null,fl=0,fn=[],pn=0,Li=null,pr=1,mr="";function Mi(t,r){Ls[Ms++]=fl,Ls[Ms++]=dl,dl=t,fl=r}function Uf(t,r,a){fn[pn++]=pr,fn[pn++]=mr,fn[pn++]=Li,Li=t;var c=pr;t=mr;var d=32-bt(c)-1;c&=~(1<<d),a+=1;var m=32-bt(r)+d;if(30<m){var _=d-d%5;m=(c&(1<<_)-1).toString(32),c>>=_,d-=_,pr=1<<32-bt(r)+d|a<<d|c,mr=m+t}else pr=1<<m|a<<d|c,mr=t}function Ic(t){t.return!==null&&(Mi(t,1),Uf(t,1,0))}function Sc(t){for(;t===dl;)dl=Ls[--Ms],Ls[Ms]=null,fl=Ls[--Ms],Ls[Ms]=null;for(;t===Li;)Li=fn[--pn],fn[pn]=null,mr=fn[--pn],fn[pn]=null,pr=fn[--pn],fn[pn]=null}var rn=null,sn=null,Ge=!1,kn=null;function zf(t,r){var a=vn(5,null,null,0);a.elementType="DELETED",a.stateNode=r,a.return=t,r=t.deletions,r===null?(t.deletions=[a],t.flags|=16):r.push(a)}function Bf(t,r){switch(t.tag){case 5:var a=t.type;return r=r.nodeType!==1||a.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,rn=t,sn=jr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,rn=t,sn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(a=Li!==null?{id:pr,overflow:mr}:null,t.memoizedState={dehydrated:r,treeContext:a,retryLane:1073741824},a=vn(18,null,null,0),a.stateNode=r,a.return=t,t.child=a,rn=t,sn=null,!0):!1;default:return!1}}function Ac(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Rc(t){if(Ge){var r=sn;if(r){var a=r;if(!Bf(t,r)){if(Ac(t))throw Error(n(418));r=jr(a.nextSibling);var c=rn;r&&Bf(t,r)?zf(c,a):(t.flags=t.flags&-4097|2,Ge=!1,rn=t)}}else{if(Ac(t))throw Error(n(418));t.flags=t.flags&-4097|2,Ge=!1,rn=t}}}function $f(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rn=t}function pl(t){if(t!==rn)return!1;if(!Ge)return $f(t),Ge=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!yc(t.type,t.memoizedProps)),r&&(r=sn)){if(Ac(t))throw Hf(),Error(n(418));for(;r;)zf(t,r),r=jr(r.nextSibling)}if($f(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"){if(r===0){sn=jr(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++}t=t.nextSibling}sn=null}}else sn=rn?jr(t.stateNode.nextSibling):null;return!0}function Hf(){for(var t=sn;t;)t=jr(t.nextSibling)}function Os(){sn=rn=null,Ge=!1}function Cc(t){kn===null?kn=[t]:kn.push(t)}var M_=fe.ReactCurrentBatchConfig;function qo(t,r,a){if(t=a.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var c=a.stateNode}if(!c)throw Error(n(147,t));var d=c,m=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===m?r.ref:(r=function(_){var I=d.refs;_===null?delete I[m]:I[m]=_},r._stringRef=m,r)}if(typeof t!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,t))}return t}function ml(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function qf(t){var r=t._init;return r(t._payload)}function Wf(t){function r(b,N){if(t){var U=b.deletions;U===null?(b.deletions=[N],b.flags|=16):U.push(N)}}function a(b,N){if(!t)return null;for(;N!==null;)r(b,N),N=N.sibling;return null}function c(b,N){for(b=new Map;N!==null;)N.key!==null?b.set(N.key,N):b.set(N.index,N),N=N.sibling;return b}function d(b,N){return b=Yr(b,N),b.index=0,b.sibling=null,b}function m(b,N,U){return b.index=U,t?(U=b.alternate,U!==null?(U=U.index,U<N?(b.flags|=2,N):U):(b.flags|=2,N)):(b.flags|=1048576,N)}function _(b){return t&&b.alternate===null&&(b.flags|=2),b}function I(b,N,U,ee){return N===null||N.tag!==6?(N=vh(U,b.mode,ee),N.return=b,N):(N=d(N,U),N.return=b,N)}function P(b,N,U,ee){var ce=U.type;return ce===x?Y(b,N,U.props.children,ee,U.key):N!==null&&(N.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===xt&&qf(ce)===N.type)?(ee=d(N,U.props),ee.ref=qo(b,N,U),ee.return=b,ee):(ee=jl(U.type,U.key,U.props,null,b.mode,ee),ee.ref=qo(b,N,U),ee.return=b,ee)}function B(b,N,U,ee){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=_h(U,b.mode,ee),N.return=b,N):(N=d(N,U.children||[]),N.return=b,N)}function Y(b,N,U,ee,ce){return N===null||N.tag!==7?(N=$i(U,b.mode,ee,ce),N.return=b,N):(N=d(N,U),N.return=b,N)}function Z(b,N,U){if(typeof N=="string"&&N!==""||typeof N=="number")return N=vh(""+N,b.mode,U),N.return=b,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Re:return U=jl(N.type,N.key,N.props,null,b.mode,U),U.ref=qo(b,null,N),U.return=b,U;case Te:return N=_h(N,b.mode,U),N.return=b,N;case xt:var ee=N._init;return Z(b,ee(N._payload),U)}if(rr(N)||pe(N))return N=$i(N,b.mode,U,null),N.return=b,N;ml(b,N)}return null}function Q(b,N,U,ee){var ce=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return ce!==null?null:I(b,N,""+U,ee);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Re:return U.key===ce?P(b,N,U,ee):null;case Te:return U.key===ce?B(b,N,U,ee):null;case xt:return ce=U._init,Q(b,N,ce(U._payload),ee)}if(rr(U)||pe(U))return ce!==null?null:Y(b,N,U,ee,null);ml(b,U)}return null}function ie(b,N,U,ee,ce){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return b=b.get(U)||null,I(N,b,""+ee,ce);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case Re:return b=b.get(ee.key===null?U:ee.key)||null,P(N,b,ee,ce);case Te:return b=b.get(ee.key===null?U:ee.key)||null,B(N,b,ee,ce);case xt:var me=ee._init;return ie(b,N,U,me(ee._payload),ce)}if(rr(ee)||pe(ee))return b=b.get(U)||null,Y(N,b,ee,ce,null);ml(N,ee)}return null}function le(b,N,U,ee){for(var ce=null,me=null,ge=N,_e=N=0,wt=null;ge!==null&&_e<U.length;_e++){ge.index>_e?(wt=ge,ge=null):wt=ge.sibling;var Me=Q(b,ge,U[_e],ee);if(Me===null){ge===null&&(ge=wt);break}t&&ge&&Me.alternate===null&&r(b,ge),N=m(Me,N,_e),me===null?ce=Me:me.sibling=Me,me=Me,ge=wt}if(_e===U.length)return a(b,ge),Ge&&Mi(b,_e),ce;if(ge===null){for(;_e<U.length;_e++)ge=Z(b,U[_e],ee),ge!==null&&(N=m(ge,N,_e),me===null?ce=ge:me.sibling=ge,me=ge);return Ge&&Mi(b,_e),ce}for(ge=c(b,ge);_e<U.length;_e++)wt=ie(ge,b,_e,U[_e],ee),wt!==null&&(t&&wt.alternate!==null&&ge.delete(wt.key===null?_e:wt.key),N=m(wt,N,_e),me===null?ce=wt:me.sibling=wt,me=wt);return t&&ge.forEach(function(Xr){return r(b,Xr)}),Ge&&Mi(b,_e),ce}function ue(b,N,U,ee){var ce=pe(U);if(typeof ce!="function")throw Error(n(150));if(U=ce.call(U),U==null)throw Error(n(151));for(var me=ce=null,ge=N,_e=N=0,wt=null,Me=U.next();ge!==null&&!Me.done;_e++,Me=U.next()){ge.index>_e?(wt=ge,ge=null):wt=ge.sibling;var Xr=Q(b,ge,Me.value,ee);if(Xr===null){ge===null&&(ge=wt);break}t&&ge&&Xr.alternate===null&&r(b,ge),N=m(Xr,N,_e),me===null?ce=Xr:me.sibling=Xr,me=Xr,ge=wt}if(Me.done)return a(b,ge),Ge&&Mi(b,_e),ce;if(ge===null){for(;!Me.done;_e++,Me=U.next())Me=Z(b,Me.value,ee),Me!==null&&(N=m(Me,N,_e),me===null?ce=Me:me.sibling=Me,me=Me);return Ge&&Mi(b,_e),ce}for(ge=c(b,ge);!Me.done;_e++,Me=U.next())Me=ie(ge,b,_e,Me.value,ee),Me!==null&&(t&&Me.alternate!==null&&ge.delete(Me.key===null?_e:Me.key),N=m(Me,N,_e),me===null?ce=Me:me.sibling=Me,me=Me);return t&&ge.forEach(function(f0){return r(b,f0)}),Ge&&Mi(b,_e),ce}function rt(b,N,U,ee){if(typeof U=="object"&&U!==null&&U.type===x&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case Re:e:{for(var ce=U.key,me=N;me!==null;){if(me.key===ce){if(ce=U.type,ce===x){if(me.tag===7){a(b,me.sibling),N=d(me,U.props.children),N.return=b,b=N;break e}}else if(me.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===xt&&qf(ce)===me.type){a(b,me.sibling),N=d(me,U.props),N.ref=qo(b,me,U),N.return=b,b=N;break e}a(b,me);break}else r(b,me);me=me.sibling}U.type===x?(N=$i(U.props.children,b.mode,ee,U.key),N.return=b,b=N):(ee=jl(U.type,U.key,U.props,null,b.mode,ee),ee.ref=qo(b,N,U),ee.return=b,b=ee)}return _(b);case Te:e:{for(me=U.key;N!==null;){if(N.key===me)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){a(b,N.sibling),N=d(N,U.children||[]),N.return=b,b=N;break e}else{a(b,N);break}else r(b,N);N=N.sibling}N=_h(U,b.mode,ee),N.return=b,b=N}return _(b);case xt:return me=U._init,rt(b,N,me(U._payload),ee)}if(rr(U))return le(b,N,U,ee);if(pe(U))return ue(b,N,U,ee);ml(b,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,N!==null&&N.tag===6?(a(b,N.sibling),N=d(N,U),N.return=b,b=N):(a(b,N),N=vh(U,b.mode,ee),N.return=b,b=N),_(b)):a(b,N)}return rt}var Fs=Wf(!0),Kf=Wf(!1),gl=Ur(null),yl=null,bs=null,Pc=null;function kc(){Pc=bs=yl=null}function xc(t){var r=gl.current;We(gl),t._currentValue=r}function Nc(t,r,a){for(;t!==null;){var c=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),t===a)break;t=t.return}}function js(t,r){yl=t,Pc=bs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(Wt=!0),t.firstContext=null)}function mn(t){var r=t._currentValue;if(Pc!==t)if(t={context:t,memoizedValue:r,next:null},bs===null){if(yl===null)throw Error(n(308));bs=t,yl.dependencies={lanes:0,firstContext:t}}else bs=bs.next=t;return r}var Oi=null;function Dc(t){Oi===null?Oi=[t]:Oi.push(t)}function Gf(t,r,a,c){var d=r.interleaved;return d===null?(a.next=a,Dc(r)):(a.next=d.next,d.next=a),r.interleaved=a,gr(t,c)}function gr(t,r){t.lanes|=r;var a=t.alternate;for(a!==null&&(a.lanes|=r),a=t,t=t.return;t!==null;)t.childLanes|=r,a=t.alternate,a!==null&&(a.childLanes|=r),a=t,t=t.return;return a.tag===3?a.stateNode:null}var $r=!1;function Vc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Hr(t,r,a){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,Le&2){var d=c.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),c.pending=r,gr(t,a)}return d=c.interleaved,d===null?(r.next=r,Dc(c)):(r.next=d.next,d.next=r),c.interleaved=r,gr(t,a)}function vl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194240)!==0)){var c=r.lanes;c&=t.pendingLanes,a|=c,r.lanes=a,Vr(t,a)}}function Yf(t,r){var a=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?d=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?d=m=r:m=m.next=r}else d=m=r;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:c.shared,effects:c.effects},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}function _l(t,r,a,c){var d=t.updateQueue;$r=!1;var m=d.firstBaseUpdate,_=d.lastBaseUpdate,I=d.shared.pending;if(I!==null){d.shared.pending=null;var P=I,B=P.next;P.next=null,_===null?m=B:_.next=B,_=P;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,I=Y.lastBaseUpdate,I!==_&&(I===null?Y.firstBaseUpdate=B:I.next=B,Y.lastBaseUpdate=P))}if(m!==null){var Z=d.baseState;_=0,Y=B=P=null,I=m;do{var Q=I.lane,ie=I.eventTime;if((c&Q)===Q){Y!==null&&(Y=Y.next={eventTime:ie,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var le=t,ue=I;switch(Q=r,ie=a,ue.tag){case 1:if(le=ue.payload,typeof le=="function"){Z=le.call(ie,Z,Q);break e}Z=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ue.payload,Q=typeof le=="function"?le.call(ie,Z,Q):le,Q==null)break e;Z=se({},Z,Q);break e;case 2:$r=!0}}I.callback!==null&&I.lane!==0&&(t.flags|=64,Q=d.effects,Q===null?d.effects=[I]:Q.push(I))}else ie={eventTime:ie,lane:Q,tag:I.tag,payload:I.payload,callback:I.callback,next:null},Y===null?(B=Y=ie,P=Z):Y=Y.next=ie,_|=Q;if(I=I.next,I===null){if(I=d.shared.pending,I===null)break;Q=I,I=Q.next,Q.next=null,d.lastBaseUpdate=Q,d.shared.pending=null}}while(!0);if(Y===null&&(P=Z),d.baseState=P,d.firstBaseUpdate=B,d.lastBaseUpdate=Y,r=d.shared.interleaved,r!==null){d=r;do _|=d.lane,d=d.next;while(d!==r)}else m===null&&(d.shared.lanes=0);ji|=_,t.lanes=_,t.memoizedState=Z}}function Xf(t,r,a){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var c=t[r],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(n(191,d));d.call(c)}}}var Wo={},qn=Ur(Wo),Ko=Ur(Wo),Go=Ur(Wo);function Fi(t){if(t===Wo)throw Error(n(174));return t}function Lc(t,r){switch(He(Go,r),He(Ko,t),He(qn,Wo),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ut(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ut(r,t)}We(qn),He(qn,r)}function Us(){We(qn),We(Ko),We(Go)}function Jf(t){Fi(Go.current);var r=Fi(qn.current),a=ut(r,t.type);r!==a&&(He(Ko,t),He(qn,a))}function Mc(t){Ko.current===t&&(We(qn),We(Ko))}var Ye=Ur(0);function wl(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Oc=[];function Fc(){for(var t=0;t<Oc.length;t++)Oc[t]._workInProgressVersionPrimary=null;Oc.length=0}var El=fe.ReactCurrentDispatcher,bc=fe.ReactCurrentBatchConfig,bi=0,Xe=null,ht=null,vt=null,Tl=!1,Qo=!1,Yo=0,O_=0;function Dt(){throw Error(n(321))}function jc(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Pn(t[a],r[a]))return!1;return!0}function Uc(t,r,a,c,d,m){if(bi=m,Xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,El.current=t===null||t.memoizedState===null?U_:z_,t=a(c,d),Qo){m=0;do{if(Qo=!1,Yo=0,25<=m)throw Error(n(301));m+=1,vt=ht=null,r.updateQueue=null,El.current=B_,t=a(c,d)}while(Qo)}if(El.current=Al,r=ht!==null&&ht.next!==null,bi=0,vt=ht=Xe=null,Tl=!1,r)throw Error(n(300));return t}function zc(){var t=Yo!==0;return Yo=0,t}function Wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Xe.memoizedState=vt=t:vt=vt.next=t,vt}function gn(){if(ht===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var r=vt===null?Xe.memoizedState:vt.next;if(r!==null)vt=r,ht=t;else{if(t===null)throw Error(n(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},vt===null?Xe.memoizedState=vt=t:vt=vt.next=t}return vt}function Xo(t,r){return typeof r=="function"?r(t):r}function Bc(t){var r=gn(),a=r.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=t;var c=ht,d=c.baseQueue,m=a.pending;if(m!==null){if(d!==null){var _=d.next;d.next=m.next,m.next=_}c.baseQueue=d=m,a.pending=null}if(d!==null){m=d.next,c=c.baseState;var I=_=null,P=null,B=m;do{var Y=B.lane;if((bi&Y)===Y)P!==null&&(P=P.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),c=B.hasEagerState?B.eagerState:t(c,B.action);else{var Z={lane:Y,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};P===null?(I=P=Z,_=c):P=P.next=Z,Xe.lanes|=Y,ji|=Y}B=B.next}while(B!==null&&B!==m);P===null?_=c:P.next=I,Pn(c,r.memoizedState)||(Wt=!0),r.memoizedState=c,r.baseState=_,r.baseQueue=P,a.lastRenderedState=c}if(t=a.interleaved,t!==null){d=t;do m=d.lane,Xe.lanes|=m,ji|=m,d=d.next;while(d!==t)}else d===null&&(a.lanes=0);return[r.memoizedState,a.dispatch]}function $c(t){var r=gn(),a=r.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=t;var c=a.dispatch,d=a.pending,m=r.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do m=t(m,_.action),_=_.next;while(_!==d);Pn(m,r.memoizedState)||(Wt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,c]}function Zf(){}function ep(t,r){var a=Xe,c=gn(),d=r(),m=!Pn(c.memoizedState,d);if(m&&(c.memoizedState=d,Wt=!0),c=c.queue,Hc(rp.bind(null,a,c,t),[t]),c.getSnapshot!==r||m||vt!==null&&vt.memoizedState.tag&1){if(a.flags|=2048,Jo(9,np.bind(null,a,c,d,r),void 0,null),_t===null)throw Error(n(349));bi&30||tp(a,r,d)}return d}function tp(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Xe.updateQueue,r===null?(r={lastEffect:null,stores:null},Xe.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function np(t,r,a,c){r.value=a,r.getSnapshot=c,ip(r)&&sp(t)}function rp(t,r,a){return a(function(){ip(r)&&sp(t)})}function ip(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Pn(t,a)}catch{return!0}}function sp(t){var r=gr(t,1);r!==null&&Vn(r,t,1,-1)}function op(t){var r=Wn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:t},r.queue=t,t=t.dispatch=j_.bind(null,Xe,t),[r.memoizedState,t]}function Jo(t,r,a,c){return t={tag:t,create:r,destroy:a,deps:c,next:null},r=Xe.updateQueue,r===null?(r={lastEffect:null,stores:null},Xe.updateQueue=r,r.lastEffect=t.next=t):(a=r.lastEffect,a===null?r.lastEffect=t.next=t:(c=a.next,a.next=t,t.next=c,r.lastEffect=t)),t}function ap(){return gn().memoizedState}function Il(t,r,a,c){var d=Wn();Xe.flags|=t,d.memoizedState=Jo(1|r,a,void 0,c===void 0?null:c)}function Sl(t,r,a,c){var d=gn();c=c===void 0?null:c;var m=void 0;if(ht!==null){var _=ht.memoizedState;if(m=_.destroy,c!==null&&jc(c,_.deps)){d.memoizedState=Jo(r,a,m,c);return}}Xe.flags|=t,d.memoizedState=Jo(1|r,a,m,c)}function lp(t,r){return Il(8390656,8,t,r)}function Hc(t,r){return Sl(2048,8,t,r)}function up(t,r){return Sl(4,2,t,r)}function cp(t,r){return Sl(4,4,t,r)}function hp(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function dp(t,r,a){return a=a!=null?a.concat([t]):null,Sl(4,4,hp.bind(null,r,t),a)}function qc(){}function fp(t,r){var a=gn();r=r===void 0?null:r;var c=a.memoizedState;return c!==null&&r!==null&&jc(r,c[1])?c[0]:(a.memoizedState=[t,r],t)}function pp(t,r){var a=gn();r=r===void 0?null:r;var c=a.memoizedState;return c!==null&&r!==null&&jc(r,c[1])?c[0]:(t=t(),a.memoizedState=[t,r],t)}function mp(t,r,a){return bi&21?(Pn(a,r)||(a=Ci(),Xe.lanes|=a,ji|=a,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,Wt=!0),t.memoizedState=a)}function F_(t,r){var a=Pe;Pe=a!==0&&4>a?a:4,t(!0);var c=bc.transition;bc.transition={};try{t(!1),r()}finally{Pe=a,bc.transition=c}}function gp(){return gn().memoizedState}function b_(t,r,a){var c=Gr(t);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},yp(t))vp(r,a);else if(a=Gf(t,r,a,c),a!==null){var d=zt();Vn(a,t,c,d),_p(a,r,c)}}function j_(t,r,a){var c=Gr(t),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(yp(t))vp(r,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var _=r.lastRenderedState,I=m(_,a);if(d.hasEagerState=!0,d.eagerState=I,Pn(I,_)){var P=r.interleaved;P===null?(d.next=d,Dc(r)):(d.next=P.next,P.next=d),r.interleaved=d;return}}catch{}finally{}a=Gf(t,r,d,c),a!==null&&(d=zt(),Vn(a,t,c,d),_p(a,r,c))}}function yp(t){var r=t.alternate;return t===Xe||r!==null&&r===Xe}function vp(t,r){Qo=Tl=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function _p(t,r,a){if(a&4194240){var c=r.lanes;c&=t.pendingLanes,a|=c,r.lanes=a,Vr(t,a)}}var Al={readContext:mn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},U_={readContext:mn,useCallback:function(t,r){return Wn().memoizedState=[t,r===void 0?null:r],t},useContext:mn,useEffect:lp,useImperativeHandle:function(t,r,a){return a=a!=null?a.concat([t]):null,Il(4194308,4,hp.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Il(4194308,4,t,r)},useInsertionEffect:function(t,r){return Il(4,2,t,r)},useMemo:function(t,r){var a=Wn();return r=r===void 0?null:r,t=t(),a.memoizedState=[t,r],t},useReducer:function(t,r,a){var c=Wn();return r=a!==void 0?a(r):r,c.memoizedState=c.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},c.queue=t,t=t.dispatch=b_.bind(null,Xe,t),[c.memoizedState,t]},useRef:function(t){var r=Wn();return t={current:t},r.memoizedState=t},useState:op,useDebugValue:qc,useDeferredValue:function(t){return Wn().memoizedState=t},useTransition:function(){var t=op(!1),r=t[0];return t=F_.bind(null,t[1]),Wn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,a){var c=Xe,d=Wn();if(Ge){if(a===void 0)throw Error(n(407));a=a()}else{if(a=r(),_t===null)throw Error(n(349));bi&30||tp(c,r,a)}d.memoizedState=a;var m={value:a,getSnapshot:r};return d.queue=m,lp(rp.bind(null,c,m,t),[t]),c.flags|=2048,Jo(9,np.bind(null,c,m,a,r),void 0,null),a},useId:function(){var t=Wn(),r=_t.identifierPrefix;if(Ge){var a=mr,c=pr;a=(c&~(1<<32-bt(c)-1)).toString(32)+a,r=":"+r+"R"+a,a=Yo++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=O_++,r=":"+r+"r"+a.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},z_={readContext:mn,useCallback:fp,useContext:mn,useEffect:Hc,useImperativeHandle:dp,useInsertionEffect:up,useLayoutEffect:cp,useMemo:pp,useReducer:Bc,useRef:ap,useState:function(){return Bc(Xo)},useDebugValue:qc,useDeferredValue:function(t){var r=gn();return mp(r,ht.memoizedState,t)},useTransition:function(){var t=Bc(Xo)[0],r=gn().memoizedState;return[t,r]},useMutableSource:Zf,useSyncExternalStore:ep,useId:gp,unstable_isNewReconciler:!1},B_={readContext:mn,useCallback:fp,useContext:mn,useEffect:Hc,useImperativeHandle:dp,useInsertionEffect:up,useLayoutEffect:cp,useMemo:pp,useReducer:$c,useRef:ap,useState:function(){return $c(Xo)},useDebugValue:qc,useDeferredValue:function(t){var r=gn();return ht===null?r.memoizedState=t:mp(r,ht.memoizedState,t)},useTransition:function(){var t=$c(Xo)[0],r=gn().memoizedState;return[t,r]},useMutableSource:Zf,useSyncExternalStore:ep,useId:gp,unstable_isNewReconciler:!1};function xn(t,r){if(t&&t.defaultProps){r=se({},r),t=t.defaultProps;for(var a in t)r[a]===void 0&&(r[a]=t[a]);return r}return r}function Wc(t,r,a,c){r=t.memoizedState,a=a(c,r),a=a==null?r:se({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Rl={isMounted:function(t){return(t=t._reactInternals)?En(t)===t:!1},enqueueSetState:function(t,r,a){t=t._reactInternals;var c=zt(),d=Gr(t),m=yr(c,d);m.payload=r,a!=null&&(m.callback=a),r=Hr(t,m,d),r!==null&&(Vn(r,t,d,c),vl(r,t,d))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var c=zt(),d=Gr(t),m=yr(c,d);m.tag=1,m.payload=r,a!=null&&(m.callback=a),r=Hr(t,m,d),r!==null&&(Vn(r,t,d,c),vl(r,t,d))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=zt(),c=Gr(t),d=yr(a,c);d.tag=2,r!=null&&(d.callback=r),r=Hr(t,d,c),r!==null&&(Vn(r,t,c,a),vl(r,t,c))}};function wp(t,r,a,c,d,m,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,m,_):r.prototype&&r.prototype.isPureReactComponent?!bo(a,c)||!bo(d,m):!0}function Ep(t,r,a){var c=!1,d=zr,m=r.contextType;return typeof m=="object"&&m!==null?m=mn(m):(d=qt(r)?Vi:Nt.current,c=r.contextTypes,m=(c=c!=null)?Vs(t,d):zr),r=new r(a,m),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Rl,t.stateNode=r,r._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=m),r}function Tp(t,r,a,c){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,c),r.state!==t&&Rl.enqueueReplaceState(r,r.state,null)}function Kc(t,r,a,c){var d=t.stateNode;d.props=a,d.state=t.memoizedState,d.refs={},Vc(t);var m=r.contextType;typeof m=="object"&&m!==null?d.context=mn(m):(m=qt(r)?Vi:Nt.current,d.context=Vs(t,m)),d.state=t.memoizedState,m=r.getDerivedStateFromProps,typeof m=="function"&&(Wc(t,r,m,a),d.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(r=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),r!==d.state&&Rl.enqueueReplaceState(d,d.state,null),_l(t,a,d,c),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308)}function zs(t,r){try{var a="",c=r;do a+=Se(c),c=c.return;while(c);var d=a}catch(m){d=`
Error generating stack: `+m.message+`
`+m.stack}return{value:t,source:r,stack:d,digest:null}}function Gc(t,r,a){return{value:t,source:null,stack:a??null,digest:r??null}}function Qc(t,r){try{console.error(r.value)}catch(a){setTimeout(function(){throw a})}}var $_=typeof WeakMap=="function"?WeakMap:Map;function Ip(t,r,a){a=yr(-1,a),a.tag=3,a.payload={element:null};var c=r.value;return a.callback=function(){Vl||(Vl=!0,ch=c),Qc(t,r)},a}function Sp(t,r,a){a=yr(-1,a),a.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var d=r.value;a.payload=function(){return c(d)},a.callback=function(){Qc(t,r)}}var m=t.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){Qc(t,r),typeof c!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),a}function Ap(t,r,a){var c=t.pingCache;if(c===null){c=t.pingCache=new $_;var d=new Set;c.set(r,d)}else d=c.get(r),d===void 0&&(d=new Set,c.set(r,d));d.has(a)||(d.add(a),t=r0.bind(null,t,r,a),r.then(t,t))}function Rp(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Cp(t,r,a,c,d){return t.mode&1?(t.flags|=65536,t.lanes=d,t):(t===r?t.flags|=65536:(t.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(r=yr(-1,1),r.tag=2,Hr(a,r,1))),a.lanes|=1),t)}var H_=fe.ReactCurrentOwner,Wt=!1;function Ut(t,r,a,c){r.child=t===null?Kf(r,null,a,c):Fs(r,t.child,a,c)}function Pp(t,r,a,c,d){a=a.render;var m=r.ref;return js(r,d),c=Uc(t,r,a,c,m,d),a=zc(),t!==null&&!Wt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~d,vr(t,r,d)):(Ge&&a&&Ic(r),r.flags|=1,Ut(t,r,c,d),r.child)}function kp(t,r,a,c,d){if(t===null){var m=a.type;return typeof m=="function"&&!yh(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(r.tag=15,r.type=m,xp(t,r,m,c,d)):(t=jl(a.type,null,c,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,!(t.lanes&d)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:bo,a(_,c)&&t.ref===r.ref)return vr(t,r,d)}return r.flags|=1,t=Yr(m,c),t.ref=r.ref,t.return=r,r.child=t}function xp(t,r,a,c,d){if(t!==null){var m=t.memoizedProps;if(bo(m,c)&&t.ref===r.ref)if(Wt=!1,r.pendingProps=c=m,(t.lanes&d)!==0)t.flags&131072&&(Wt=!0);else return r.lanes=t.lanes,vr(t,r,d)}return Yc(t,r,a,c,d)}function Np(t,r,a){var c=r.pendingProps,d=c.children,m=t!==null?t.memoizedState:null;if(c.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},He($s,on),on|=a;else{if(!(a&1073741824))return t=m!==null?m.baseLanes|a:a,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,He($s,on),on|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,He($s,on),on|=c}else m!==null?(c=m.baseLanes|a,r.memoizedState=null):c=a,He($s,on),on|=c;return Ut(t,r,d,a),r.child}function Dp(t,r){var a=r.ref;(t===null&&a!==null||t!==null&&t.ref!==a)&&(r.flags|=512,r.flags|=2097152)}function Yc(t,r,a,c,d){var m=qt(a)?Vi:Nt.current;return m=Vs(r,m),js(r,d),a=Uc(t,r,a,c,m,d),c=zc(),t!==null&&!Wt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~d,vr(t,r,d)):(Ge&&c&&Ic(r),r.flags|=1,Ut(t,r,a,d),r.child)}function Vp(t,r,a,c,d){if(qt(a)){var m=!0;cl(r)}else m=!1;if(js(r,d),r.stateNode===null)Pl(t,r),Ep(r,a,c),Kc(r,a,c,d),c=!0;else if(t===null){var _=r.stateNode,I=r.memoizedProps;_.props=I;var P=_.context,B=a.contextType;typeof B=="object"&&B!==null?B=mn(B):(B=qt(a)?Vi:Nt.current,B=Vs(r,B));var Y=a.getDerivedStateFromProps,Z=typeof Y=="function"||typeof _.getSnapshotBeforeUpdate=="function";Z||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==c||P!==B)&&Tp(r,_,c,B),$r=!1;var Q=r.memoizedState;_.state=Q,_l(r,c,_,d),P=r.memoizedState,I!==c||Q!==P||Ht.current||$r?(typeof Y=="function"&&(Wc(r,a,Y,c),P=r.memoizedState),(I=$r||wp(r,a,I,c,Q,P,B))?(Z||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=P),_.props=c,_.state=P,_.context=B,c=I):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{_=r.stateNode,Qf(t,r),I=r.memoizedProps,B=r.type===r.elementType?I:xn(r.type,I),_.props=B,Z=r.pendingProps,Q=_.context,P=a.contextType,typeof P=="object"&&P!==null?P=mn(P):(P=qt(a)?Vi:Nt.current,P=Vs(r,P));var ie=a.getDerivedStateFromProps;(Y=typeof ie=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==Z||Q!==P)&&Tp(r,_,c,P),$r=!1,Q=r.memoizedState,_.state=Q,_l(r,c,_,d);var le=r.memoizedState;I!==Z||Q!==le||Ht.current||$r?(typeof ie=="function"&&(Wc(r,a,ie,c),le=r.memoizedState),(B=$r||wp(r,a,B,c,Q,le,P)||!1)?(Y||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,le,P),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,le,P)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||I===t.memoizedProps&&Q===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===t.memoizedProps&&Q===t.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=le),_.props=c,_.state=le,_.context=P,c=B):(typeof _.componentDidUpdate!="function"||I===t.memoizedProps&&Q===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===t.memoizedProps&&Q===t.memoizedState||(r.flags|=1024),c=!1)}return Xc(t,r,a,c,m,d)}function Xc(t,r,a,c,d,m){Dp(t,r);var _=(r.flags&128)!==0;if(!c&&!_)return d&&bf(r,a,!1),vr(t,r,m);c=r.stateNode,H_.current=r;var I=_&&typeof a.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,t!==null&&_?(r.child=Fs(r,t.child,null,m),r.child=Fs(r,null,I,m)):Ut(t,r,I,m),r.memoizedState=c.state,d&&bf(r,a,!0),r.child}function Lp(t){var r=t.stateNode;r.pendingContext?Of(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Of(t,r.context,!1),Lc(t,r.containerInfo)}function Mp(t,r,a,c,d){return Os(),Cc(d),r.flags|=256,Ut(t,r,a,c),r.child}var Jc={dehydrated:null,treeContext:null,retryLane:0};function Zc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Op(t,r,a){var c=r.pendingProps,d=Ye.current,m=!1,_=(r.flags&128)!==0,I;if((I=_)||(I=t!==null&&t.memoizedState===null?!1:(d&2)!==0),I?(m=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(d|=1),He(Ye,d&1),t===null)return Rc(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(_=c.children,t=c.fallback,m?(c=r.mode,m=r.child,_={mode:"hidden",children:_},!(c&1)&&m!==null?(m.childLanes=0,m.pendingProps=_):m=Ul(_,c,0,null),t=$i(t,c,a,null),m.return=r,t.return=r,m.sibling=t,r.child=m,r.child.memoizedState=Zc(a),r.memoizedState=Jc,t):eh(r,_));if(d=t.memoizedState,d!==null&&(I=d.dehydrated,I!==null))return q_(t,r,_,c,I,d,a);if(m){m=c.fallback,_=r.mode,d=t.child,I=d.sibling;var P={mode:"hidden",children:c.children};return!(_&1)&&r.child!==d?(c=r.child,c.childLanes=0,c.pendingProps=P,r.deletions=null):(c=Yr(d,P),c.subtreeFlags=d.subtreeFlags&14680064),I!==null?m=Yr(I,m):(m=$i(m,_,a,null),m.flags|=2),m.return=r,c.return=r,c.sibling=m,r.child=c,c=m,m=r.child,_=t.child.memoizedState,_=_===null?Zc(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},m.memoizedState=_,m.childLanes=t.childLanes&~a,r.memoizedState=Jc,c}return m=t.child,t=m.sibling,c=Yr(m,{mode:"visible",children:c.children}),!(r.mode&1)&&(c.lanes=a),c.return=r,c.sibling=null,t!==null&&(a=r.deletions,a===null?(r.deletions=[t],r.flags|=16):a.push(t)),r.child=c,r.memoizedState=null,c}function eh(t,r){return r=Ul({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function Cl(t,r,a,c){return c!==null&&Cc(c),Fs(r,t.child,null,a),t=eh(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function q_(t,r,a,c,d,m,_){if(a)return r.flags&256?(r.flags&=-257,c=Gc(Error(n(422))),Cl(t,r,_,c)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(m=c.fallback,d=r.mode,c=Ul({mode:"visible",children:c.children},d,0,null),m=$i(m,d,_,null),m.flags|=2,c.return=r,m.return=r,c.sibling=m,r.child=c,r.mode&1&&Fs(r,t.child,null,_),r.child.memoizedState=Zc(_),r.memoizedState=Jc,m);if(!(r.mode&1))return Cl(t,r,_,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var I=c.dgst;return c=I,m=Error(n(419)),c=Gc(m,c,void 0),Cl(t,r,_,c)}if(I=(_&t.childLanes)!==0,Wt||I){if(c=_t,c!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|_)?0:d,d!==0&&d!==m.retryLane&&(m.retryLane=d,gr(t,d),Vn(c,t,d,-1))}return gh(),c=Gc(Error(n(421))),Cl(t,r,_,c)}return d.data==="$?"?(r.flags|=128,r.child=t.child,r=i0.bind(null,t),d._reactRetry=r,null):(t=m.treeContext,sn=jr(d.nextSibling),rn=r,Ge=!0,kn=null,t!==null&&(fn[pn++]=pr,fn[pn++]=mr,fn[pn++]=Li,pr=t.id,mr=t.overflow,Li=r),r=eh(r,c.children),r.flags|=4096,r)}function Fp(t,r,a){t.lanes|=r;var c=t.alternate;c!==null&&(c.lanes|=r),Nc(t.return,r,a)}function th(t,r,a,c,d){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=d)}function bp(t,r,a){var c=r.pendingProps,d=c.revealOrder,m=c.tail;if(Ut(t,r,c.children,a),c=Ye.current,c&2)c=c&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fp(t,a,r);else if(t.tag===19)Fp(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(He(Ye,c),!(r.mode&1))r.memoizedState=null;else switch(d){case"forwards":for(a=r.child,d=null;a!==null;)t=a.alternate,t!==null&&wl(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=r.child,r.child=null):(d=a.sibling,a.sibling=null),th(r,!1,d,a,m);break;case"backwards":for(a=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&wl(t)===null){r.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}th(r,!0,a,null,m);break;case"together":th(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Pl(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function vr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),ji|=r.lanes,!(a&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,a=Yr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Yr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function W_(t,r,a){switch(r.tag){case 3:Lp(r),Os();break;case 5:Jf(r);break;case 1:qt(r.type)&&cl(r);break;case 4:Lc(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,d=r.memoizedProps.value;He(gl,c._currentValue),c._currentValue=d;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(He(Ye,Ye.current&1),r.flags|=128,null):a&r.child.childLanes?Op(t,r,a):(He(Ye,Ye.current&1),t=vr(t,r,a),t!==null?t.sibling:null);He(Ye,Ye.current&1);break;case 19:if(c=(a&r.childLanes)!==0,t.flags&128){if(c)return bp(t,r,a);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),He(Ye,Ye.current),c)break;return null;case 22:case 23:return r.lanes=0,Np(t,r,a)}return vr(t,r,a)}var jp,nh,Up,zp;jp=function(t,r){for(var a=r.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},nh=function(){},Up=function(t,r,a,c){var d=t.memoizedProps;if(d!==c){t=r.stateNode,Fi(qn.current);var m=null;switch(a){case"input":d=gi(t,d),c=gi(t,c),m=[];break;case"select":d=se({},d,{value:void 0}),c=se({},c,{value:void 0}),m=[];break;case"textarea":d=fo(t,d),c=fo(t,c),m=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=al)}_o(a,c);var _;a=null;for(B in d)if(!c.hasOwnProperty(B)&&d.hasOwnProperty(B)&&d[B]!=null)if(B==="style"){var I=d[B];for(_ in I)I.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(o.hasOwnProperty(B)?m||(m=[]):(m=m||[]).push(B,null));for(B in c){var P=c[B];if(I=d!=null?d[B]:void 0,c.hasOwnProperty(B)&&P!==I&&(P!=null||I!=null))if(B==="style")if(I){for(_ in I)!I.hasOwnProperty(_)||P&&P.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in P)P.hasOwnProperty(_)&&I[_]!==P[_]&&(a||(a={}),a[_]=P[_])}else a||(m||(m=[]),m.push(B,a)),a=P;else B==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,I=I?I.__html:void 0,P!=null&&I!==P&&(m=m||[]).push(B,P)):B==="children"?typeof P!="string"&&typeof P!="number"||(m=m||[]).push(B,""+P):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(o.hasOwnProperty(B)?(P!=null&&B==="onScroll"&&qe("scroll",t),m||I===P||(m=[])):(m=m||[]).push(B,P))}a&&(m=m||[]).push("style",a);var B=m;(r.updateQueue=B)&&(r.flags|=4)}},zp=function(t,r,a,c){a!==c&&(r.flags|=4)};function Zo(t,r){if(!Ge)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Vt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,c=0;if(r)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=c,t.childLanes=a,r}function K_(t,r,a){var c=r.pendingProps;switch(Sc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(r),null;case 1:return qt(r.type)&&ul(),Vt(r),null;case 3:return c=r.stateNode,Us(),We(Ht),We(Nt),Fc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(pl(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,kn!==null&&(fh(kn),kn=null))),nh(t,r),Vt(r),null;case 5:Mc(r);var d=Fi(Go.current);if(a=r.type,t!==null&&r.stateNode!=null)Up(t,r,a,c,d),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(n(166));return Vt(r),null}if(t=Fi(qn.current),pl(r)){c=r.stateNode,a=r.type;var m=r.memoizedProps;switch(c[Hn]=r,c[$o]=m,t=(r.mode&1)!==0,a){case"dialog":qe("cancel",c),qe("close",c);break;case"iframe":case"object":case"embed":qe("load",c);break;case"video":case"audio":for(d=0;d<Uo.length;d++)qe(Uo[d],c);break;case"source":qe("error",c);break;case"img":case"image":case"link":qe("error",c),qe("load",c);break;case"details":qe("toggle",c);break;case"input":ts(c,m),qe("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},qe("invalid",c);break;case"textarea":rs(c,m),qe("invalid",c)}_o(a,m),d=null;for(var _ in m)if(m.hasOwnProperty(_)){var I=m[_];_==="children"?typeof I=="string"?c.textContent!==I&&(m.suppressHydrationWarning!==!0&&ol(c.textContent,I,t),d=["children",I]):typeof I=="number"&&c.textContent!==""+I&&(m.suppressHydrationWarning!==!0&&ol(c.textContent,I,t),d=["children",""+I]):o.hasOwnProperty(_)&&I!=null&&_==="onScroll"&&qe("scroll",c)}switch(a){case"input":nr(c),Da(c,m,!0);break;case"textarea":nr(c),po(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=al)}c=d,r.updateQueue=c,c!==null&&(r.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lt(a)),t==="http://www.w3.org/1999/xhtml"?a==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=_.createElement(a,{is:c.is}):(t=_.createElement(a),a==="select"&&(_=t,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):t=_.createElementNS(t,a),t[Hn]=r,t[$o]=c,jp(t,r,!1,!1),r.stateNode=t;e:{switch(_=wo(a,c),a){case"dialog":qe("cancel",t),qe("close",t),d=c;break;case"iframe":case"object":case"embed":qe("load",t),d=c;break;case"video":case"audio":for(d=0;d<Uo.length;d++)qe(Uo[d],t);d=c;break;case"source":qe("error",t),d=c;break;case"img":case"image":case"link":qe("error",t),qe("load",t),d=c;break;case"details":qe("toggle",t),d=c;break;case"input":ts(t,c),d=gi(t,c),qe("invalid",t);break;case"option":d=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},d=se({},c,{value:void 0}),qe("invalid",t);break;case"textarea":rs(t,c),d=fo(t,c),qe("invalid",t);break;default:d=c}_o(a,d),I=d;for(m in I)if(I.hasOwnProperty(m)){var P=I[m];m==="style"?yo(t,P):m==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&mo(t,P)):m==="children"?typeof P=="string"?(a!=="textarea"||P!=="")&&Pr(t,P):typeof P=="number"&&Pr(t,""+P):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?P!=null&&m==="onScroll"&&qe("scroll",t):P!=null&&re(t,m,P,_))}switch(a){case"input":nr(t),Da(t,c,!1);break;case"textarea":nr(t),po(t);break;case"option":c.value!=null&&t.setAttribute("value",""+Fe(c.value));break;case"select":t.multiple=!!c.multiple,m=c.value,m!=null?ir(t,!!c.multiple,m,!1):c.defaultValue!=null&&ir(t,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=al)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Vt(r),null;case 6:if(t&&r.stateNode!=null)zp(t,r,t.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(n(166));if(a=Fi(Go.current),Fi(qn.current),pl(r)){if(c=r.stateNode,a=r.memoizedProps,c[Hn]=r,(m=c.nodeValue!==a)&&(t=rn,t!==null))switch(t.tag){case 3:ol(c.nodeValue,a,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ol(c.nodeValue,a,(t.mode&1)!==0)}m&&(r.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Hn]=r,r.stateNode=c}return Vt(r),null;case 13:if(We(Ye),c=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&sn!==null&&r.mode&1&&!(r.flags&128))Hf(),Os(),r.flags|=98560,m=!1;else if(m=pl(r),c!==null&&c.dehydrated!==null){if(t===null){if(!m)throw Error(n(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[Hn]=r}else Os(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Vt(r),m=!1}else kn!==null&&(fh(kn),kn=null),m=!0;if(!m)return r.flags&65536?r:null}return r.flags&128?(r.lanes=a,r):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(r.child.flags|=8192,r.mode&1&&(t===null||Ye.current&1?dt===0&&(dt=3):gh())),r.updateQueue!==null&&(r.flags|=4),Vt(r),null);case 4:return Us(),nh(t,r),t===null&&zo(r.stateNode.containerInfo),Vt(r),null;case 10:return xc(r.type._context),Vt(r),null;case 17:return qt(r.type)&&ul(),Vt(r),null;case 19:if(We(Ye),m=r.memoizedState,m===null)return Vt(r),null;if(c=(r.flags&128)!==0,_=m.rendering,_===null)if(c)Zo(m,!1);else{if(dt!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(_=wl(t),_!==null){for(r.flags|=128,Zo(m,!1),c=_.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=a,a=r.child;a!==null;)m=a,t=c,m.flags&=14680066,_=m.alternate,_===null?(m.childLanes=0,m.lanes=t,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=_.childLanes,m.lanes=_.lanes,m.child=_.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=_.memoizedProps,m.memoizedState=_.memoizedState,m.updateQueue=_.updateQueue,m.type=_.type,t=_.dependencies,m.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),a=a.sibling;return He(Ye,Ye.current&1|2),r.child}t=t.sibling}m.tail!==null&&$e()>Hs&&(r.flags|=128,c=!0,Zo(m,!1),r.lanes=4194304)}else{if(!c)if(t=wl(_),t!==null){if(r.flags|=128,c=!0,a=t.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),Zo(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!Ge)return Vt(r),null}else 2*$e()-m.renderingStartTime>Hs&&a!==1073741824&&(r.flags|=128,c=!0,Zo(m,!1),r.lanes=4194304);m.isBackwards?(_.sibling=r.child,r.child=_):(a=m.last,a!==null?a.sibling=_:r.child=_,m.last=_)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=$e(),r.sibling=null,a=Ye.current,He(Ye,c?a&1|2:a&1),r):(Vt(r),null);case 22:case 23:return mh(),c=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(r.flags|=8192),c&&r.mode&1?on&1073741824&&(Vt(r),r.subtreeFlags&6&&(r.flags|=8192)):Vt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function G_(t,r){switch(Sc(r),r.tag){case 1:return qt(r.type)&&ul(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Us(),We(Ht),We(Nt),Fc(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return Mc(r),null;case 13:if(We(Ye),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Os()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return We(Ye),null;case 4:return Us(),null;case 10:return xc(r.type._context),null;case 22:case 23:return mh(),null;case 24:return null;default:return null}}var kl=!1,Lt=!1,Q_=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Bs(t,r){var a=t.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){et(t,r,c)}else a.current=null}function rh(t,r,a){try{a()}catch(c){et(t,r,c)}}var Bp=!1;function Y_(t,r){if(mc=Or,t=wf(),ac(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,I=-1,P=-1,B=0,Y=0,Z=t,Q=null;t:for(;;){for(var ie;Z!==a||d!==0&&Z.nodeType!==3||(I=_+d),Z!==m||c!==0&&Z.nodeType!==3||(P=_+c),Z.nodeType===3&&(_+=Z.nodeValue.length),(ie=Z.firstChild)!==null;)Q=Z,Z=ie;for(;;){if(Z===t)break t;if(Q===a&&++B===d&&(I=_),Q===m&&++Y===c&&(P=_),(ie=Z.nextSibling)!==null)break;Z=Q,Q=Z.parentNode}Z=ie}a=I===-1||P===-1?null:{start:I,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(gc={focusedElem:t,selectionRange:a},Or=!1,ae=r;ae!==null;)if(r=ae,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ae=t;else for(;ae!==null;){r=ae;try{var le=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(le!==null){var ue=le.memoizedProps,rt=le.memoizedState,b=r.stateNode,N=b.getSnapshotBeforeUpdate(r.elementType===r.type?ue:xn(r.type,ue),rt);b.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var U=r.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ee){et(r,r.return,ee)}if(t=r.sibling,t!==null){t.return=r.return,ae=t;break}ae=r.return}return le=Bp,Bp=!1,le}function ea(t,r,a){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&t)===t){var m=d.destroy;d.destroy=void 0,m!==void 0&&rh(r,a,m)}d=d.next}while(d!==c)}}function xl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&t)===t){var c=a.create;a.destroy=c()}a=a.next}while(a!==r)}}function ih(t){var r=t.ref;if(r!==null){var a=t.stateNode;switch(t.tag){case 5:t=a;break;default:t=a}typeof r=="function"?r(t):r.current=t}}function $p(t){var r=t.alternate;r!==null&&(t.alternate=null,$p(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Hn],delete r[$o],delete r[wc],delete r[D_],delete r[V_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Hp(t){return t.tag===5||t.tag===3||t.tag===4}function qp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Hp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sh(t,r,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(t,r):a.insertBefore(t,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(t,a)):(r=a,r.appendChild(t)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=al));else if(c!==4&&(t=t.child,t!==null))for(sh(t,r,a),t=t.sibling;t!==null;)sh(t,r,a),t=t.sibling}function oh(t,r,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(oh(t,r,a),t=t.sibling;t!==null;)oh(t,r,a),t=t.sibling}var St=null,Nn=!1;function qr(t,r,a){for(a=a.child;a!==null;)Wp(t,r,a),a=a.sibling}function Wp(t,r,a){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Ai,a)}catch{}switch(a.tag){case 5:Lt||Bs(a,r);case 6:var c=St,d=Nn;St=null,qr(t,r,a),St=c,Nn=d,St!==null&&(Nn?(t=St,a=a.stateNode,t.nodeType===8?t.parentNode.removeChild(a):t.removeChild(a)):St.removeChild(a.stateNode));break;case 18:St!==null&&(Nn?(t=St,a=a.stateNode,t.nodeType===8?_c(t.parentNode,a):t.nodeType===1&&_c(t,a),Rn(t)):_c(St,a.stateNode));break;case 4:c=St,d=Nn,St=a.stateNode.containerInfo,Nn=!0,qr(t,r,a),St=c,Nn=d;break;case 0:case 11:case 14:case 15:if(!Lt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var m=d,_=m.destroy;m=m.tag,_!==void 0&&(m&2||m&4)&&rh(a,r,_),d=d.next}while(d!==c)}qr(t,r,a);break;case 1:if(!Lt&&(Bs(a,r),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(I){et(a,r,I)}qr(t,r,a);break;case 21:qr(t,r,a);break;case 22:a.mode&1?(Lt=(c=Lt)||a.memoizedState!==null,qr(t,r,a),Lt=c):qr(t,r,a);break;default:qr(t,r,a)}}function Kp(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var a=t.stateNode;a===null&&(a=t.stateNode=new Q_),r.forEach(function(c){var d=s0.bind(null,t,c);a.has(c)||(a.add(c),c.then(d,d))})}}function Dn(t,r){var a=r.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var m=t,_=r,I=_;e:for(;I!==null;){switch(I.tag){case 5:St=I.stateNode,Nn=!1;break e;case 3:St=I.stateNode.containerInfo,Nn=!0;break e;case 4:St=I.stateNode.containerInfo,Nn=!0;break e}I=I.return}if(St===null)throw Error(n(160));Wp(m,_,d),St=null,Nn=!1;var P=d.alternate;P!==null&&(P.return=null),d.return=null}catch(B){et(d,r,B)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Gp(r,t),r=r.sibling}function Gp(t,r){var a=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dn(r,t),Kn(t),c&4){try{ea(3,t,t.return),xl(3,t)}catch(ue){et(t,t.return,ue)}try{ea(5,t,t.return)}catch(ue){et(t,t.return,ue)}}break;case 1:Dn(r,t),Kn(t),c&512&&a!==null&&Bs(a,a.return);break;case 5:if(Dn(r,t),Kn(t),c&512&&a!==null&&Bs(a,a.return),t.flags&32){var d=t.stateNode;try{Pr(d,"")}catch(ue){et(t,t.return,ue)}}if(c&4&&(d=t.stateNode,d!=null)){var m=t.memoizedProps,_=a!==null?a.memoizedProps:m,I=t.type,P=t.updateQueue;if(t.updateQueue=null,P!==null)try{I==="input"&&m.type==="radio"&&m.name!=null&&co(d,m),wo(I,_);var B=wo(I,m);for(_=0;_<P.length;_+=2){var Y=P[_],Z=P[_+1];Y==="style"?yo(d,Z):Y==="dangerouslySetInnerHTML"?mo(d,Z):Y==="children"?Pr(d,Z):re(d,Y,Z,B)}switch(I){case"input":ho(d,m);break;case"textarea":is(d,m);break;case"select":var Q=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!m.multiple;var ie=m.value;ie!=null?ir(d,!!m.multiple,ie,!1):Q!==!!m.multiple&&(m.defaultValue!=null?ir(d,!!m.multiple,m.defaultValue,!0):ir(d,!!m.multiple,m.multiple?[]:"",!1))}d[$o]=m}catch(ue){et(t,t.return,ue)}}break;case 6:if(Dn(r,t),Kn(t),c&4){if(t.stateNode===null)throw Error(n(162));d=t.stateNode,m=t.memoizedProps;try{d.nodeValue=m}catch(ue){et(t,t.return,ue)}}break;case 3:if(Dn(r,t),Kn(t),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Rn(r.containerInfo)}catch(ue){et(t,t.return,ue)}break;case 4:Dn(r,t),Kn(t);break;case 13:Dn(r,t),Kn(t),d=t.child,d.flags&8192&&(m=d.memoizedState!==null,d.stateNode.isHidden=m,!m||d.alternate!==null&&d.alternate.memoizedState!==null||(uh=$e())),c&4&&Kp(t);break;case 22:if(Y=a!==null&&a.memoizedState!==null,t.mode&1?(Lt=(B=Lt)||Y,Dn(r,t),Lt=B):Dn(r,t),Kn(t),c&8192){if(B=t.memoizedState!==null,(t.stateNode.isHidden=B)&&!Y&&t.mode&1)for(ae=t,Y=t.child;Y!==null;){for(Z=ae=Y;ae!==null;){switch(Q=ae,ie=Q.child,Q.tag){case 0:case 11:case 14:case 15:ea(4,Q,Q.return);break;case 1:Bs(Q,Q.return);var le=Q.stateNode;if(typeof le.componentWillUnmount=="function"){c=Q,a=Q.return;try{r=c,le.props=r.memoizedProps,le.state=r.memoizedState,le.componentWillUnmount()}catch(ue){et(c,a,ue)}}break;case 5:Bs(Q,Q.return);break;case 22:if(Q.memoizedState!==null){Xp(Z);continue}}ie!==null?(ie.return=Q,ae=ie):Xp(Z)}Y=Y.sibling}e:for(Y=null,Z=t;;){if(Z.tag===5){if(Y===null){Y=Z;try{d=Z.stateNode,B?(m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(I=Z.stateNode,P=Z.memoizedProps.style,_=P!=null&&P.hasOwnProperty("display")?P.display:null,I.style.display=go("display",_))}catch(ue){et(t,t.return,ue)}}}else if(Z.tag===6){if(Y===null)try{Z.stateNode.nodeValue=B?"":Z.memoizedProps}catch(ue){et(t,t.return,ue)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===t)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===t)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===t)break e;Y===Z&&(Y=null),Z=Z.return}Y===Z&&(Y=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:Dn(r,t),Kn(t),c&4&&Kp(t);break;case 21:break;default:Dn(r,t),Kn(t)}}function Kn(t){var r=t.flags;if(r&2){try{e:{for(var a=t.return;a!==null;){if(Hp(a)){var c=a;break e}a=a.return}throw Error(n(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Pr(d,""),c.flags&=-33);var m=qp(t);oh(t,m,d);break;case 3:case 4:var _=c.stateNode.containerInfo,I=qp(t);sh(t,I,_);break;default:throw Error(n(161))}}catch(P){et(t,t.return,P)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function X_(t,r,a){ae=t,Qp(t)}function Qp(t,r,a){for(var c=(t.mode&1)!==0;ae!==null;){var d=ae,m=d.child;if(d.tag===22&&c){var _=d.memoizedState!==null||kl;if(!_){var I=d.alternate,P=I!==null&&I.memoizedState!==null||Lt;I=kl;var B=Lt;if(kl=_,(Lt=P)&&!B)for(ae=d;ae!==null;)_=ae,P=_.child,_.tag===22&&_.memoizedState!==null?Jp(d):P!==null?(P.return=_,ae=P):Jp(d);for(;m!==null;)ae=m,Qp(m),m=m.sibling;ae=d,kl=I,Lt=B}Yp(t)}else d.subtreeFlags&8772&&m!==null?(m.return=d,ae=m):Yp(t)}}function Yp(t){for(;ae!==null;){var r=ae;if(r.flags&8772){var a=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Lt||xl(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!Lt)if(a===null)c.componentDidMount();else{var d=r.elementType===r.type?a.memoizedProps:xn(r.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=r.updateQueue;m!==null&&Xf(r,m,c);break;case 3:var _=r.updateQueue;if(_!==null){if(a=null,r.child!==null)switch(r.child.tag){case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}Xf(r,_,a)}break;case 5:var I=r.stateNode;if(a===null&&r.flags&4){a=I;var P=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&a.focus();break;case"img":P.src&&(a.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var B=r.alternate;if(B!==null){var Y=B.memoizedState;if(Y!==null){var Z=Y.dehydrated;Z!==null&&Rn(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Lt||r.flags&512&&ih(r)}catch(Q){et(r,r.return,Q)}}if(r===t){ae=null;break}if(a=r.sibling,a!==null){a.return=r.return,ae=a;break}ae=r.return}}function Xp(t){for(;ae!==null;){var r=ae;if(r===t){ae=null;break}var a=r.sibling;if(a!==null){a.return=r.return,ae=a;break}ae=r.return}}function Jp(t){for(;ae!==null;){var r=ae;try{switch(r.tag){case 0:case 11:case 15:var a=r.return;try{xl(4,r)}catch(P){et(r,a,P)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var d=r.return;try{c.componentDidMount()}catch(P){et(r,d,P)}}var m=r.return;try{ih(r)}catch(P){et(r,m,P)}break;case 5:var _=r.return;try{ih(r)}catch(P){et(r,_,P)}}}catch(P){et(r,r.return,P)}if(r===t){ae=null;break}var I=r.sibling;if(I!==null){I.return=r.return,ae=I;break}ae=r.return}}var J_=Math.ceil,Nl=fe.ReactCurrentDispatcher,ah=fe.ReactCurrentOwner,yn=fe.ReactCurrentBatchConfig,Le=0,_t=null,ot=null,At=0,on=0,$s=Ur(0),dt=0,ta=null,ji=0,Dl=0,lh=0,na=null,Kt=null,uh=0,Hs=1/0,_r=null,Vl=!1,ch=null,Wr=null,Ll=!1,Kr=null,Ml=0,ra=0,hh=null,Ol=-1,Fl=0;function zt(){return Le&6?$e():Ol!==-1?Ol:Ol=$e()}function Gr(t){return t.mode&1?Le&2&&At!==0?At&-At:M_.transition!==null?(Fl===0&&(Fl=Ci()),Fl):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:No(t.type)),t):1}function Vn(t,r,a,c){if(50<ra)throw ra=0,hh=null,Error(n(185));Dr(t,a,c),(!(Le&2)||t!==_t)&&(t===_t&&(!(Le&2)&&(Dl|=a),dt===4&&Qr(t,At)),Gt(t,c),a===1&&Le===0&&!(r.mode&1)&&(Hs=$e()+500,hl&&Br()))}function Gt(t,r){var a=t.callbackNode;ar(t,r);var c=Ri(t,t===_t?At:0);if(c===0)a!==null&&Ro(a),t.callbackNode=null,t.callbackPriority=0;else if(r=c&-c,t.callbackPriority!==r){if(a!=null&&Ro(a),r===1)t.tag===0?L_(em.bind(null,t)):jf(em.bind(null,t)),x_(function(){!(Le&6)&&Br()}),a=null;else{switch(Lr(c)){case 1:a=Si;break;case 4:a=kr;break;case 16:a=cn;break;case 536870912:a=Fa;break;default:a=cn}a=lm(a,Zp.bind(null,t))}t.callbackPriority=r,t.callbackNode=a}}function Zp(t,r){if(Ol=-1,Fl=0,Le&6)throw Error(n(327));var a=t.callbackNode;if(qs()&&t.callbackNode!==a)return null;var c=Ri(t,t===_t?At:0);if(c===0)return null;if(c&30||c&t.expiredLanes||r)r=bl(t,c);else{r=c;var d=Le;Le|=2;var m=nm();(_t!==t||At!==r)&&(_r=null,Hs=$e()+500,zi(t,r));do try{t0();break}catch(I){tm(t,I)}while(!0);kc(),Nl.current=m,Le=d,ot!==null?r=0:(_t=null,At=0,r=dt)}if(r!==0){if(r===2&&(d=en(t),d!==0&&(c=d,r=dh(t,d))),r===1)throw a=ta,zi(t,0),Qr(t,c),Gt(t,$e()),a;if(r===6)Qr(t,c);else{if(d=t.current.alternate,!(c&30)&&!Z_(d)&&(r=bl(t,c),r===2&&(m=en(t),m!==0&&(c=m,r=dh(t,m))),r===1))throw a=ta,zi(t,0),Qr(t,c),Gt(t,$e()),a;switch(t.finishedWork=d,t.finishedLanes=c,r){case 0:case 1:throw Error(n(345));case 2:Bi(t,Kt,_r);break;case 3:if(Qr(t,c),(c&130023424)===c&&(r=uh+500-$e(),10<r)){if(Ri(t,0)!==0)break;if(d=t.suspendedLanes,(d&c)!==c){zt(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=vc(Bi.bind(null,t,Kt,_r),r);break}Bi(t,Kt,_r);break;case 4:if(Qr(t,c),(c&4194240)===c)break;for(r=t.eventTimes,d=-1;0<c;){var _=31-bt(c);m=1<<_,_=r[_],_>d&&(d=_),c&=~m}if(c=d,c=$e()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*J_(c/1960))-c,10<c){t.timeoutHandle=vc(Bi.bind(null,t,Kt,_r),c);break}Bi(t,Kt,_r);break;case 5:Bi(t,Kt,_r);break;default:throw Error(n(329))}}}return Gt(t,$e()),t.callbackNode===a?Zp.bind(null,t):null}function dh(t,r){var a=na;return t.current.memoizedState.isDehydrated&&(zi(t,r).flags|=256),t=bl(t,r),t!==2&&(r=Kt,Kt=a,r!==null&&fh(r)),t}function fh(t){Kt===null?Kt=t:Kt.push.apply(Kt,t)}function Z_(t){for(var r=t;;){if(r.flags&16384){var a=r.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],m=d.getSnapshot;d=d.value;try{if(!Pn(m(),d))return!1}catch{return!1}}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Qr(t,r){for(r&=~lh,r&=~Dl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var a=31-bt(r),c=1<<a;t[a]=-1,r&=~c}}function em(t){if(Le&6)throw Error(n(327));qs();var r=Ri(t,0);if(!(r&1))return Gt(t,$e()),null;var a=bl(t,r);if(t.tag!==0&&a===2){var c=en(t);c!==0&&(r=c,a=dh(t,c))}if(a===1)throw a=ta,zi(t,0),Qr(t,r),Gt(t,$e()),a;if(a===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Bi(t,Kt,_r),Gt(t,$e()),null}function ph(t,r){var a=Le;Le|=1;try{return t(r)}finally{Le=a,Le===0&&(Hs=$e()+500,hl&&Br())}}function Ui(t){Kr!==null&&Kr.tag===0&&!(Le&6)&&qs();var r=Le;Le|=1;var a=yn.transition,c=Pe;try{if(yn.transition=null,Pe=1,t)return t()}finally{Pe=c,yn.transition=a,Le=r,!(Le&6)&&Br()}}function mh(){on=$s.current,We($s)}function zi(t,r){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;if(a!==-1&&(t.timeoutHandle=-1,k_(a)),ot!==null)for(a=ot.return;a!==null;){var c=a;switch(Sc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&ul();break;case 3:Us(),We(Ht),We(Nt),Fc();break;case 5:Mc(c);break;case 4:Us();break;case 13:We(Ye);break;case 19:We(Ye);break;case 10:xc(c.type._context);break;case 22:case 23:mh()}a=a.return}if(_t=t,ot=t=Yr(t.current,null),At=on=r,dt=0,ta=null,lh=Dl=ji=0,Kt=na=null,Oi!==null){for(r=0;r<Oi.length;r++)if(a=Oi[r],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,m=a.pending;if(m!==null){var _=m.next;m.next=d,c.next=_}a.pending=c}Oi=null}return t}function tm(t,r){do{var a=ot;try{if(kc(),El.current=Al,Tl){for(var c=Xe.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Tl=!1}if(bi=0,vt=ht=Xe=null,Qo=!1,Yo=0,ah.current=null,a===null||a.return===null){dt=1,ta=r,ot=null;break}e:{var m=t,_=a.return,I=a,P=r;if(r=At,I.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var B=P,Y=I,Z=Y.tag;if(!(Y.mode&1)&&(Z===0||Z===11||Z===15)){var Q=Y.alternate;Q?(Y.updateQueue=Q.updateQueue,Y.memoizedState=Q.memoizedState,Y.lanes=Q.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var ie=Rp(_);if(ie!==null){ie.flags&=-257,Cp(ie,_,I,m,r),ie.mode&1&&Ap(m,B,r),r=ie,P=B;var le=r.updateQueue;if(le===null){var ue=new Set;ue.add(P),r.updateQueue=ue}else le.add(P);break e}else{if(!(r&1)){Ap(m,B,r),gh();break e}P=Error(n(426))}}else if(Ge&&I.mode&1){var rt=Rp(_);if(rt!==null){!(rt.flags&65536)&&(rt.flags|=256),Cp(rt,_,I,m,r),Cc(zs(P,I));break e}}m=P=zs(P,I),dt!==4&&(dt=2),na===null?na=[m]:na.push(m),m=_;do{switch(m.tag){case 3:m.flags|=65536,r&=-r,m.lanes|=r;var b=Ip(m,P,r);Yf(m,b);break e;case 1:I=P;var N=m.type,U=m.stateNode;if(!(m.flags&128)&&(typeof N.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Wr===null||!Wr.has(U)))){m.flags|=65536,r&=-r,m.lanes|=r;var ee=Sp(m,I,r);Yf(m,ee);break e}}m=m.return}while(m!==null)}im(a)}catch(ce){r=ce,ot===a&&a!==null&&(ot=a=a.return);continue}break}while(!0)}function nm(){var t=Nl.current;return Nl.current=Al,t===null?Al:t}function gh(){(dt===0||dt===3||dt===2)&&(dt=4),_t===null||!(ji&268435455)&&!(Dl&268435455)||Qr(_t,At)}function bl(t,r){var a=Le;Le|=2;var c=nm();(_t!==t||At!==r)&&(_r=null,zi(t,r));do try{e0();break}catch(d){tm(t,d)}while(!0);if(kc(),Le=a,Nl.current=c,ot!==null)throw Error(n(261));return _t=null,At=0,dt}function e0(){for(;ot!==null;)rm(ot)}function t0(){for(;ot!==null&&!Ma();)rm(ot)}function rm(t){var r=am(t.alternate,t,on);t.memoizedProps=t.pendingProps,r===null?im(t):ot=r,ah.current=null}function im(t){var r=t;do{var a=r.alternate;if(t=r.return,r.flags&32768){if(a=G_(a,r),a!==null){a.flags&=32767,ot=a;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dt=6,ot=null;return}}else if(a=K_(a,r,on),a!==null){ot=a;return}if(r=r.sibling,r!==null){ot=r;return}ot=r=t}while(r!==null);dt===0&&(dt=5)}function Bi(t,r,a){var c=Pe,d=yn.transition;try{yn.transition=null,Pe=1,n0(t,r,a,c)}finally{yn.transition=d,Pe=c}return null}function n0(t,r,a,c){do qs();while(Kr!==null);if(Le&6)throw Error(n(327));a=t.finishedWork;var d=t.finishedLanes;if(a===null)return null;if(t.finishedWork=null,t.finishedLanes=0,a===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var m=a.lanes|a.childLanes;if(ze(t,m),t===_t&&(ot=_t=null,At=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Ll||(Ll=!0,lm(cn,function(){return qs(),null})),m=(a.flags&15990)!==0,a.subtreeFlags&15990||m){m=yn.transition,yn.transition=null;var _=Pe;Pe=1;var I=Le;Le|=4,ah.current=null,Y_(t,a),Gp(a,t),T_(gc),Or=!!mc,gc=mc=null,t.current=a,X_(a),Zu(),Le=I,Pe=_,yn.transition=m}else t.current=a;if(Ll&&(Ll=!1,Kr=t,Ml=d),m=t.pendingLanes,m===0&&(Wr=null),ba(a.stateNode),Gt(t,$e()),r!==null)for(c=t.onRecoverableError,a=0;a<r.length;a++)d=r[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(Vl)throw Vl=!1,t=ch,ch=null,t;return Ml&1&&t.tag!==0&&qs(),m=t.pendingLanes,m&1?t===hh?ra++:(ra=0,hh=t):ra=0,Br(),null}function qs(){if(Kr!==null){var t=Lr(Ml),r=yn.transition,a=Pe;try{if(yn.transition=null,Pe=16>t?16:t,Kr===null)var c=!1;else{if(t=Kr,Kr=null,Ml=0,Le&6)throw Error(n(331));var d=Le;for(Le|=4,ae=t.current;ae!==null;){var m=ae,_=m.child;if(ae.flags&16){var I=m.deletions;if(I!==null){for(var P=0;P<I.length;P++){var B=I[P];for(ae=B;ae!==null;){var Y=ae;switch(Y.tag){case 0:case 11:case 15:ea(8,Y,m)}var Z=Y.child;if(Z!==null)Z.return=Y,ae=Z;else for(;ae!==null;){Y=ae;var Q=Y.sibling,ie=Y.return;if($p(Y),Y===B){ae=null;break}if(Q!==null){Q.return=ie,ae=Q;break}ae=ie}}}var le=m.alternate;if(le!==null){var ue=le.child;if(ue!==null){le.child=null;do{var rt=ue.sibling;ue.sibling=null,ue=rt}while(ue!==null)}}ae=m}}if(m.subtreeFlags&2064&&_!==null)_.return=m,ae=_;else e:for(;ae!==null;){if(m=ae,m.flags&2048)switch(m.tag){case 0:case 11:case 15:ea(9,m,m.return)}var b=m.sibling;if(b!==null){b.return=m.return,ae=b;break e}ae=m.return}}var N=t.current;for(ae=N;ae!==null;){_=ae;var U=_.child;if(_.subtreeFlags&2064&&U!==null)U.return=_,ae=U;else e:for(_=N;ae!==null;){if(I=ae,I.flags&2048)try{switch(I.tag){case 0:case 11:case 15:xl(9,I)}}catch(ce){et(I,I.return,ce)}if(I===_){ae=null;break e}var ee=I.sibling;if(ee!==null){ee.return=I.return,ae=ee;break e}ae=I.return}}if(Le=d,Br(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Ai,t)}catch{}c=!0}return c}finally{Pe=a,yn.transition=r}}return!1}function sm(t,r,a){r=zs(a,r),r=Ip(t,r,1),t=Hr(t,r,1),r=zt(),t!==null&&(Dr(t,1,r),Gt(t,r))}function et(t,r,a){if(t.tag===3)sm(t,t,a);else for(;r!==null;){if(r.tag===3){sm(r,t,a);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Wr===null||!Wr.has(c))){t=zs(a,t),t=Sp(r,t,1),r=Hr(r,t,1),t=zt(),r!==null&&(Dr(r,1,t),Gt(r,t));break}}r=r.return}}function r0(t,r,a){var c=t.pingCache;c!==null&&c.delete(r),r=zt(),t.pingedLanes|=t.suspendedLanes&a,_t===t&&(At&a)===a&&(dt===4||dt===3&&(At&130023424)===At&&500>$e()-uh?zi(t,0):lh|=a),Gt(t,r)}function om(t,r){r===0&&(t.mode&1?(r=ps,ps<<=1,!(ps&130023424)&&(ps=4194304)):r=1);var a=zt();t=gr(t,r),t!==null&&(Dr(t,r,a),Gt(t,a))}function i0(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),om(t,a)}function s0(t,r){var a=0;switch(t.tag){case 13:var c=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(r),om(t,a)}var am;am=function(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps||Ht.current)Wt=!0;else{if(!(t.lanes&a)&&!(r.flags&128))return Wt=!1,W_(t,r,a);Wt=!!(t.flags&131072)}else Wt=!1,Ge&&r.flags&1048576&&Uf(r,fl,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;Pl(t,r),t=r.pendingProps;var d=Vs(r,Nt.current);js(r,a),d=Uc(null,r,c,t,d,a);var m=zc();return r.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,qt(c)?(m=!0,cl(r)):m=!1,r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Vc(r),d.updater=Rl,r.stateNode=d,d._reactInternals=r,Kc(r,c,t,a),r=Xc(null,r,c,!0,m,a)):(r.tag=0,Ge&&m&&Ic(r),Ut(null,r,d,a),r=r.child),r;case 16:c=r.elementType;e:{switch(Pl(t,r),t=r.pendingProps,d=c._init,c=d(c._payload),r.type=c,d=r.tag=a0(c),t=xn(c,t),d){case 0:r=Yc(null,r,c,t,a);break e;case 1:r=Vp(null,r,c,t,a);break e;case 11:r=Pp(null,r,c,t,a);break e;case 14:r=kp(null,r,c,xn(c.type,t),a);break e}throw Error(n(306,c,""))}return r;case 0:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:xn(c,d),Yc(t,r,c,d,a);case 1:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:xn(c,d),Vp(t,r,c,d,a);case 3:e:{if(Lp(r),t===null)throw Error(n(387));c=r.pendingProps,m=r.memoizedState,d=m.element,Qf(t,r),_l(r,c,null,a);var _=r.memoizedState;if(c=_.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){d=zs(Error(n(423)),r),r=Mp(t,r,c,a,d);break e}else if(c!==d){d=zs(Error(n(424)),r),r=Mp(t,r,c,a,d);break e}else for(sn=jr(r.stateNode.containerInfo.firstChild),rn=r,Ge=!0,kn=null,a=Kf(r,null,c,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Os(),c===d){r=vr(t,r,a);break e}Ut(t,r,c,a)}r=r.child}return r;case 5:return Jf(r),t===null&&Rc(r),c=r.type,d=r.pendingProps,m=t!==null?t.memoizedProps:null,_=d.children,yc(c,d)?_=null:m!==null&&yc(c,m)&&(r.flags|=32),Dp(t,r),Ut(t,r,_,a),r.child;case 6:return t===null&&Rc(r),null;case 13:return Op(t,r,a);case 4:return Lc(r,r.stateNode.containerInfo),c=r.pendingProps,t===null?r.child=Fs(r,null,c,a):Ut(t,r,c,a),r.child;case 11:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:xn(c,d),Pp(t,r,c,d,a);case 7:return Ut(t,r,r.pendingProps,a),r.child;case 8:return Ut(t,r,r.pendingProps.children,a),r.child;case 12:return Ut(t,r,r.pendingProps.children,a),r.child;case 10:e:{if(c=r.type._context,d=r.pendingProps,m=r.memoizedProps,_=d.value,He(gl,c._currentValue),c._currentValue=_,m!==null)if(Pn(m.value,_)){if(m.children===d.children&&!Ht.current){r=vr(t,r,a);break e}}else for(m=r.child,m!==null&&(m.return=r);m!==null;){var I=m.dependencies;if(I!==null){_=m.child;for(var P=I.firstContext;P!==null;){if(P.context===c){if(m.tag===1){P=yr(-1,a&-a),P.tag=2;var B=m.updateQueue;if(B!==null){B=B.shared;var Y=B.pending;Y===null?P.next=P:(P.next=Y.next,Y.next=P),B.pending=P}}m.lanes|=a,P=m.alternate,P!==null&&(P.lanes|=a),Nc(m.return,a,r),I.lanes|=a;break}P=P.next}}else if(m.tag===10)_=m.type===r.type?null:m.child;else if(m.tag===18){if(_=m.return,_===null)throw Error(n(341));_.lanes|=a,I=_.alternate,I!==null&&(I.lanes|=a),Nc(_,a,r),_=m.sibling}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===r){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}Ut(t,r,d.children,a),r=r.child}return r;case 9:return d=r.type,c=r.pendingProps.children,js(r,a),d=mn(d),c=c(d),r.flags|=1,Ut(t,r,c,a),r.child;case 14:return c=r.type,d=xn(c,r.pendingProps),d=xn(c.type,d),kp(t,r,c,d,a);case 15:return xp(t,r,r.type,r.pendingProps,a);case 17:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:xn(c,d),Pl(t,r),r.tag=1,qt(c)?(t=!0,cl(r)):t=!1,js(r,a),Ep(r,c,d),Kc(r,c,d,a),Xc(null,r,c,!0,t,a);case 19:return bp(t,r,a);case 22:return Np(t,r,a)}throw Error(n(156,r.tag))};function lm(t,r){return ds(t,r)}function o0(t,r,a,c){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,r,a,c){return new o0(t,r,a,c)}function yh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function a0(t){if(typeof t=="function")return yh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===O)return 11;if(t===kt)return 14}return 2}function Yr(t,r){var a=t.alternate;return a===null?(a=vn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&14680064,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a}function jl(t,r,a,c,d,m){var _=2;if(c=t,typeof t=="function")yh(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case x:return $i(a.children,d,m,r);case T:_=8,d|=8;break;case R:return t=vn(12,a,r,d|2),t.elementType=R,t.lanes=m,t;case C:return t=vn(13,a,r,d),t.elementType=C,t.lanes=m,t;case tt:return t=vn(19,a,r,d),t.elementType=tt,t.lanes=m,t;case Ue:return Ul(a,d,m,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:_=10;break e;case D:_=9;break e;case O:_=11;break e;case kt:_=14;break e;case xt:_=16,c=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=vn(_,a,r,d),r.elementType=t,r.type=c,r.lanes=m,r}function $i(t,r,a,c){return t=vn(7,t,c,r),t.lanes=a,t}function Ul(t,r,a,c){return t=vn(22,t,c,r),t.elementType=Ue,t.lanes=a,t.stateNode={isHidden:!1},t}function vh(t,r,a){return t=vn(6,t,null,r),t.lanes=a,t}function _h(t,r,a){return r=vn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function l0(t,r,a,c,d){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nr(0),this.expirationTimes=Nr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nr(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function wh(t,r,a,c,d,m,_,I,P){return t=new l0(t,r,a,I,P),r===1?(r=1,m===!0&&(r|=8)):r=0,m=vn(3,null,null,r),t.current=m,m.stateNode=t,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vc(m),t}function u0(t,r,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Te,key:c==null?null:""+c,children:t,containerInfo:r,implementation:a}}function um(t){if(!t)return zr;t=t._reactInternals;e:{if(En(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(qt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var a=t.type;if(qt(a))return Ff(t,a,r)}return r}function cm(t,r,a,c,d,m,_,I,P){return t=wh(a,c,!0,t,d,m,_,I,P),t.context=um(null),a=t.current,c=zt(),d=Gr(a),m=yr(c,d),m.callback=r??null,Hr(a,m,d),t.current.lanes=d,Dr(t,d,c),Gt(t,c),t}function zl(t,r,a,c){var d=r.current,m=zt(),_=Gr(d);return a=um(a),r.context===null?r.context=a:r.pendingContext=a,r=yr(m,_),r.payload={element:t},c=c===void 0?null:c,c!==null&&(r.callback=c),t=Hr(d,r,_),t!==null&&(Vn(t,d,_,m),vl(t,d,_)),_}function Bl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hm(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Eh(t,r){hm(t,r),(t=t.alternate)&&hm(t,r)}var dm=typeof reportError=="function"?reportError:function(t){console.error(t)};function Th(t){this._internalRoot=t}$l.prototype.render=Th.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));zl(t,r,null,null)},$l.prototype.unmount=Th.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Ui(function(){zl(null,t,null,null)}),r[dr]=null}};function $l(t){this._internalRoot=t}$l.prototype.unstable_scheduleHydration=function(t){if(t){var r=$a();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Un.length&&r!==0&&r<Un[a].priority;a++);Un.splice(a,0,t),a===0&&Wa(t)}};function Ih(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fm(){}function c0(t,r,a,c,d){if(d){if(typeof c=="function"){var m=c;c=function(){var B=Bl(_);m.call(B)}}var _=cm(r,c,t,0,null,!1,!1,"",fm);return t._reactRootContainer=_,t[dr]=_.current,zo(t.nodeType===8?t.parentNode:t),Ui(),_}for(;d=t.lastChild;)t.removeChild(d);if(typeof c=="function"){var I=c;c=function(){var B=Bl(P);I.call(B)}}var P=wh(t,0,!1,null,null,!1,!1,"",fm);return t._reactRootContainer=P,t[dr]=P.current,zo(t.nodeType===8?t.parentNode:t),Ui(function(){zl(r,P,a,c)}),P}function ql(t,r,a,c,d){var m=a._reactRootContainer;if(m){var _=m;if(typeof d=="function"){var I=d;d=function(){var P=Bl(_);I.call(P)}}zl(r,_,t,d)}else _=c0(a,r,t,d,c);return Bl(_)}za=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var a=xr(r.pendingLanes);a!==0&&(Vr(r,a|1),Gt(r,$e()),!(Le&6)&&(Hs=$e()+500,Br()))}break;case 13:Ui(function(){var c=gr(t,1);if(c!==null){var d=zt();Vn(c,t,1,d)}}),Eh(t,1)}},ms=function(t){if(t.tag===13){var r=gr(t,134217728);if(r!==null){var a=zt();Vn(r,t,134217728,a)}Eh(t,134217728)}},Ba=function(t){if(t.tag===13){var r=Gr(t),a=gr(t,r);if(a!==null){var c=zt();Vn(a,t,r,c)}Eh(t,r)}},$a=function(){return Pe},Ha=function(t,r){var a=Pe;try{return Pe=t,r()}finally{Pe=a}},os=function(t,r,a){switch(r){case"input":if(ho(t,a),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<a.length;r++){var c=a[r];if(c!==t&&c.form===t.form){var d=ll(c);if(!d)throw Error(n(90));es(c),ho(c,d)}}}break;case"textarea":is(t,a);break;case"select":r=a.value,r!=null&&ir(t,!!a.multiple,r,!1)}},wi=ph,To=Ui;var h0={usingClientEntryPoint:!1,Events:[Ho,Ns,ll,bn,Eo,ph]},ia={findFiberByHostInstance:Di,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},d0={bundleType:ia.bundleType,version:ia.version,rendererPackageName:ia.rendererPackageName,rendererConfig:ia.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fe.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ao(t),t===null?null:t.stateNode},findFiberByHostInstance:ia.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wl.isDisabled&&Wl.supportsFiber)try{Ai=Wl.inject(d0),Zt=Wl}catch{}}return Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h0,Qt.createPortal=function(t,r){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ih(r))throw Error(n(200));return u0(t,r,null,a)},Qt.createRoot=function(t,r){if(!Ih(t))throw Error(n(299));var a=!1,c="",d=dm;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),r=wh(t,1,!1,null,null,a,!1,c,d),t[dr]=r.current,zo(t.nodeType===8?t.parentNode:t),new Th(r)},Qt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=Ao(r),t=t===null?null:t.stateNode,t},Qt.flushSync=function(t){return Ui(t)},Qt.hydrate=function(t,r,a){if(!Hl(r))throw Error(n(200));return ql(null,t,r,!0,a)},Qt.hydrateRoot=function(t,r,a){if(!Ih(t))throw Error(n(405));var c=a!=null&&a.hydratedSources||null,d=!1,m="",_=dm;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),r=cm(r,null,t,1,a??null,d,!1,m,_),t[dr]=r.current,zo(t),c)for(t=0;t<c.length;t++)a=c[t],d=a._getVersion,d=d(a._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[a,d]:r.mutableSourceEagerHydrationData.push(a,d);return new $l(r)},Qt.render=function(t,r,a){if(!Hl(r))throw Error(n(200));return ql(null,t,r,!1,a)},Qt.unmountComponentAtNode=function(t){if(!Hl(t))throw Error(n(40));return t._reactRootContainer?(Ui(function(){ql(null,null,t,!1,function(){t._reactRootContainer=null,t[dr]=null})}),!0):!1},Qt.unstable_batchedUpdates=ph,Qt.unstable_renderSubtreeIntoContainer=function(t,r,a,c){if(!Hl(a))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return ql(t,r,a,!1,c)},Qt.version="18.3.1-next-f1338f8080-20240426",Qt}var Em;function w0(){if(Em)return Rh.exports;Em=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Rh.exports=_0(),Rh.exports}var Tm;function E0(){if(Tm)return Kl;Tm=1;var i=w0();return Kl.createRoot=i.createRoot,Kl.hydrateRoot=i.hydrateRoot,Kl}var T0=E0(),oa={},Im;function I0(){if(Im)return oa;Im=1,Object.defineProperty(oa,"__esModule",{value:!0}),oa.parse=h,oa.serialize=v;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function h(A,V){const j=new u,H=A.length;if(H<2)return j;const z=(V==null?void 0:V.decode)||E;let G=0;do{const J=A.indexOf("=",G);if(J===-1)break;const re=A.indexOf(";",G),fe=re===-1?H:re;if(J>fe){G=A.lastIndexOf(";",J-1)+1;continue}const Re=f(A,G,J),Te=g(A,J,Re),x=A.slice(Re,Te);if(j[x]===void 0){let T=f(A,J+1,fe),R=g(A,fe,T);const k=z(A.slice(T,R));j[x]=k}G=fe+1}while(G<H);return j}function f(A,V,j){do{const H=A.charCodeAt(V);if(H!==32&&H!==9)return V}while(++V<j);return j}function g(A,V,j){for(;V>j;){const H=A.charCodeAt(--V);if(H!==32&&H!==9)return V+1}return j}function v(A,V,j){const H=(j==null?void 0:j.encode)||encodeURIComponent;if(!i.test(A))throw new TypeError(`argument name is invalid: ${A}`);const z=H(V);if(!e.test(z))throw new TypeError(`argument val is invalid: ${V}`);let G=A+"="+z;if(!j)return G;if(j.maxAge!==void 0){if(!Number.isInteger(j.maxAge))throw new TypeError(`option maxAge is invalid: ${j.maxAge}`);G+="; Max-Age="+j.maxAge}if(j.domain){if(!n.test(j.domain))throw new TypeError(`option domain is invalid: ${j.domain}`);G+="; Domain="+j.domain}if(j.path){if(!s.test(j.path))throw new TypeError(`option path is invalid: ${j.path}`);G+="; Path="+j.path}if(j.expires){if(!S(j.expires)||!Number.isFinite(j.expires.valueOf()))throw new TypeError(`option expires is invalid: ${j.expires}`);G+="; Expires="+j.expires.toUTCString()}if(j.httpOnly&&(G+="; HttpOnly"),j.secure&&(G+="; Secure"),j.partitioned&&(G+="; Partitioned"),j.priority)switch(typeof j.priority=="string"?j.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${j.priority}`)}if(j.sameSite)switch(typeof j.sameSite=="string"?j.sameSite.toLowerCase():j.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${j.sameSite}`)}return G}function E(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function S(A){return o.call(A)==="[object Date]"}return oa}I0();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Sm="popstate";function S0(i={}){function e(s,o){let{pathname:u,search:h,hash:f}=s.location;return $h("",{pathname:u,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:ga(o)}return R0(e,n,null,i)}function Je(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Jn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function A0(){return Math.random().toString(36).substring(2,10)}function Am(i,e){return{usr:i.state,key:i.key,idx:e}}function $h(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?io(e):e,state:n,key:e&&e.key||s||A0()}}function ga({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function io(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function R0(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,f="POP",g=null,v=E();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function E(){return(h.state||{idx:null}).idx}function S(){f="POP";let z=E(),G=z==null?null:z-v;v=z,g&&g({action:f,location:H.location,delta:G})}function A(z,G){f="PUSH";let J=$h(H.location,z,G);v=E()+1;let re=Am(J,v),fe=H.createHref(J);try{h.pushState(re,"",fe)}catch(Re){if(Re instanceof DOMException&&Re.name==="DataCloneError")throw Re;o.location.assign(fe)}u&&g&&g({action:f,location:H.location,delta:1})}function V(z,G){f="REPLACE";let J=$h(H.location,z,G);v=E();let re=Am(J,v),fe=H.createHref(J);h.replaceState(re,"",fe),u&&g&&g({action:f,location:H.location,delta:0})}function j(z){let G=o.location.origin!=="null"?o.location.origin:o.location.href,J=typeof z=="string"?z:ga(z);return J=J.replace(/ $/,"%20"),Je(G,`No window.location.(origin|href) available to create URL for href: ${J}`),new URL(J,G)}let H={get action(){return f},get location(){return i(o,h)},listen(z){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Sm,S),g=z,()=>{o.removeEventListener(Sm,S),g=null}},createHref(z){return e(o,z)},createURL:j,encodeLocation(z){let G=j(z);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:A,replace:V,go(z){return h.go(z)}};return H}function Hg(i,e,n="/"){return C0(i,e,n,!1)}function C0(i,e,n,s){let o=typeof e=="string"?io(e):e,u=ii(o.pathname||"/",n);if(u==null)return null;let h=qg(i);P0(h);let f=null;for(let g=0;f==null&&g<h.length;++g){let v=j0(u);f=F0(h[g],v,s)}return f}function qg(i,e=[],n=[],s=""){let o=(u,h,f)=>{let g={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(Je(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let v=Er([s,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(Je(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),qg(u.children,e,E,v)),!(u.path==null&&!u.index)&&e.push({path:v,score:M0(v,u.index),routesMeta:E})};return i.forEach((u,h)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))o(u,h);else for(let g of Wg(u.path))o(u,h,g)}),e}function Wg(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=Wg(s.join("/")),f=[];return f.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&f.push(...h),f.map(g=>i.startsWith("/")&&g===""?"/":g)}function P0(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:O0(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var k0=/^:[\w-]+$/,x0=3,N0=2,D0=1,V0=10,L0=-2,Rm=i=>i==="*";function M0(i,e){let n=i.split("/"),s=n.length;return n.some(Rm)&&(s+=L0),e&&(s+=N0),n.filter(o=>!Rm(o)).reduce((o,u)=>o+(k0.test(u)?x0:u===""?D0:V0),s)}function O0(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function F0(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let f=0;f<s.length;++f){let g=s[f],v=f===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=cu({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},E),A=g.route;if(!S&&v&&n&&!s[s.length-1].route.index&&(S=cu({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),h.push({params:o,pathname:Er([u,S.pathname]),pathnameBase:$0(Er([u,S.pathnameBase])),route:A}),S.pathnameBase!=="/"&&(u=Er([u,S.pathnameBase]))}return h}function cu(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=b0(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((v,{paramName:E,isOptional:S},A)=>{if(E==="*"){let j=f[A]||"";h=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const V=f[A];return S&&!V?v[E]=void 0:v[E]=(V||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:h,pattern:i}}function b0(i,e=!1,n=!0){Jn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,g)=>(s.push({paramName:f,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function j0(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ii(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function U0(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?io(i):i;return{pathname:n?n.startsWith("/")?n:z0(n,e):e,search:H0(s),hash:q0(o)}}function z0(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function kh(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function B0(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Kg(i){let e=B0(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Gg(i,e,n,s=!1){let o;typeof i=="string"?o=io(i):(o={...i},Je(!o.pathname||!o.pathname.includes("?"),kh("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),kh("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),kh("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,f;if(h==null)f=n;else{let S=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),S-=1;o.pathname=A.join("/")}f=S>=0?e[S]:"/"}let g=U0(o,f),v=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(v||E)&&(g.pathname+="/"),g}var Er=i=>i.join("/").replace(/\/\/+/g,"/"),$0=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),H0=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,q0=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function W0(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Qg=["POST","PUT","PATCH","DELETE"];new Set(Qg);var K0=["GET",...Qg];new Set(K0);var so=q.createContext(null);so.displayName="DataRouter";var ku=q.createContext(null);ku.displayName="DataRouterState";var Yg=q.createContext({isTransitioning:!1});Yg.displayName="ViewTransition";var G0=q.createContext(new Map);G0.displayName="Fetchers";var Q0=q.createContext(null);Q0.displayName="Await";var tr=q.createContext(null);tr.displayName="Navigation";var Sa=q.createContext(null);Sa.displayName="Location";var Rr=q.createContext({outlet:null,matches:[],isDataRoute:!1});Rr.displayName="Route";var md=q.createContext(null);md.displayName="RouteError";function Y0(i,{relative:e}={}){Je(Aa(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=q.useContext(tr),{hash:o,pathname:u,search:h}=Ra(i,{relative:e}),f=u;return n!=="/"&&(f=u==="/"?n:Er([n,u])),s.createHref({pathname:f,search:h,hash:o})}function Aa(){return q.useContext(Sa)!=null}function di(){return Je(Aa(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(Sa).location}var Xg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Jg(i){q.useContext(tr).static||q.useLayoutEffect(i)}function X0(){let{isDataRoute:i}=q.useContext(Rr);return i?cw():J0()}function J0(){Je(Aa(),"useNavigate() may be used only in the context of a <Router> component.");let i=q.useContext(so),{basename:e,navigator:n}=q.useContext(tr),{matches:s}=q.useContext(Rr),{pathname:o}=di(),u=JSON.stringify(Kg(s)),h=q.useRef(!1);return Jg(()=>{h.current=!0}),q.useCallback((g,v={})=>{if(Jn(h.current,Xg),!h.current)return;if(typeof g=="number"){n.go(g);return}let E=Gg(g,JSON.parse(u),o,v.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Er([e,E.pathname])),(v.replace?n.replace:n.push)(E,v.state,v)},[e,n,u,o,i])}q.createContext(null);function Ra(i,{relative:e}={}){let{matches:n}=q.useContext(Rr),{pathname:s}=di(),o=JSON.stringify(Kg(n));return q.useMemo(()=>Gg(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function Z0(i,e){return Zg(i,e)}function Zg(i,e,n,s){var G;Je(Aa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=q.useContext(tr),{matches:u}=q.useContext(Rr),h=u[u.length-1],f=h?h.params:{},g=h?h.pathname:"/",v=h?h.pathnameBase:"/",E=h&&h.route;{let J=E&&E.path||"";ey(g,!E||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let S=di(),A;if(e){let J=typeof e=="string"?io(e):e;Je(v==="/"||((G=J.pathname)==null?void 0:G.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${J.pathname}" was given in the \`location\` prop.`),A=J}else A=S;let V=A.pathname||"/",j=V;if(v!=="/"){let J=v.replace(/^\//,"").split("/");j="/"+V.replace(/^\//,"").split("/").slice(J.length).join("/")}let H=Hg(i,{pathname:j});Jn(E||H!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Jn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=iw(H&&H.map(J=>Object.assign({},J,{params:Object.assign({},f,J.params),pathname:Er([v,o.encodeLocation?o.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?v:Er([v,o.encodeLocation?o.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),u,n,s);return e&&z?q.createElement(Sa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},z):z}function ew(){let i=uw(),e=W0(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:o},n):null,h)}var tw=q.createElement(ew,null),nw=class extends q.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?q.createElement(Rr.Provider,{value:this.props.routeContext},q.createElement(md.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rw({routeContext:i,match:e,children:n}){let s=q.useContext(so);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(Rr.Provider,{value:i},n)}function iw(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let g=o.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);Je(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,f=-1;if(n)for(let g=0;g<o.length;g++){let v=o[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=g),v.route.id){let{loaderData:E,errors:S}=n,A=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||A){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((g,v,E)=>{let S,A=!1,V=null,j=null;n&&(S=u&&v.route.id?u[v.route.id]:void 0,V=v.route.errorElement||tw,h&&(f<0&&E===0?(ey("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,j=null):f===E&&(A=!0,j=v.route.hydrateFallbackElement||null)));let H=e.concat(o.slice(0,E+1)),z=()=>{let G;return S?G=V:A?G=j:v.route.Component?G=q.createElement(v.route.Component,null):v.route.element?G=v.route.element:G=g,q.createElement(rw,{match:v,routeContext:{outlet:g,matches:H,isDataRoute:n!=null},children:G})};return n&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?q.createElement(nw,{location:n.location,revalidation:n.revalidation,component:V,error:S,children:z(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):z()},null)}function gd(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sw(i){let e=q.useContext(so);return Je(e,gd(i)),e}function ow(i){let e=q.useContext(ku);return Je(e,gd(i)),e}function aw(i){let e=q.useContext(Rr);return Je(e,gd(i)),e}function yd(i){let e=aw(i),n=e.matches[e.matches.length-1];return Je(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function lw(){return yd("useRouteId")}function uw(){var s;let i=q.useContext(md),e=ow("useRouteError"),n=yd("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function cw(){let{router:i}=sw("useNavigate"),e=yd("useNavigate"),n=q.useRef(!1);return Jg(()=>{n.current=!0}),q.useCallback(async(o,u={})=>{Jn(n.current,Xg),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Cm={};function ey(i,e,n){!e&&!Cm[i]&&(Cm[i]=!0,Jn(!1,n))}q.memo(hw);function hw({routes:i,future:e,state:n}){return Zg(i,void 0,n,e)}function Hi(i){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dw({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){Je(!Aa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),f=q.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=io(n));let{pathname:g="/",search:v="",hash:E="",state:S=null,key:A="default"}=n,V=q.useMemo(()=>{let j=ii(g,h);return j==null?null:{location:{pathname:j,search:v,hash:E,state:S,key:A},navigationType:s}},[h,g,v,E,S,A,s]);return Jn(V!=null,`<Router basename="${h}"> is not able to match the URL "${g}${v}${E}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:q.createElement(tr.Provider,{value:f},q.createElement(Sa.Provider,{children:e,value:V}))}function fw({children:i,location:e}){return Z0(Hh(i),e)}function Hh(i,e=[]){let n=[];return q.Children.forEach(i,(s,o)=>{if(!q.isValidElement(s))return;let u=[...e,o];if(s.type===q.Fragment){n.push.apply(n,Hh(s.props.children,u));return}Je(s.type===Hi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Hh(s.props.children,u)),n.push(h)}),n}var tu="get",nu="application/x-www-form-urlencoded";function xu(i){return i!=null&&typeof i.tagName=="string"}function pw(i){return xu(i)&&i.tagName.toLowerCase()==="button"}function mw(i){return xu(i)&&i.tagName.toLowerCase()==="form"}function gw(i){return xu(i)&&i.tagName.toLowerCase()==="input"}function yw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function vw(i,e){return i.button===0&&(!e||e==="_self")&&!yw(i)}var Gl=null;function _w(){if(Gl===null)try{new FormData(document.createElement("form"),0),Gl=!1}catch{Gl=!0}return Gl}var ww=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xh(i){return i!=null&&!ww.has(i)?(Jn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nu}"`),null):i}function Ew(i,e){let n,s,o,u,h;if(mw(i)){let f=i.getAttribute("action");s=f?ii(f,e):null,n=i.getAttribute("method")||tu,o=xh(i.getAttribute("enctype"))||nu,u=new FormData(i)}else if(pw(i)||gw(i)&&(i.type==="submit"||i.type==="image")){let f=i.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||f.getAttribute("action");if(s=g?ii(g,e):null,n=i.getAttribute("formmethod")||f.getAttribute("method")||tu,o=xh(i.getAttribute("formenctype"))||xh(f.getAttribute("enctype"))||nu,u=new FormData(f,i),!_w()){let{name:v,type:E,value:S}=i;if(E==="image"){let A=v?`${v}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else v&&u.append(v,S)}}else{if(xu(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=tu,s=null,o=nu,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}function vd(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function Tw(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Iw(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Sw(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await Tw(u,n);return h.links?h.links():[]}return[]}));return Pw(s.flat(1).filter(Iw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Pm(i,e,n,s,o,u){let h=(g,v)=>n[v]?g.route.id!==n[v].route.id:!0,f=(g,v)=>{var E;return n[v].pathname!==g.pathname||((E=n[v].route.path)==null?void 0:E.endsWith("*"))&&n[v].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,v)=>h(g,v)||f(g,v)):u==="data"?e.filter((g,v)=>{var S;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,v)||f(g,v))return!0;if(g.route.shouldRevalidate){let A=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=n[0])==null?void 0:S.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function Aw(i,e){return Rw(i.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function Rw(i){return[...new Set(i)]}function Cw(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function Pw(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(Cw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function kw(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function xw(){let i=q.useContext(so);return vd(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Nw(){let i=q.useContext(ku);return vd(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var _d=q.createContext(void 0);_d.displayName="FrameworkContext";function ty(){let i=q.useContext(_d);return vd(i,"You must render this element inside a <HydratedRouter> element"),i}function Dw(i,e){let n=q.useContext(_d),[s,o]=q.useState(!1),[u,h]=q.useState(!1),{onFocus:f,onBlur:g,onMouseEnter:v,onMouseLeave:E,onTouchStart:S}=e,A=q.useRef(null);q.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let H=G=>{G.forEach(J=>{h(J.isIntersecting)})},z=new IntersectionObserver(H,{threshold:.5});return A.current&&z.observe(A.current),()=>{z.disconnect()}}},[i]),q.useEffect(()=>{if(s){let H=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(H)}}},[s]);let V=()=>{o(!0)},j=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,A,{}]:[u,A,{onFocus:aa(f,V),onBlur:aa(g,j),onMouseEnter:aa(v,V),onMouseLeave:aa(E,j),onTouchStart:aa(S,V)}]:[!1,A,{}]}function aa(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function Vw({page:i,...e}){let{router:n}=xw(),s=q.useMemo(()=>Hg(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?q.createElement(Mw,{page:i,matches:s,...e}):null}function Lw(i){let{manifest:e,routeModules:n}=ty(),[s,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return Sw(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),s}function Mw({page:i,matches:e,...n}){let s=di(),{manifest:o,routeModules:u}=ty(),{loaderData:h,matches:f}=Nw(),g=q.useMemo(()=>Pm(i,e,f,o,s,"data"),[i,e,f,o,s]),v=q.useMemo(()=>Pm(i,e,f,o,s,"assets"),[i,e,f,o,s]),E=q.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let V=new Set,j=!1;if(e.forEach(z=>{var J;let G=o.routes[z.route.id];!G||!G.hasLoader||(!g.some(re=>re.route.id===z.route.id)&&z.route.id in h&&((J=u[z.route.id])!=null&&J.shouldRevalidate)||G.hasClientLoader?j=!0:V.add(z.route.id))}),V.size===0)return[];let H=kw(i);return j&&V.size>0&&H.searchParams.set("_routes",e.filter(z=>V.has(z.route.id)).map(z=>z.route.id).join(",")),[H.pathname+H.search]},[h,s,o,g,e,i,u]),S=q.useMemo(()=>Aw(v,o),[v,o]),A=Lw(v);return q.createElement(q.Fragment,null,E.map(V=>q.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...n})),S.map(V=>q.createElement("link",{key:V,rel:"modulepreload",href:V,...n})),A.map(({key:V,link:j})=>q.createElement("link",{key:V,...j})))}function Ow(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ny=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ny&&(window.__reactRouterVersion="7.1.3")}catch{}function Fw({basename:i,children:e,window:n}){let s=q.useRef();s.current==null&&(s.current=S0({window:n,v5Compat:!0}));let o=s.current,[u,h]=q.useState({action:o.action,location:o.location}),f=q.useCallback(g=>{q.startTransition(()=>h(g))},[h]);return q.useLayoutEffect(()=>o.listen(f),[o,f]),q.createElement(dw,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var ry=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wr=q.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:f,target:g,to:v,preventScrollReset:E,viewTransition:S,...A},V){let{basename:j}=q.useContext(tr),H=typeof v=="string"&&ry.test(v),z,G=!1;if(typeof v=="string"&&H&&(z=v,ny))try{let R=new URL(window.location.href),k=v.startsWith("//")?new URL(R.protocol+v):new URL(v),D=ii(k.pathname,j);k.origin===R.origin&&D!=null?v=D+k.search+k.hash:G=!0}catch{Jn(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=Y0(v,{relative:o}),[re,fe,Re]=Dw(s,A),Te=zw(v,{replace:h,state:f,target:g,preventScrollReset:E,relative:o,viewTransition:S});function x(R){e&&e(R),R.defaultPrevented||Te(R)}let T=q.createElement("a",{...A,...Re,href:z||J,onClick:G||u?e:x,ref:Ow(V,fe),target:g,"data-discover":!H&&n==="render"?"true":void 0});return re&&!H?q.createElement(q.Fragment,null,T,q.createElement(Vw,{page:J})):T});wr.displayName="Link";var bw=q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:f,children:g,...v},E){let S=Ra(h,{relative:v.relative}),A=di(),V=q.useContext(ku),{navigator:j,basename:H}=q.useContext(tr),z=V!=null&&Ww(S)&&f===!0,G=j.encodeLocation?j.encodeLocation(S).pathname:S.pathname,J=A.pathname,re=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(J=J.toLowerCase(),re=re?re.toLowerCase():null,G=G.toLowerCase()),re&&H&&(re=ii(re,H)||re);const fe=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let Re=J===G||!o&&J.startsWith(G)&&J.charAt(fe)==="/",Te=re!=null&&(re===G||!o&&re.startsWith(G)&&re.charAt(G.length)==="/"),x={isActive:Re,isPending:Te,isTransitioning:z},T=Re?e:void 0,R;typeof s=="function"?R=s(x):R=[s,Re?"active":null,Te?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(x):u;return q.createElement(wr,{...v,"aria-current":T,className:R,ref:E,style:k,to:h,viewTransition:f},typeof g=="function"?g(x):g)});bw.displayName="NavLink";var jw=q.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=tu,action:f,onSubmit:g,relative:v,preventScrollReset:E,viewTransition:S,...A},V)=>{let j=Hw(),H=qw(f,{relative:v}),z=h.toLowerCase()==="get"?"get":"post",G=typeof f=="string"&&ry.test(f),J=re=>{if(g&&g(re),re.defaultPrevented)return;re.preventDefault();let fe=re.nativeEvent.submitter,Re=(fe==null?void 0:fe.getAttribute("formmethod"))||h;j(fe||re.currentTarget,{fetcherKey:e,method:Re,navigate:n,replace:o,state:u,relative:v,preventScrollReset:E,viewTransition:S})};return q.createElement("form",{ref:V,method:z,action:H,onSubmit:s?g:J,...A,"data-discover":!G&&i==="render"?"true":void 0})});jw.displayName="Form";function Uw(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iy(i){let e=q.useContext(so);return Je(e,Uw(i)),e}function zw(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let f=X0(),g=di(),v=Ra(i,{relative:u});return q.useCallback(E=>{if(vw(E,e)){E.preventDefault();let S=n!==void 0?n:ga(g)===ga(v);f(i,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[g,f,v,n,s,e,i,o,u,h])}var Bw=0,$w=()=>`__${String(++Bw)}__`;function Hw(){let{router:i}=iy("useSubmit"),{basename:e}=q.useContext(tr),n=lw();return q.useCallback(async(s,o={})=>{let{action:u,method:h,encType:f,formData:g,body:v}=Ew(s,e);if(o.navigate===!1){let E=o.fetcherKey||$w();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:v,formMethod:o.method||h,formEncType:o.encType||f,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:v,formMethod:o.method||h,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function qw(i,{relative:e}={}){let{basename:n}=q.useContext(tr),s=q.useContext(Rr);Je(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Ra(i||".",{relative:e})},h=di();if(i==null){u.search=h.search;let f=new URLSearchParams(u.search),g=f.getAll("index");if(g.some(E=>E==="")){f.delete("index"),g.filter(S=>S).forEach(S=>f.append("index",S));let E=f.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Er([n,u.pathname])),ga(u)}function Ww(i,e={}){let n=q.useContext(Yg);Je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=iy("useViewTransitionState"),o=Ra(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=ii(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=ii(n.nextLocation.pathname,s)||n.nextLocation.pathname;return cu(o.pathname,h)!=null||cu(o.pathname,u)!=null}new TextEncoder;const Nu=q.createContext(),Kw=()=>{const{quantityFinal:i}=q.useContext(Nu);return L.jsx("header",{children:L.jsx("div",{className:"div_header_navegacion_principal",children:L.jsxs("section",{className:"navegacion_principal",children:[L.jsx("div",{className:"navegacion_logo navegacion_div",children:L.jsx(wr,{to:"/ProjectGymReact/",children:L.jsx("img",{id:"logo",src:"/ProjectGymReact/img/Logo.png",alt:"logo"})})}),L.jsxs("div",{className:"div_column_navegacion",children:[L.jsx("div",{className:"navegacion_div",children:L.jsx(wr,{className:"navegacion_a",to:"/ProjectGymReact/",children:L.jsx("p",{className:"navegacion_p",id:"inicio",children:"Todo"})})}),L.jsx("div",{className:"navegacion_div",children:L.jsx("a",{className:"navegacion_a",href:"",children:L.jsx("p",{className:"navegacion_p",id:"sobre_mi",children:"Proteínas"})})}),L.jsx("div",{className:"navegacion_div",children:L.jsx("a",{className:"navegacion_a",href:"",children:L.jsx("p",{className:"navegacion_p",id:"proyectos",children:"Creatinas"})})}),L.jsx("div",{className:"navegacion_div",children:L.jsx("a",{className:"navegacion_a",href:"",children:L.jsx("p",{className:"navegacion_p",children:"Pre entreno"})})}),L.jsx("div",{className:"navegacion_div",children:L.jsx("a",{className:"navegacion_a",href:"",children:L.jsx("p",{id:"navegacion_p_last_child",className:"navegacion_p",children:"Suplementos y otros"})})})]}),L.jsx("div",{className:"navegacion_div div_column_iniciar_sesion_registro",children:L.jsx(wr,{to:"/ProjectGymReact/Login",children:L.jsx("p",{className:"navegacion_p",children:"Iniciar sesión"})})}),L.jsx("div",{className:"navegacion_div div_column_shopping_cart",children:L.jsx(wr,{to:"/ProjectGymReact/CartSummary",children:L.jsxs("p",{className:"navegacion_p",children:[L.jsx("i",{className:"fa-solid fa-cart-shopping shopping_cart"}),i>0&&L.jsx("span",{className:"cart_count",children:i})]})})})]})})})},Gw=()=>L.jsx("footer",{children:L.jsxs("div",{className:"div_principal_footer",children:[L.jsx("div",{}),L.jsx("div",{className:"div_footer_parrafo",children:L.jsx("p",{children:"© Todos los derechos reservados"})}),L.jsxs("div",{className:"div_img_footer",children:[L.jsx("img",{className:"img_footer",src:"/ProjectGymReact/img/linkedin.webp",alt:"Mi linkedin"}),L.jsx("img",{className:"img_footer",src:"/ProjectGymReact/img/github-gris_1.webp",alt:"Mi github"}),L.jsx("img",{className:"img_footer",src:"/ProjectGymReact/img/gmail.webp",alt:"Mi email"})]})]})});var km={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Qw=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],f=i[n++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},oy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,f=h?i[o+1]:0,g=o+2<i.length,v=g?i[o+2]:0,E=u>>2,S=(u&3)<<4|f>>4;let A=(f&15)<<2|v>>6,V=v&63;g||(V=64,h||(A=64)),s.push(n[E],n[S],n[A],n[V])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(sy(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Qw(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],f=o<i.length?n[i.charAt(o)]:0;++o;const v=o<i.length?n[i.charAt(o)]:64;++o;const S=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||f==null||v==null||S==null)throw new Yw;const A=u<<2|f>>4;if(s.push(A),v!==64){const V=f<<4&240|v>>2;if(s.push(V),S!==64){const j=v<<6&192|S;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Yw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xw=function(i){const e=sy(i);return oy.encodeByteArray(e,!0)},hu=function(i){return Xw(i).replace(/\./g,"")},Jw=function(i){try{return oy.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=()=>Zw().__FIREBASE_DEFAULTS__,tE=()=>{if(typeof process>"u"||typeof km>"u")return;const i=km.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},nE=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Jw(i[1]);return e&&JSON.parse(e)},wd=()=>{try{return eE()||tE()||nE()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},rE=i=>{var e,n;return(n=(e=wd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},iE=i=>{const e=rE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},ay=()=>{var i;return(i=wd())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[hu(JSON.stringify(n)),hu(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lE(){var i;const e=(i=wd())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uE(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function cE(){return!lE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ly(){try{return typeof indexedDB=="object"}catch{return!1}}function uy(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}function hE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="FirebaseError";class fi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=dE,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Du.prototype.create)}}class Du{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?fE(u,s):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new fi(o,f,s)}}function fE(i,e){return i.replace(pE,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const pE=/\{\$([^}]+)}/g;function du(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(xm(u)&&xm(h)){if(!du(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function xm(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=1e3,gE=2,yE=4*60*60*1e3,vE=.5;function Nm(i,e=mE,n=gE){const s=e*Math.pow(n,i),o=Math.round(vE*s*(Math.random()-.5)*2);return Math.min(yE,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(i){return i&&i._delegate?i._delegate:i}class Tr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new sE;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(EE(e))try{this.getOrInitializeService({instanceIdentifier:qi})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=qi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qi){return this.instances.has(e)}getOptions(e=qi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(u);s===f&&h.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:wE(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=qi){return this.component?this.component.multipleInstances?e:qi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wE(i){return i===qi?void 0:i}function EE(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _E(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ve||(Ve={}));const IE={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},SE=Ve.INFO,AE={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},RE=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=AE[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ed{constructor(e){this.name=e,this._logLevel=SE,this._logHandler=RE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const CE=(i,e)=>e.some(n=>i instanceof n);let Dm,Vm;function PE(){return Dm||(Dm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kE(){return Vm||(Vm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cy=new WeakMap,qh=new WeakMap,hy=new WeakMap,Nh=new WeakMap,Td=new WeakMap;function xE(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(Zr(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&cy.set(n,i)}).catch(()=>{}),Td.set(e,i),e}function NE(i){if(qh.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});qh.set(i,e)}let Wh={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return qh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||hy.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function DE(i){Wh=i(Wh)}function VE(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Dh(this),e,...n);return hy.set(s,e.sort?e.sort():[e]),Zr(s)}:kE().includes(i)?function(...e){return i.apply(Dh(this),e),Zr(cy.get(this))}:function(...e){return Zr(i.apply(Dh(this),e))}}function LE(i){return typeof i=="function"?VE(i):(i instanceof IDBTransaction&&NE(i),CE(i,PE())?new Proxy(i,Wh):i)}function Zr(i){if(i instanceof IDBRequest)return xE(i);if(Nh.has(i))return Nh.get(i);const e=LE(i);return e!==i&&(Nh.set(i,e),Td.set(e,i)),e}const Dh=i=>Td.get(i);function dy(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),f=Zr(h);return s&&h.addEventListener("upgradeneeded",g=>{s(Zr(h.result),g.oldVersion,g.newVersion,Zr(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),f.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),f}const ME=["get","getKey","getAll","getAllKeys","count"],OE=["put","add","delete","clear"],Vh=new Map;function Lm(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Vh.get(e))return Vh.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=OE.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ME.includes(n)))return;const u=async function(h,...f){const g=this.transaction(h,o?"readwrite":"readonly");let v=g.store;return s&&(v=v.index(f.shift())),(await Promise.all([v[n](...f),o&&g.done]))[0]};return Vh.set(e,u),u}DE(i=>({...i,get:(e,n,s)=>Lm(e,n)||i.get(e,n,s),has:(e,n)=>!!Lm(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bE(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function bE(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Kh="@firebase/app",Mm="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir=new Ed("@firebase/app"),jE="@firebase/app-compat",UE="@firebase/analytics-compat",zE="@firebase/analytics",BE="@firebase/app-check-compat",$E="@firebase/app-check",HE="@firebase/auth",qE="@firebase/auth-compat",WE="@firebase/database",KE="@firebase/data-connect",GE="@firebase/database-compat",QE="@firebase/functions",YE="@firebase/functions-compat",XE="@firebase/installations",JE="@firebase/installations-compat",ZE="@firebase/messaging",eT="@firebase/messaging-compat",tT="@firebase/performance",nT="@firebase/performance-compat",rT="@firebase/remote-config",iT="@firebase/remote-config-compat",sT="@firebase/storage",oT="@firebase/storage-compat",aT="@firebase/firestore",lT="@firebase/vertexai",uT="@firebase/firestore-compat",cT="firebase",hT="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh="[DEFAULT]",dT={[Kh]:"fire-core",[jE]:"fire-core-compat",[zE]:"fire-analytics",[UE]:"fire-analytics-compat",[$E]:"fire-app-check",[BE]:"fire-app-check-compat",[HE]:"fire-auth",[qE]:"fire-auth-compat",[WE]:"fire-rtdb",[KE]:"fire-data-connect",[GE]:"fire-rtdb-compat",[QE]:"fire-fn",[YE]:"fire-fn-compat",[XE]:"fire-iid",[JE]:"fire-iid-compat",[ZE]:"fire-fcm",[eT]:"fire-fcm-compat",[tT]:"fire-perf",[nT]:"fire-perf-compat",[rT]:"fire-rc",[iT]:"fire-rc-compat",[sT]:"fire-gcs",[oT]:"fire-gcs-compat",[aT]:"fire-fst",[uT]:"fire-fst-compat",[lT]:"fire-vertex","fire-js":"fire-js",[cT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=new Map,fT=new Map,Qh=new Map;function Om(i,e){try{i.container.addComponent(e)}catch(n){Ir.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function si(i){const e=i.name;if(Qh.has(e))return Ir.debug(`There were multiple attempts to register component ${e}.`),!1;Qh.set(e,i);for(const n of fu.values())Om(n,i);for(const n of fT.values())Om(n,i);return!0}function Ca(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function pT(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ei=new Du("app","Firebase",mT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Tr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ei.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=hT;function fy(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Gh,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ei.create("bad-app-name",{appName:String(o)});if(n||(n=ay()),!n)throw ei.create("no-options");const u=fu.get(o);if(u){if(du(n,u.options)&&du(s,u.config))return u;throw ei.create("duplicate-app",{appName:o})}const h=new TE(o);for(const g of Qh.values())h.addComponent(g);const f=new gT(n,s,h);return fu.set(o,f),f}function py(i=Gh){const e=fu.get(i);if(!e&&i===Gh&&ay())return fy();if(!e)throw ei.create("no-app",{appName:i});return e}function Qn(i,e,n){var s;let o=(s=dT[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const f=[`Unable to register library "${o}" with version "${e}":`];u&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ir.warn(f.join(" "));return}si(new Tr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="firebase-heartbeat-database",_T=1,ya="firebase-heartbeat-store";let Lh=null;function my(){return Lh||(Lh=dy(vT,_T,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ya)}catch(n){console.warn(n)}}}}).catch(i=>{throw ei.create("idb-open",{originalErrorMessage:i.message})})),Lh}async function wT(i){try{const n=(await my()).transaction(ya),s=await n.objectStore(ya).get(gy(i));return await n.done,s}catch(e){if(e instanceof fi)Ir.warn(e.message);else{const n=ei.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ir.warn(n.message)}}}async function Fm(i,e){try{const s=(await my()).transaction(ya,"readwrite");await s.objectStore(ya).put(e,gy(i)),await s.done}catch(n){if(n instanceof fi)Ir.warn(n.message);else{const s=ei.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ir.warn(s.message)}}}function gy(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=1024,TT=30;class IT{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AT(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=bm();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>TT){const h=RT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ir.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bm(),{heartbeatsToSend:s,unsentEntries:o}=ST(this._heartbeatsCache.heartbeats),u=hu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Ir.warn(n),""}}}function bm(){return new Date().toISOString().substring(0,10)}function ST(i,e=ET){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),jm(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),jm(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class AT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ly()?uy().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wT(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Fm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Fm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function jm(i){return hu(JSON.stringify({version:2,heartbeats:i})).length}function RT(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(i){si(new Tr("platform-logger",e=>new FE(e),"PRIVATE")),si(new Tr("heartbeat",e=>new IT(e),"PRIVATE")),Qn(Kh,Mm,i),Qn(Kh,Mm,"esm2017"),Qn("fire-js","")}CT("");var PT="firebase",kT="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qn(PT,kT,"app");const yy="@firebase/installations",Id="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy=1e4,_y=`w:${Id}`,wy="FIS_v2",xT="https://firebaseinstallations.googleapis.com/v1",NT=60*60*1e3,DT="installations",VT="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Gi=new Du(DT,VT,LT);function Ey(i){return i instanceof fi&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty({projectId:i}){return`${xT}/projects/${i}/installations`}function Iy(i){return{token:i.token,requestStatus:2,expiresIn:OT(i.expiresIn),creationTime:Date.now()}}async function Sy(i,e){const s=(await e.json()).error;return Gi.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Ay({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function MT(i,{refreshToken:e}){const n=Ay(i);return n.append("Authorization",FT(e)),n}async function Ry(i){const e=await i();return e.status>=500&&e.status<600?i():e}function OT(i){return Number(i.replace("s","000"))}function FT(i){return`${wy} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bT({appConfig:i,heartbeatServiceProvider:e},{fid:n}){const s=Ty(i),o=Ay(i),u=e.getImmediate({optional:!0});if(u){const v=await u.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const h={fid:n,authVersion:wy,appId:i.appId,sdkVersion:_y},f={method:"POST",headers:o,body:JSON.stringify(h)},g=await Ry(()=>fetch(s,f));if(g.ok){const v=await g.json();return{fid:v.fid||n,registrationStatus:2,refreshToken:v.refreshToken,authToken:Iy(v.authToken)}}else throw await Sy("Create Installation",g)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=/^[cdef][\w-]{21}$/,Yh="";function zT(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=BT(i);return UT.test(n)?n:Yh}catch{return Yh}}function BT(i){return jT(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py=new Map;function ky(i,e){const n=Vu(i);xy(n,e),$T(n,e)}function xy(i,e){const n=Py.get(i);if(n)for(const s of n)s(e)}function $T(i,e){const n=HT();n&&n.postMessage({key:i,fid:e}),qT()}let Wi=null;function HT(){return!Wi&&"BroadcastChannel"in self&&(Wi=new BroadcastChannel("[Firebase] FID Change"),Wi.onmessage=i=>{xy(i.data.key,i.data.fid)}),Wi}function qT(){Py.size===0&&Wi&&(Wi.close(),Wi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="firebase-installations-database",KT=1,Qi="firebase-installations-store";let Mh=null;function Sd(){return Mh||(Mh=dy(WT,KT,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(Qi)}}})),Mh}async function pu(i,e){const n=Vu(i),o=(await Sd()).transaction(Qi,"readwrite"),u=o.objectStore(Qi),h=await u.get(n);return await u.put(e,n),await o.done,(!h||h.fid!==e.fid)&&ky(i,e.fid),e}async function Ny(i){const e=Vu(i),s=(await Sd()).transaction(Qi,"readwrite");await s.objectStore(Qi).delete(e),await s.done}async function Lu(i,e){const n=Vu(i),o=(await Sd()).transaction(Qi,"readwrite"),u=o.objectStore(Qi),h=await u.get(n),f=e(h);return f===void 0?await u.delete(n):await u.put(f,n),await o.done,f&&(!h||h.fid!==f.fid)&&ky(i,f.fid),f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ad(i){let e;const n=await Lu(i.appConfig,s=>{const o=GT(s),u=QT(i,o);return e=u.registrationPromise,u.installationEntry});return n.fid===Yh?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function GT(i){const e=i||{fid:zT(),registrationStatus:0};return Dy(e)}function QT(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Gi.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=YT(i,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:XT(i)}:{installationEntry:e}}async function YT(i,e){try{const n=await bT(i,e);return pu(i.appConfig,n)}catch(n){throw Ey(n)&&n.customData.serverCode===409?await Ny(i.appConfig):await pu(i.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function XT(i){let e=await Um(i.appConfig);for(;e.registrationStatus===1;)await Cy(100),e=await Um(i.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Ad(i);return s||n}return e}function Um(i){return Lu(i,e=>{if(!e)throw Gi.create("installation-not-found");return Dy(e)})}function Dy(i){return JT(i)?{fid:i.fid,registrationStatus:0}:i}function JT(i){return i.registrationStatus===1&&i.registrationTime+vy<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZT({appConfig:i,heartbeatServiceProvider:e},n){const s=e1(i,n),o=MT(i,n),u=e.getImmediate({optional:!0});if(u){const v=await u.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const h={installation:{sdkVersion:_y,appId:i.appId}},f={method:"POST",headers:o,body:JSON.stringify(h)},g=await Ry(()=>fetch(s,f));if(g.ok){const v=await g.json();return Iy(v)}else throw await Sy("Generate Auth Token",g)}function e1(i,{fid:e}){return`${Ty(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rd(i,e=!1){let n;const s=await Lu(i.appConfig,u=>{if(!Vy(u))throw Gi.create("not-registered");const h=u.authToken;if(!e&&r1(h))return u;if(h.requestStatus===1)return n=t1(i,e),u;{if(!navigator.onLine)throw Gi.create("app-offline");const f=s1(u);return n=n1(i,f),f}});return n?await n:s.authToken}async function t1(i,e){let n=await zm(i.appConfig);for(;n.authToken.requestStatus===1;)await Cy(100),n=await zm(i.appConfig);const s=n.authToken;return s.requestStatus===0?Rd(i,e):s}function zm(i){return Lu(i,e=>{if(!Vy(e))throw Gi.create("not-registered");const n=e.authToken;return o1(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function n1(i,e){try{const n=await ZT(i,e),s=Object.assign(Object.assign({},e),{authToken:n});return await pu(i.appConfig,s),n}catch(n){if(Ey(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Ny(i.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await pu(i.appConfig,s)}throw n}}function Vy(i){return i!==void 0&&i.registrationStatus===2}function r1(i){return i.requestStatus===2&&!i1(i)}function i1(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+NT}function s1(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function o1(i){return i.requestStatus===1&&i.requestTime+vy<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a1(i){const e=i,{installationEntry:n,registrationPromise:s}=await Ad(e);return s?s.catch(console.error):Rd(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l1(i,e=!1){const n=i;return await u1(n),(await Rd(n,e)).token}async function u1(i){const{registrationPromise:e}=await Ad(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(i){if(!i||!i.options)throw Oh("App Configuration");if(!i.name)throw Oh("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!i.options[n])throw Oh(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Oh(i){return Gi.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly="installations",h1="installations-internal",d1=i=>{const e=i.getProvider("app").getImmediate(),n=c1(e),s=Ca(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},f1=i=>{const e=i.getProvider("app").getImmediate(),n=Ca(e,Ly).getImmediate();return{getId:()=>a1(n),getToken:o=>l1(n,o)}};function p1(){si(new Tr(Ly,d1,"PUBLIC")),si(new Tr(h1,f1,"PRIVATE"))}p1();Qn(yy,Id);Qn(yy,Id,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu="analytics",m1="firebase_id",g1="origin",y1=60*1e3,v1="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Cd="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt=new Ed("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ln=new Du("analytics","Analytics",_1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(i){if(!i.startsWith(Cd)){const e=ln.create("invalid-gtag-resource",{gtagURL:i});return Jt.warn(e.message),""}return i}function My(i){return Promise.all(i.map(e=>e.catch(n=>n)))}function E1(i,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,e)),n}function T1(i,e){const n=E1("firebase-js-sdk-policy",{createScriptURL:w1}),s=document.createElement("script"),o=`${Cd}?l=${i}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function I1(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function S1(i,e,n,s,o,u){const h=s[o];try{if(h)await e[h];else{const g=(await My(n)).find(v=>v.measurementId===o);g&&await e[g.appId]}}catch(f){Jt.error(f)}i("config",o,u)}async function A1(i,e,n,s,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const f=await My(n);for(const g of h){const v=f.find(S=>S.measurementId===g),E=v&&e[v.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",s,o||{})}catch(u){Jt.error(u)}}function R1(i,e,n,s){async function o(u,...h){try{if(u==="event"){const[f,g]=h;await A1(i,e,n,f,g)}else if(u==="config"){const[f,g]=h;await S1(i,e,n,s,f,g)}else if(u==="consent"){const[f,g]=h;i("consent",f,g)}else if(u==="get"){const[f,g,v]=h;i("get",f,g,v)}else if(u==="set"){const[f]=h;i("set",f)}else i(u,...h)}catch(f){Jt.error(f)}}return o}function C1(i,e,n,s,o){let u=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=R1(u,i,e,n),{gtagCore:u,wrappedGtag:window[o]}}function P1(i){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Cd)&&n.src.includes(i))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=30,x1=1e3;class N1{constructor(e={},n=x1){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Oy=new N1;function D1(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function V1(i){var e;const{appId:n,apiKey:s}=i,o={method:"GET",headers:D1(s)},u=v1.replace("{app-id}",n),h=await fetch(u,o);if(h.status!==200&&h.status!==304){let f="";try{const g=await h.json();!((e=g.error)===null||e===void 0)&&e.message&&(f=g.error.message)}catch{}throw ln.create("config-fetch-failed",{httpStatus:h.status,responseMessage:f})}return h.json()}async function L1(i,e=Oy,n){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw ln.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw ln.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new F1;return setTimeout(async()=>{f.abort()},y1),Fy({appId:s,apiKey:o,measurementId:u},h,f,e)}async function Fy(i,{throttleEndTimeMillis:e,backoffCount:n},s,o=Oy){var u;const{appId:h,measurementId:f}=i;try{await M1(s,e)}catch(g){if(f)return Jt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:f};throw g}try{const g=await V1(i);return o.deleteThrottleMetadata(h),g}catch(g){const v=g;if(!O1(v)){if(o.deleteThrottleMetadata(h),f)return Jt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:h,measurementId:f};throw g}const E=Number((u=v==null?void 0:v.customData)===null||u===void 0?void 0:u.httpStatus)===503?Nm(n,o.intervalMillis,k1):Nm(n,o.intervalMillis),S={throttleEndTimeMillis:Date.now()+E,backoffCount:n+1};return o.setThrottleMetadata(h,S),Jt.debug(`Calling attemptFetch again in ${E} millis`),Fy(i,S,s,o)}}function M1(i,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);i.addEventListener(()=>{clearTimeout(u),s(ln.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function O1(i){if(!(i instanceof fi)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class F1{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function b1(i,e,n,s,o){if(o&&o.global){i("event",n,s);return}else{const u=await e,h=Object.assign(Object.assign({},s),{send_to:u});i("event",n,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j1(){if(ly())try{await uy()}catch(i){return Jt.warn(ln.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return Jt.warn(ln.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function U1(i,e,n,s,o,u,h){var f;const g=L1(i);g.then(V=>{n[V.measurementId]=V.appId,i.options.measurementId&&V.measurementId!==i.options.measurementId&&Jt.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${V.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(V=>Jt.error(V)),e.push(g);const v=j1().then(V=>{if(V)return s.getId()}),[E,S]=await Promise.all([g,v]);P1(u)||T1(u,E.measurementId),o("js",new Date);const A=(f=h==null?void 0:h.config)!==null&&f!==void 0?f:{};return A[g1]="firebase",A.update=!0,S!=null&&(A[m1]=S),o("config",E.measurementId,A),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e){this.app=e}_delete(){return delete ha[this.app.options.appId],Promise.resolve()}}let ha={},Bm=[];const $m={};let Fh="dataLayer",B1="gtag",Hm,by,qm=!1;function $1(){const i=[];if(uE()&&i.push("This is a browser extension environment."),hE()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=ln.create("invalid-analytics-context",{errorInfo:e});Jt.warn(n.message)}}function H1(i,e,n){$1();const s=i.options.appId;if(!s)throw ln.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)Jt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ln.create("no-api-key");if(ha[s]!=null)throw ln.create("already-exists",{id:s});if(!qm){I1(Fh);const{wrappedGtag:u,gtagCore:h}=C1(ha,Bm,$m,Fh,B1);by=u,Hm=h,qm=!0}return ha[s]=U1(i,Bm,$m,e,Hm,Fh,n),new z1(i)}function q1(i=py()){i=On(i);const e=Ca(i,mu);return e.isInitialized()?e.getImmediate():W1(i)}function W1(i,e={}){const n=Ca(i,mu);if(n.isInitialized()){const o=n.getImmediate();if(du(e,n.getOptions()))return o;throw ln.create("already-initialized")}return n.initialize({options:e})}function K1(i,e,n,s){i=On(i),b1(by,ha[i.app.options.appId],e,n,s).catch(o=>Jt.error(o))}const Wm="@firebase/analytics",Km="0.10.11";function G1(){si(new Tr(mu,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return H1(s,o,n)},"PUBLIC")),si(new Tr("analytics-internal",i,"PRIVATE")),Qn(Wm,Km),Qn(Wm,Km,"esm2017");function i(e){try{const n=e.getProvider(mu).getImmediate();return{logEvent:(s,o,u)=>K1(n,s,o,u)}}catch(n){throw ln.create("interop-component-reg-failed",{reason:n})}}}G1();var Gm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ti,jy;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,T){function R(){}R.prototype=T.prototype,x.D=T.prototype,x.prototype=new R,x.prototype.constructor=x,x.C=function(k,D,O){for(var C=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)C[tt-2]=arguments[tt];return T.prototype[D].apply(k,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,T,R){R||(R=0);var k=Array(16);if(typeof T=="string")for(var D=0;16>D;++D)k[D]=T.charCodeAt(R++)|T.charCodeAt(R++)<<8|T.charCodeAt(R++)<<16|T.charCodeAt(R++)<<24;else for(D=0;16>D;++D)k[D]=T[R++]|T[R++]<<8|T[R++]<<16|T[R++]<<24;T=x.g[0],R=x.g[1],D=x.g[2];var O=x.g[3],C=T+(O^R&(D^O))+k[0]+3614090360&4294967295;T=R+(C<<7&4294967295|C>>>25),C=O+(D^T&(R^D))+k[1]+3905402710&4294967295,O=T+(C<<12&4294967295|C>>>20),C=D+(R^O&(T^R))+k[2]+606105819&4294967295,D=O+(C<<17&4294967295|C>>>15),C=R+(T^D&(O^T))+k[3]+3250441966&4294967295,R=D+(C<<22&4294967295|C>>>10),C=T+(O^R&(D^O))+k[4]+4118548399&4294967295,T=R+(C<<7&4294967295|C>>>25),C=O+(D^T&(R^D))+k[5]+1200080426&4294967295,O=T+(C<<12&4294967295|C>>>20),C=D+(R^O&(T^R))+k[6]+2821735955&4294967295,D=O+(C<<17&4294967295|C>>>15),C=R+(T^D&(O^T))+k[7]+4249261313&4294967295,R=D+(C<<22&4294967295|C>>>10),C=T+(O^R&(D^O))+k[8]+1770035416&4294967295,T=R+(C<<7&4294967295|C>>>25),C=O+(D^T&(R^D))+k[9]+2336552879&4294967295,O=T+(C<<12&4294967295|C>>>20),C=D+(R^O&(T^R))+k[10]+4294925233&4294967295,D=O+(C<<17&4294967295|C>>>15),C=R+(T^D&(O^T))+k[11]+2304563134&4294967295,R=D+(C<<22&4294967295|C>>>10),C=T+(O^R&(D^O))+k[12]+1804603682&4294967295,T=R+(C<<7&4294967295|C>>>25),C=O+(D^T&(R^D))+k[13]+4254626195&4294967295,O=T+(C<<12&4294967295|C>>>20),C=D+(R^O&(T^R))+k[14]+2792965006&4294967295,D=O+(C<<17&4294967295|C>>>15),C=R+(T^D&(O^T))+k[15]+1236535329&4294967295,R=D+(C<<22&4294967295|C>>>10),C=T+(D^O&(R^D))+k[1]+4129170786&4294967295,T=R+(C<<5&4294967295|C>>>27),C=O+(R^D&(T^R))+k[6]+3225465664&4294967295,O=T+(C<<9&4294967295|C>>>23),C=D+(T^R&(O^T))+k[11]+643717713&4294967295,D=O+(C<<14&4294967295|C>>>18),C=R+(O^T&(D^O))+k[0]+3921069994&4294967295,R=D+(C<<20&4294967295|C>>>12),C=T+(D^O&(R^D))+k[5]+3593408605&4294967295,T=R+(C<<5&4294967295|C>>>27),C=O+(R^D&(T^R))+k[10]+38016083&4294967295,O=T+(C<<9&4294967295|C>>>23),C=D+(T^R&(O^T))+k[15]+3634488961&4294967295,D=O+(C<<14&4294967295|C>>>18),C=R+(O^T&(D^O))+k[4]+3889429448&4294967295,R=D+(C<<20&4294967295|C>>>12),C=T+(D^O&(R^D))+k[9]+568446438&4294967295,T=R+(C<<5&4294967295|C>>>27),C=O+(R^D&(T^R))+k[14]+3275163606&4294967295,O=T+(C<<9&4294967295|C>>>23),C=D+(T^R&(O^T))+k[3]+4107603335&4294967295,D=O+(C<<14&4294967295|C>>>18),C=R+(O^T&(D^O))+k[8]+1163531501&4294967295,R=D+(C<<20&4294967295|C>>>12),C=T+(D^O&(R^D))+k[13]+2850285829&4294967295,T=R+(C<<5&4294967295|C>>>27),C=O+(R^D&(T^R))+k[2]+4243563512&4294967295,O=T+(C<<9&4294967295|C>>>23),C=D+(T^R&(O^T))+k[7]+1735328473&4294967295,D=O+(C<<14&4294967295|C>>>18),C=R+(O^T&(D^O))+k[12]+2368359562&4294967295,R=D+(C<<20&4294967295|C>>>12),C=T+(R^D^O)+k[5]+4294588738&4294967295,T=R+(C<<4&4294967295|C>>>28),C=O+(T^R^D)+k[8]+2272392833&4294967295,O=T+(C<<11&4294967295|C>>>21),C=D+(O^T^R)+k[11]+1839030562&4294967295,D=O+(C<<16&4294967295|C>>>16),C=R+(D^O^T)+k[14]+4259657740&4294967295,R=D+(C<<23&4294967295|C>>>9),C=T+(R^D^O)+k[1]+2763975236&4294967295,T=R+(C<<4&4294967295|C>>>28),C=O+(T^R^D)+k[4]+1272893353&4294967295,O=T+(C<<11&4294967295|C>>>21),C=D+(O^T^R)+k[7]+4139469664&4294967295,D=O+(C<<16&4294967295|C>>>16),C=R+(D^O^T)+k[10]+3200236656&4294967295,R=D+(C<<23&4294967295|C>>>9),C=T+(R^D^O)+k[13]+681279174&4294967295,T=R+(C<<4&4294967295|C>>>28),C=O+(T^R^D)+k[0]+3936430074&4294967295,O=T+(C<<11&4294967295|C>>>21),C=D+(O^T^R)+k[3]+3572445317&4294967295,D=O+(C<<16&4294967295|C>>>16),C=R+(D^O^T)+k[6]+76029189&4294967295,R=D+(C<<23&4294967295|C>>>9),C=T+(R^D^O)+k[9]+3654602809&4294967295,T=R+(C<<4&4294967295|C>>>28),C=O+(T^R^D)+k[12]+3873151461&4294967295,O=T+(C<<11&4294967295|C>>>21),C=D+(O^T^R)+k[15]+530742520&4294967295,D=O+(C<<16&4294967295|C>>>16),C=R+(D^O^T)+k[2]+3299628645&4294967295,R=D+(C<<23&4294967295|C>>>9),C=T+(D^(R|~O))+k[0]+4096336452&4294967295,T=R+(C<<6&4294967295|C>>>26),C=O+(R^(T|~D))+k[7]+1126891415&4294967295,O=T+(C<<10&4294967295|C>>>22),C=D+(T^(O|~R))+k[14]+2878612391&4294967295,D=O+(C<<15&4294967295|C>>>17),C=R+(O^(D|~T))+k[5]+4237533241&4294967295,R=D+(C<<21&4294967295|C>>>11),C=T+(D^(R|~O))+k[12]+1700485571&4294967295,T=R+(C<<6&4294967295|C>>>26),C=O+(R^(T|~D))+k[3]+2399980690&4294967295,O=T+(C<<10&4294967295|C>>>22),C=D+(T^(O|~R))+k[10]+4293915773&4294967295,D=O+(C<<15&4294967295|C>>>17),C=R+(O^(D|~T))+k[1]+2240044497&4294967295,R=D+(C<<21&4294967295|C>>>11),C=T+(D^(R|~O))+k[8]+1873313359&4294967295,T=R+(C<<6&4294967295|C>>>26),C=O+(R^(T|~D))+k[15]+4264355552&4294967295,O=T+(C<<10&4294967295|C>>>22),C=D+(T^(O|~R))+k[6]+2734768916&4294967295,D=O+(C<<15&4294967295|C>>>17),C=R+(O^(D|~T))+k[13]+1309151649&4294967295,R=D+(C<<21&4294967295|C>>>11),C=T+(D^(R|~O))+k[4]+4149444226&4294967295,T=R+(C<<6&4294967295|C>>>26),C=O+(R^(T|~D))+k[11]+3174756917&4294967295,O=T+(C<<10&4294967295|C>>>22),C=D+(T^(O|~R))+k[2]+718787259&4294967295,D=O+(C<<15&4294967295|C>>>17),C=R+(O^(D|~T))+k[9]+3951481745&4294967295,x.g[0]=x.g[0]+T&4294967295,x.g[1]=x.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+O&4294967295}s.prototype.u=function(x,T){T===void 0&&(T=x.length);for(var R=T-this.blockSize,k=this.B,D=this.h,O=0;O<T;){if(D==0)for(;O<=R;)o(this,x,O),O+=this.blockSize;if(typeof x=="string"){for(;O<T;)if(k[D++]=x.charCodeAt(O++),D==this.blockSize){o(this,k),D=0;break}}else for(;O<T;)if(k[D++]=x[O++],D==this.blockSize){o(this,k),D=0;break}}this.h=D,this.o+=T},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var T=1;T<x.length-8;++T)x[T]=0;var R=8*this.o;for(T=x.length-8;T<x.length;++T)x[T]=R&255,R/=256;for(this.u(x),x=Array(16),T=R=0;4>T;++T)for(var k=0;32>k;k+=8)x[R++]=this.g[T]>>>k&255;return x};function u(x,T){var R=f;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=T(x)}function h(x,T){this.h=T;for(var R=[],k=!0,D=x.length-1;0<=D;D--){var O=x[D]|0;k&&O==T||(R[D]=O,k=!1)}this.g=R}var f={};function g(x){return-128<=x&&128>x?u(x,function(T){return new h([T|0],0>T?-1:0)}):new h([x|0],0>x?-1:0)}function v(x){if(isNaN(x)||!isFinite(x))return S;if(0>x)return z(v(-x));for(var T=[],R=1,k=0;x>=R;k++)T[k]=x/R|0,R*=4294967296;return new h(T,0)}function E(x,T){if(x.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(x.charAt(0)=="-")return z(E(x.substring(1),T));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(T,8)),k=S,D=0;D<x.length;D+=8){var O=Math.min(8,x.length-D),C=parseInt(x.substring(D,D+O),T);8>O?(O=v(Math.pow(T,O)),k=k.j(O).add(v(C))):(k=k.j(R),k=k.add(v(C)))}return k}var S=g(0),A=g(1),V=g(16777216);i=h.prototype,i.m=function(){if(H(this))return-z(this).m();for(var x=0,T=1,R=0;R<this.g.length;R++){var k=this.i(R);x+=(0<=k?k:4294967296+k)*T,T*=4294967296}return x},i.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(j(this))return"0";if(H(this))return"-"+z(this).toString(x);for(var T=v(Math.pow(x,6)),R=this,k="";;){var D=fe(R,T).g;R=G(R,D.j(T));var O=((0<R.g.length?R.g[0]:R.h)>>>0).toString(x);if(R=D,j(R))return O+k;for(;6>O.length;)O="0"+O;k=O+k}},i.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function j(x){if(x.h!=0)return!1;for(var T=0;T<x.g.length;T++)if(x.g[T]!=0)return!1;return!0}function H(x){return x.h==-1}i.l=function(x){return x=G(this,x),H(x)?-1:j(x)?0:1};function z(x){for(var T=x.g.length,R=[],k=0;k<T;k++)R[k]=~x.g[k];return new h(R,~x.h).add(A)}i.abs=function(){return H(this)?z(this):this},i.add=function(x){for(var T=Math.max(this.g.length,x.g.length),R=[],k=0,D=0;D<=T;D++){var O=k+(this.i(D)&65535)+(x.i(D)&65535),C=(O>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);k=C>>>16,O&=65535,C&=65535,R[D]=C<<16|O}return new h(R,R[R.length-1]&-2147483648?-1:0)};function G(x,T){return x.add(z(T))}i.j=function(x){if(j(this)||j(x))return S;if(H(this))return H(x)?z(this).j(z(x)):z(z(this).j(x));if(H(x))return z(this.j(z(x)));if(0>this.l(V)&&0>x.l(V))return v(this.m()*x.m());for(var T=this.g.length+x.g.length,R=[],k=0;k<2*T;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(var D=0;D<x.g.length;D++){var O=this.i(k)>>>16,C=this.i(k)&65535,tt=x.i(D)>>>16,kt=x.i(D)&65535;R[2*k+2*D]+=C*kt,J(R,2*k+2*D),R[2*k+2*D+1]+=O*kt,J(R,2*k+2*D+1),R[2*k+2*D+1]+=C*tt,J(R,2*k+2*D+1),R[2*k+2*D+2]+=O*tt,J(R,2*k+2*D+2)}for(k=0;k<T;k++)R[k]=R[2*k+1]<<16|R[2*k];for(k=T;k<2*T;k++)R[k]=0;return new h(R,0)};function J(x,T){for(;(x[T]&65535)!=x[T];)x[T+1]+=x[T]>>>16,x[T]&=65535,T++}function re(x,T){this.g=x,this.h=T}function fe(x,T){if(j(T))throw Error("division by zero");if(j(x))return new re(S,S);if(H(x))return T=fe(z(x),T),new re(z(T.g),z(T.h));if(H(T))return T=fe(x,z(T)),new re(z(T.g),T.h);if(30<x.g.length){if(H(x)||H(T))throw Error("slowDivide_ only works with positive integers.");for(var R=A,k=T;0>=k.l(x);)R=Re(R),k=Re(k);var D=Te(R,1),O=Te(k,1);for(k=Te(k,2),R=Te(R,2);!j(k);){var C=O.add(k);0>=C.l(x)&&(D=D.add(R),O=C),k=Te(k,1),R=Te(R,1)}return T=G(x,D.j(T)),new re(D,T)}for(D=S;0<=x.l(T);){for(R=Math.max(1,Math.floor(x.m()/T.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),O=v(R),C=O.j(T);H(C)||0<C.l(x);)R-=k,O=v(R),C=O.j(T);j(O)&&(O=A),D=D.add(O),x=G(x,C)}return new re(D,x)}i.A=function(x){return fe(this,x).h},i.and=function(x){for(var T=Math.max(this.g.length,x.g.length),R=[],k=0;k<T;k++)R[k]=this.i(k)&x.i(k);return new h(R,this.h&x.h)},i.or=function(x){for(var T=Math.max(this.g.length,x.g.length),R=[],k=0;k<T;k++)R[k]=this.i(k)|x.i(k);return new h(R,this.h|x.h)},i.xor=function(x){for(var T=Math.max(this.g.length,x.g.length),R=[],k=0;k<T;k++)R[k]=this.i(k)^x.i(k);return new h(R,this.h^x.h)};function Re(x){for(var T=x.g.length+1,R=[],k=0;k<T;k++)R[k]=x.i(k)<<1|x.i(k-1)>>>31;return new h(R,x.h)}function Te(x,T){var R=T>>5;T%=32;for(var k=x.g.length-R,D=[],O=0;O<k;O++)D[O]=0<T?x.i(O+R)>>>T|x.i(O+R+1)<<32-T:x.i(O+R);return new h(D,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,jy=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=E,ti=h}).apply(typeof Gm<"u"?Gm:typeof self<"u"?self:typeof window<"u"?window:{});var Ql=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Uy,la,zy,ru,Xh,By,$y,Hy;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,p,y){return l==Array.prototype||l==Object.prototype||(l[p]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ql=="object"&&Ql];for(var p=0;p<l.length;++p){var y=l[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function o(l,p){if(p)e:{var y=s;l=l.split(".");for(var w=0;w<l.length-1;w++){var F=l[w];if(!(F in y))break e;y=y[F]}l=l[l.length-1],w=y[l],p=p(w),p!=w&&p!=null&&e(y,l,{configurable:!0,writable:!0,value:p})}}function u(l,p){l instanceof String&&(l+="");var y=0,w=!1,F={next:function(){if(!w&&y<l.length){var $=y++;return{value:p($,l[$]),done:!1}}return w=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(l){return l||function(){return u(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function g(l){var p=typeof l;return p=p!="object"?p:l?Array.isArray(l)?"array":p:"null",p=="array"||p=="object"&&typeof l.length=="number"}function v(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function E(l,p,y){return l.call.apply(l.bind,arguments)}function S(l,p,y){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,w),l.apply(p,F)}}return function(){return l.apply(p,arguments)}}function A(l,p,y){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,A.apply(null,arguments)}function V(l,p){var y=Array.prototype.slice.call(arguments,1);return function(){var w=y.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function j(l,p){function y(){}y.prototype=p.prototype,l.aa=p.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(w,F,$){for(var te=Array(arguments.length-2),je=2;je<arguments.length;je++)te[je-2]=arguments[je];return p.prototype[F].apply(w,te)}}function H(l){const p=l.length;if(0<p){const y=Array(p);for(let w=0;w<p;w++)y[w]=l[w];return y}return[]}function z(l,p){for(let y=1;y<arguments.length;y++){const w=arguments[y];if(g(w)){const F=l.length||0,$=w.length||0;l.length=F+$;for(let te=0;te<$;te++)l[F+te]=w[te]}else l.push(w)}}class G{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function J(l){return/^[\s\xa0]*$/.test(l)}function re(){var l=f.navigator;return l&&(l=l.userAgent)?l:""}function fe(l){return fe[" "](l),l}fe[" "]=function(){};var Re=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function Te(l,p,y){for(const w in l)p.call(y,l[w],w,l)}function x(l,p){for(const y in l)p.call(void 0,l[y],y,l)}function T(l){const p={};for(const y in l)p[y]=l[y];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,p){let y,w;for(let F=1;F<arguments.length;F++){w=arguments[F];for(y in w)l[y]=w[y];for(let $=0;$<R.length;$++)y=R[$],Object.prototype.hasOwnProperty.call(w,y)&&(l[y]=w[y])}}function D(l){var p=1;l=l.split(":");const y=[];for(;0<p&&l.length;)y.push(l.shift()),p--;return l.length&&y.push(l.join(":")),y}function O(l){f.setTimeout(()=>{throw l},0)}function C(){var l=pe;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class tt{constructor(){this.h=this.g=null}add(p,y){const w=kt.get();w.set(p,y),this.h?this.h.next=w:this.g=w,this.h=w}}var kt=new G(()=>new xt,l=>l.reset());class xt{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Ue,ne=!1,pe=new tt,se=()=>{const l=f.Promise.resolve(void 0);Ue=()=>{l.then(M)}};var M=()=>{for(var l;l=C();){try{l.h.call(l.g)}catch(y){O(y)}var p=kt;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}ne=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};f.addEventListener("test",y,p),f.removeEventListener("test",y,p)}catch{}return l}();function Se(l,p){if(de.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(Re){e:{try{fe(p.nodeName);var F=!0;break e}catch{}F=!1}F||(p=null)}}else y=="mouseover"?p=l.fromElement:y=="mouseout"&&(p=l.toElement);this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:xe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Se.aa.h.call(this)}}j(Se,de);var xe={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function Be(l,p,y,w,F){this.listener=l,this.proxy=null,this.src=p,this.type=y,this.capture=!!w,this.ha=F,this.key=++Fe,this.da=this.fa=!1}function gt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function nr(l){this.src=l,this.g={},this.h=0}nr.prototype.add=function(l,p,y,w,F){var $=l.toString();l=this.g[$],l||(l=this.g[$]=[],this.h++);var te=Cr(l,p,w,F);return-1<te?(p=l[te],y||(p.fa=!1)):(p=new Be(p,this.src,$,!!w,F),p.fa=y,l.push(p)),p};function es(l,p){var y=p.type;if(y in l.g){var w=l.g[y],F=Array.prototype.indexOf.call(w,p,void 0),$;($=0<=F)&&Array.prototype.splice.call(w,F,1),$&&(gt(p),l.g[y].length==0&&(delete l.g[y],l.h--))}}function Cr(l,p,y,w){for(var F=0;F<l.length;++F){var $=l[F];if(!$.da&&$.listener==p&&$.capture==!!y&&$.ha==w)return F}return-1}var gi="closure_lm_"+(1e6*Math.random()|0),ts={};function co(l,p,y,w,F){if(Array.isArray(p)){for(var $=0;$<p.length;$++)co(l,p[$],y,w,F);return null}return y=po(y),l&&l[Oe]?l.K(p,y,v(w)?!!w.capture:!!w,F):ho(l,p,y,!1,w,F)}function ho(l,p,y,w,F,$){if(!p)throw Error("Invalid event type");var te=v(F)?!!F.capture:!!F,je=rs(l);if(je||(l[gi]=je=new nr(l)),y=je.add(p,y,w,te,$),y.proxy)return y;if(w=Da(),y.proxy=w,w.src=l,w.listener=y,l.addEventListener)Ie||(F=te),F===void 0&&(F=!1),l.addEventListener(p.toString(),w,F);else if(l.attachEvent)l.attachEvent(ir(p.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Da(){function l(y){return p.call(l.src,l.listener,y)}const p=fo;return l}function ns(l,p,y,w,F){if(Array.isArray(p))for(var $=0;$<p.length;$++)ns(l,p[$],y,w,F);else w=v(w)?!!w.capture:!!w,y=po(y),l&&l[Oe]?(l=l.i,p=String(p).toString(),p in l.g&&($=l.g[p],y=Cr($,y,w,F),-1<y&&(gt($[y]),Array.prototype.splice.call($,y,1),$.length==0&&(delete l.g[p],l.h--)))):l&&(l=rs(l))&&(p=l.g[p.toString()],l=-1,p&&(l=Cr(p,y,w,F)),(y=-1<l?p[l]:null)&&rr(y))}function rr(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[Oe])es(p.i,l);else{var y=l.type,w=l.proxy;p.removeEventListener?p.removeEventListener(y,w,l.capture):p.detachEvent?p.detachEvent(ir(y),w):p.addListener&&p.removeListener&&p.removeListener(w),(y=rs(p))?(es(y,l),y.h==0&&(y.src=null,p[gi]=null)):gt(l)}}}function ir(l){return l in ts?ts[l]:ts[l]="on"+l}function fo(l,p){if(l.da)l=!0;else{p=new Se(p,this);var y=l.listener,w=l.ha||l.src;l.fa&&rr(l),l=y.call(w,p)}return l}function rs(l){return l=l[gi],l instanceof nr?l:null}var is="__closure_events_fn_"+(1e9*Math.random()>>>0);function po(l){return typeof l=="function"?l:(l[is]||(l[is]=function(p){return l.handleEvent(p)}),l[is])}function lt(){K.call(this),this.i=new nr(this),this.M=this,this.F=null}j(lt,K),lt.prototype[Oe]=!0,lt.prototype.removeEventListener=function(l,p,y,w){ns(this,l,p,y,w)};function ut(l,p){var y,w=l.F;if(w)for(y=[];w;w=w.F)y.push(w);if(l=l.M,w=p.type||p,typeof p=="string")p=new de(p,l);else if(p instanceof de)p.target=p.target||l;else{var F=p;p=new de(w,l),k(p,F)}if(F=!0,y)for(var $=y.length-1;0<=$;$--){var te=p.g=y[$];F=sr(te,w,!0,p)&&F}if(te=p.g=l,F=sr(te,w,!0,p)&&F,F=sr(te,w,!1,p)&&F,y)for($=0;$<y.length;$++)te=p.g=y[$],F=sr(te,w,!1,p)&&F}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var l=this.i,p;for(p in l.g){for(var y=l.g[p],w=0;w<y.length;w++)gt(y[w]);delete l.g[p],l.h--}}this.F=null},lt.prototype.K=function(l,p,y,w){return this.i.add(String(l),p,!1,y,w)},lt.prototype.L=function(l,p,y,w){return this.i.add(String(l),p,!0,y,w)};function sr(l,p,y,w){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();for(var F=!0,$=0;$<p.length;++$){var te=p[$];if(te&&!te.da&&te.capture==y){var je=te.listener,ct=te.ha||te.src;te.fa&&es(l.i,te),F=je.call(ct,w)!==!1&&F}}return F&&!w.defaultPrevented}function mo(l,p,y){if(typeof l=="function")y&&(l=A(l,y));else if(l&&typeof l.handleEvent=="function")l=A(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:f.setTimeout(l,p||0)}function Pr(l){l.g=mo(()=>{l.g=null,l.i&&(l.i=!1,Pr(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class yi extends K{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Pr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vi(l){K.call(this),this.h=l,this.g={}}j(vi,K);var go=[];function yo(l){Te(l.g,function(p,y){this.g.hasOwnProperty(y)&&rr(p)},l),l.g={}}vi.prototype.N=function(){vi.aa.N.call(this),yo(this)},vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vo=f.JSON.stringify,_o=f.JSON.parse,wo=class{stringify(l){return f.JSON.stringify(l,void 0)}parse(l){return f.JSON.parse(l,void 0)}};function _i(){}_i.prototype.h=null;function ss(l){return l.h||(l.h=l.i())}function os(){}var un={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fn(){de.call(this,"d")}j(Fn,de);function as(){de.call(this,"c")}j(as,de);var bn={},Eo=null;function wi(){return Eo=Eo||new lt}bn.La="serverreachability";function To(l){de.call(this,bn.La,l)}j(To,de);function or(l){const p=wi();ut(p,new To(p))}bn.STAT_EVENT="statevent";function Io(l,p){de.call(this,bn.STAT_EVENT,l),this.stat=p}j(Io,de);function nt(l){const p=wi();ut(p,new Io(p,l))}bn.Ma="timingevent";function ls(l,p){de.call(this,bn.Ma,l),this.size=p}j(ls,de);function _n(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){l()},p)}function Ei(){this.g=!0}Ei.prototype.xa=function(){this.g=!1};function Ti(l,p,y,w,F,$){l.info(function(){if(l.g)if($)for(var te="",je=$.split("&"),ct=0;ct<je.length;ct++){var Ne=je[ct].split("=");if(1<Ne.length){var yt=Ne[0];Ne=Ne[1];var st=yt.split("_");te=2<=st.length&&st[1]=="type"?te+(yt+"="+Ne+"&"):te+(yt+"=redacted&")}}else te=null;else te=$;return"XMLHTTP REQ ("+w+") [attempt "+F+"]: "+p+`
`+y+`
`+te})}function us(l,p,y,w,F,$,te){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+F+"]: "+p+`
`+y+`
`+$+" "+te})}function wn(l,p,y,w){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+Ju(l,y)+(w?" "+w:"")})}function So(l,p){l.info(function(){return"TIMEOUT: "+p})}Ei.prototype.info=function(){};function Ju(l,p){if(!l.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var w=y[l];if(!(2>w.length)){var F=w[1];if(Array.isArray(F)&&!(1>F.length)){var $=F[0];if($!="noop"&&$!="stop"&&$!="close")for(var te=1;te<F.length;te++)F[te]=""}}}}return vo(y)}catch{return p}}var cs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Va={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},En;function Ii(){}j(Ii,_i),Ii.prototype.g=function(){return new XMLHttpRequest},Ii.prototype.i=function(){return{}},En=new Ii;function Tn(l,p,y,w){this.j=l,this.i=p,this.l=y,this.R=w||1,this.U=new vi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new La}function La(){this.i=null,this.g="",this.h=!1}var Ao={},hs={};function ds(l,p,y){l.L=1,l.v=Vr(en(p)),l.m=y,l.P=!0,Ro(l,null)}function Ro(l,p){l.F=Date.now(),$e(l),l.A=en(l.v);var y=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),Mr(y.i,"t",w),l.C=0,y=l.j.J,l.h=new La,l.g=Ja(l.j,y?p:null,!l.m),0<l.O&&(l.M=new yi(A(l.Y,l,l.g),l.O)),p=l.U,y=l.g,w=l.ca;var F="readystatechange";Array.isArray(F)||(F&&(go[0]=F.toString()),F=go);for(var $=0;$<F.length;$++){var te=co(y,F[$],w||p.handleEvent,!1,p.h||p);if(!te)break;p.g[te.key]=te}p=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),or(),Ti(l.i,l.u,l.A,l.l,l.R,l.m)}Tn.prototype.ca=function(l){l=l.target;const p=this.M;p&&$t(l)==3?p.j():this.Y(l)},Tn.prototype.Y=function(l){try{if(l==this.g)e:{const st=$t(this.g);var p=this.g.Ba();const dn=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||Do(this.g)))){this.J||st!=4||p==7||(p==8||0>=dn?or(3):or(2)),Si(this);var y=this.g.Z();this.X=y;t:if(Ma(this)){var w=Do(this.g);l="";var F=w.length,$=$t(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cn(this),kr(this);var te="";break t}this.h.i=new f.TextDecoder}for(p=0;p<F;p++)this.h.h=!0,l+=this.h.i.decode(w[p],{stream:!($&&p==F-1)});w.length=0,this.h.g+=l,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=y==200,us(this.i,this.u,this.A,this.l,this.R,st,y),this.o){if(this.T&&!this.K){t:{if(this.g){var je,ct=this.g;if((je=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(je)){var Ne=je;break t}}Ne=null}if(y=Ne)wn(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Co(this,y);else{this.o=!1,this.s=3,nt(12),cn(this),kr(this);break e}}if(this.P){y=!0;let nn;for(;!this.J&&this.C<te.length;)if(nn=Zu(this,te),nn==hs){st==4&&(this.s=4,nt(14),y=!1),wn(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==Ao){this.s=4,nt(15),wn(this.i,this.l,te,"[Invalid Chunk]"),y=!1;break}else wn(this.i,this.l,nn,null),Co(this,nn);if(Ma(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||te.length!=0||this.h.h||(this.s=1,nt(16),y=!1),this.o=this.o&&y,!y)wn(this.i,this.l,te,"[Invalid Chunked Response]"),cn(this),kr(this);else if(0<te.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),Lo(yt),yt.M=!0,nt(11))}}else wn(this.i,this.l,te,null),Co(this,te);st==4&&cn(this),this.o&&!this.J&&(st==4?Is(this.j,this):(this.o=!1,$e(this)))}else vs(this.g),y==400&&0<te.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),cn(this),kr(this)}}}catch{}finally{}};function Ma(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Zu(l,p){var y=l.C,w=p.indexOf(`
`,y);return w==-1?hs:(y=Number(p.substring(y,w)),isNaN(y)?Ao:(w+=1,w+y>p.length?hs:(p=p.slice(w,w+y),l.C=w+y,p)))}Tn.prototype.cancel=function(){this.J=!0,cn(this)};function $e(l){l.S=Date.now()+l.I,Oa(l,l.I)}function Oa(l,p){if(l.B!=null)throw Error("WatchDog timer not null");l.B=_n(A(l.ba,l),p)}function Si(l){l.B&&(f.clearTimeout(l.B),l.B=null)}Tn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(So(this.i,this.A),this.L!=2&&(or(),nt(17)),cn(this),this.s=2,kr(this)):Oa(this,this.S-l)};function kr(l){l.j.G==0||l.J||Is(l.j,l)}function cn(l){Si(l);var p=l.M;p&&typeof p.ma=="function"&&p.ma(),l.M=null,yo(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function Co(l,p){try{var y=l.j;if(y.G!=0&&(y.g==l||bt(y.h,l))){if(!l.K&&bt(y.h,l)&&y.G==3){try{var w=y.Da.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var F=w;if(F[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)Ts(y),Cn(y);else break e;Es(y),nt(18)}}else y.za=F[1],0<y.za-y.T&&37500>F[2]&&y.F&&y.v==0&&!y.C&&(y.C=_n(A(y.Za,y),6e3));if(1>=ba(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else hr(y,11)}else if((l.K||y.g==l)&&Ts(y),!J(p))for(F=y.Da.g.parse(p),p=0;p<F.length;p++){let Ne=F[p];if(y.T=Ne[0],Ne=Ne[1],y.G==2)if(Ne[0]=="c"){y.K=Ne[1],y.ia=Ne[2];const yt=Ne[3];yt!=null&&(y.la=yt,y.j.info("VER="+y.la));const st=Ne[4];st!=null&&(y.Aa=st,y.j.info("SVER="+y.Aa));const dn=Ne[5];dn!=null&&typeof dn=="number"&&0<dn&&(w=1.5*dn,y.L=w,y.j.info("backChannelRequestTimeoutMs_="+w)),w=y;const nn=l.g;if(nn){const Ni=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ni){var $=w.h;$.g||Ni.indexOf("spdy")==-1&&Ni.indexOf("quic")==-1&&Ni.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Po($,$.h),$.h=null))}if(w.D){const As=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;As&&(w.ya=As,ze(w.I,w.D,As))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),w=y;var te=l;if(w.qa=Xa(w,w.J?w.ia:null,w.W),te.K){ja(w.h,te);var je=te,ct=w.L;ct&&(je.I=ct),je.B&&(Si(je),$e(je)),w.g=te}else xi(w);0<y.i.length&&Bn(y)}else Ne[0]!="stop"&&Ne[0]!="close"||hr(y,7);else y.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?hr(y,7):It(y):Ne[0]!="noop"&&y.l&&y.l.ta(Ne),y.v=0)}}or(4)}catch{}}var Fa=class{constructor(l,p){this.g=l,this.map=p}};function Ai(l){this.l=l||10,f.PerformanceNavigationTiming?(l=f.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function ba(l){return l.h?1:l.g?l.g.size:0}function bt(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function Po(l,p){l.g?l.g.add(p):l.h=p}function ja(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}Ai.prototype.cancel=function(){if(this.i=Ua(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Ua(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const y of l.g.values())p=p.concat(y.D);return p}return H(l.i)}function fs(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var p=[],y=l.length,w=0;w<y;w++)p.push(l[w]);return p}p=[],y=0;for(w in l)p[y++]=l[w];return p}function ps(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var p=[];l=l.length;for(var y=0;y<l;y++)p.push(y);return p}p=[],y=0;for(const w in l)p[y++]=w;return p}}}function xr(l,p){if(l.forEach&&typeof l.forEach=="function")l.forEach(p,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,p,void 0);else for(var y=ps(l),w=fs(l),F=w.length,$=0;$<F;$++)p.call(void 0,w[$],y&&y[$],l)}var Ri=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ec(l,p){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var w=l[y].indexOf("="),F=null;if(0<=w){var $=l[y].substring(0,w);F=l[y].substring(w+1)}else $=l[y];p($,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function ar(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ar){this.h=l.h,Ci(this,l.j),this.o=l.o,this.g=l.g,Nr(this,l.s),this.l=l.l;var p=l.i,y=new jn;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),Dr(this,y),this.m=l.m}else l&&(p=String(l).match(Ri))?(this.h=!1,Ci(this,p[1]||"",!0),this.o=Pe(p[2]||""),this.g=Pe(p[3]||"",!0),Nr(this,p[4]),this.l=Pe(p[5]||"",!0),Dr(this,p[6]||"",!0),this.m=Pe(p[7]||"")):(this.h=!1,this.i=new jn(null,this.h))}ar.prototype.toString=function(){var l=[],p=this.j;p&&l.push(Lr(p,ms,!0),":");var y=this.g;return(y||p=="file")&&(l.push("//"),(p=this.o)&&l.push(Lr(p,ms,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Lr(y,y.charAt(0)=="/"?$a:Ba,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Lr(y,ko)),l.join("")};function en(l){return new ar(l)}function Ci(l,p,y){l.j=y?Pe(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function Nr(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function Dr(l,p,y){p instanceof jn?(l.i=p,Un(l.i,l.h)):(y||(p=Lr(p,Ha)),l.i=new jn(p,l.h))}function ze(l,p,y){l.i.set(p,y)}function Vr(l){return ze(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Pe(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Lr(l,p,y){return typeof l=="string"?(l=encodeURI(l).replace(p,za),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function za(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var ms=/[#\/\?@]/g,Ba=/[#\?:]/g,$a=/[#\?]/g,Ha=/[#\?@]/g,ko=/#/g;function jn(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function Tt(l){l.g||(l.g=new Map,l.h=0,l.i&&ec(l.i,function(p,y){l.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}i=jn.prototype,i.add=function(l,p){Tt(this),this.i=null,l=hn(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(p),this.h+=1,this};function In(l,p){Tt(l),p=hn(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function Sn(l,p){return Tt(l),p=hn(l,p),l.g.has(p)}i.forEach=function(l,p){Tt(this),this.g.forEach(function(y,w){y.forEach(function(F){l.call(p,F,w,this)},this)},this)},i.na=function(){Tt(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let w=0;w<p.length;w++){const F=l[w];for(let $=0;$<F.length;$++)y.push(p[w])}return y},i.V=function(l){Tt(this);let p=[];if(typeof l=="string")Sn(this,l)&&(p=p.concat(this.g.get(hn(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)p=p.concat(l[y])}return p},i.set=function(l,p){return Tt(this),this.i=null,l=hn(this,l),Sn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},i.get=function(l,p){return l?(l=this.V(l),0<l.length?String(l[0]):p):p};function Mr(l,p,y){In(l,p),0<y.length&&(l.i=null,l.g.set(hn(l,p),H(y)),l.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var w=p[y];const $=encodeURIComponent(String(w)),te=this.V(w);for(w=0;w<te.length;w++){var F=$;te[w]!==""&&(F+="="+encodeURIComponent(String(te[w]))),l.push(F)}}return this.i=l.join("&")};function hn(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function Un(l,p){p&&!l.j&&(Tt(l),l.i=null,l.g.forEach(function(y,w){var F=w.toLowerCase();w!=F&&(In(this,w),Mr(this,F,y))},l)),l.j=p}function tc(l,p){const y=new Ei;if(f.Image){const w=new Image;w.onload=V(Bt,y,"TestLoadImage: loaded",!0,p,w),w.onerror=V(Bt,y,"TestLoadImage: error",!1,p,w),w.onabort=V(Bt,y,"TestLoadImage: abort",!1,p,w),w.ontimeout=V(Bt,y,"TestLoadImage: timeout",!1,p,w),f.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else p(!1)}function qa(l,p){const y=new Ei,w=new AbortController,F=setTimeout(()=>{w.abort(),Bt(y,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:w.signal}).then($=>{clearTimeout(F),$.ok?Bt(y,"TestPingServer: ok",!0,p):Bt(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(F),Bt(y,"TestPingServer: error",!1,p)})}function Bt(l,p,y,w,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),w(y)}catch{}}function nc(){this.g=new wo}function Wa(l,p,y){const w=y||"";try{xr(l,function(F,$){let te=F;v(F)&&(te=vo(F)),p.push(w+$+"="+encodeURIComponent(te))})}catch(F){throw p.push(w+"type="+encodeURIComponent("_badmap")),F}}function lr(l){this.l=l.Ub||null,this.j=l.eb||!1}j(lr,_i),lr.prototype.g=function(){return new Pi(this.l,this.j)},lr.prototype.i=function(l){return function(){return l}}({});function Pi(l,p){lt.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(Pi,lt),i=Pi.prototype,i.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,Rn(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||f).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,An(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Rn(this)),this.g&&(this.readyState=3,Rn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ka(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ka(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?An(this):Rn(this),this.readyState==3&&Ka(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,An(this))},i.Qa=function(l){this.g&&(this.response=l,An(this))},i.ga=function(){this.g&&An(this)};function An(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Rn(l)}i.setRequestHeader=function(l,p){this.u.append(l,p)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=p.next();return l.join(`\r
`)};function Rn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function ur(l){let p="";return Te(l,function(y,w){p+=w,p+=":",p+=y,p+=`\r
`}),p}function Or(l,p,y){e:{for(w in y){var w=!1;break e}w=!0}w||(y=ur(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):ze(l,p,y))}function Ke(l){lt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(Ke,lt);var rc=/^https?$/i,xo=["POST","PUT"];i=Ke.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,p,y,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():En.g(),this.v=this.o?ss(this.o):ss(En),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch($){ki(this,$);return}if(l=y||"",y=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var F in w)y.set(F,w[F]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const $ of w.keys())y.set($,w.get($));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(y.keys()).find($=>$.toLowerCase()=="content-type"),F=f.FormData&&l instanceof f.FormData,!(0<=Array.prototype.indexOf.call(xo,p,void 0))||w||F||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,te]of y)this.g.setRequestHeader($,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ys(this),this.u=!0,this.g.send(l),this.u=!1}catch($){ki(this,$)}};function ki(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,gs(l),tn(l)}function gs(l){l.A||(l.A=!0,ut(l,"complete"),ut(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ut(this,"complete"),ut(this,"abort"),tn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tn(this,!0)),Ke.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?No(this):this.bb())},i.bb=function(){No(this)};function No(l){if(l.h&&typeof h<"u"&&(!l.v[1]||$t(l)!=4||l.Z()!=2)){if(l.u&&$t(l)==4)mo(l.Ea,0,l);else if(ut(l,"readystatechange"),$t(l)==4){l.h=!1;try{const te=l.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var w;if(w=te===0){var F=String(l.D).match(Ri)[1]||null;!F&&f.self&&f.self.location&&(F=f.self.location.protocol.slice(0,-1)),w=!rc.test(F?F.toLowerCase():"")}y=w}if(y)ut(l,"complete"),ut(l,"success");else{l.m=6;try{var $=2<$t(l)?l.g.statusText:""}catch{$=""}l.l=$+" ["+l.Z()+"]",gs(l)}}finally{tn(l)}}}}function tn(l,p){if(l.g){ys(l);const y=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||ut(l,"ready");try{y.onreadystatechange=w}catch{}}}function ys(l){l.I&&(f.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function $t(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<$t(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),_o(p)}};function Do(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function vs(l){const p={};l=(l.g&&2<=$t(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(J(l[w]))continue;var y=D(l[w]);const F=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const $=p[F]||[];p[F]=$,$.push(y)}x(p,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zn(l,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||p}function Vo(l){this.Aa=0,this.i=[],this.j=new Ei,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zn("baseRetryDelayMs",5e3,l),this.cb=zn("retryDelaySeedMs",1e4,l),this.Wa=zn("forwardChannelMaxRetries",2,l),this.wa=zn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Ai(l&&l.concurrentRequestLimit),this.Da=new nc,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Vo.prototype,i.la=8,i.G=1,i.connect=function(l,p,y,w){nt(0),this.W=l,this.H=p||{},y&&w!==void 0&&(this.H.OSID=y,this.H.OAID=w),this.F=this.X,this.I=Xa(this,null,this.W),Bn(this)};function It(l){if(_s(l),l.G==3){var p=l.U++,y=en(l.I);if(ze(y,"SID",l.K),ze(y,"RID",p),ze(y,"TYPE","terminate"),cr(l,y),p=new Tn(l,l.j,p),p.L=2,p.v=Vr(en(y)),y=!1,f.navigator&&f.navigator.sendBeacon)try{y=f.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&f.Image&&(new Image().src=p.v,y=!0),y||(p.g=Ja(p.j,null),p.g.ea(p.v)),p.F=Date.now(),$e(p)}Ya(l)}function Cn(l){l.g&&(Lo(l),l.g.cancel(),l.g=null)}function _s(l){Cn(l),l.u&&(f.clearTimeout(l.u),l.u=null),Ts(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&f.clearTimeout(l.s),l.s=null)}function Bn(l){if(!Zt(l.h)&&!l.s){l.s=!0;var p=l.Ga;Ue||se(),ne||(Ue(),ne=!0),pe.add(p,l),l.B=0}}function ic(l,p){return ba(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=p.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=_n(A(l.Ga,l,p),Qa(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const F=new Tn(this,this.j,l);let $=this.o;if(this.S&&($?($=T($),k($,this.S)):$=this.S),this.m!==null||this.O||(F.H=$,$=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var w=this.i[y];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=Fr(this,F,p),y=en(this.I),ze(y,"RID",l),ze(y,"CVER",22),this.D&&ze(y,"X-HTTP-Session-Id",this.D),cr(this,y),$&&(this.O?p="headers="+encodeURIComponent(String(ur($)))+"&"+p:this.m&&Or(y,this.m,$)),Po(this.h,F),this.Ua&&ze(y,"TYPE","init"),this.P?(ze(y,"$req",p),ze(y,"SID","null"),F.T=!0,ds(F,y,null)):ds(F,y,p),this.G=2}}else this.G==3&&(l?ws(this,l):this.i.length==0||Zt(this.h)||ws(this))};function ws(l,p){var y;p?y=p.l:y=l.U++;const w=en(l.I);ze(w,"SID",l.K),ze(w,"RID",y),ze(w,"AID",l.T),cr(l,w),l.m&&l.o&&Or(w,l.m,l.o),y=new Tn(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),p&&(l.i=p.D.concat(l.i)),p=Fr(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Po(l.h,y),ds(y,w,p)}function cr(l,p){l.H&&Te(l.H,function(y,w){ze(p,w,y)}),l.l&&xr({},function(y,w){ze(p,w,y)})}function Fr(l,p,y){y=Math.min(l.i.length,y);var w=l.l?A(l.l.Na,l.l,l):null;e:{var F=l.i;let $=-1;for(;;){const te=["count="+y];$==-1?0<y?($=F[0].g,te.push("ofs="+$)):$=0:te.push("ofs="+$);let je=!0;for(let ct=0;ct<y;ct++){let Ne=F[ct].g;const yt=F[ct].map;if(Ne-=$,0>Ne)$=Math.max(0,F[ct].g-100),je=!1;else try{Wa(yt,te,"req"+Ne+"_")}catch{w&&w(yt)}}if(je){w=te.join("&");break e}}}return l=l.i.splice(0,y),p.D=l,w}function xi(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;Ue||se(),ne||(Ue(),ne=!0),pe.add(p,l),l.v=0}}function Es(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=_n(A(l.Fa,l),Qa(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Ga(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=_n(A(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),Cn(this),Ga(this))};function Lo(l){l.A!=null&&(f.clearTimeout(l.A),l.A=null)}function Ga(l){l.g=new Tn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var p=en(l.qa);ze(p,"RID","rpc"),ze(p,"SID",l.K),ze(p,"AID",l.T),ze(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&ze(p,"TO",l.ja),ze(p,"TYPE","xmlhttp"),cr(l,p),l.m&&l.o&&Or(p,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=Vr(en(p)),y.m=null,y.P=!0,Ro(y,l)}i.Za=function(){this.C!=null&&(this.C=null,Cn(this),Es(this),nt(19))};function Ts(l){l.C!=null&&(f.clearTimeout(l.C),l.C=null)}function Is(l,p){var y=null;if(l.g==p){Ts(l),Lo(l),l.g=null;var w=2}else if(bt(l.h,p))y=p.D,ja(l.h,p),w=1;else return;if(l.G!=0){if(p.o)if(w==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var F=l.B;w=wi(),ut(w,new ls(w,y)),Bn(l)}else xi(l);else if(F=p.s,F==3||F==0&&0<p.X||!(w==1&&ic(l,p)||w==2&&Es(l)))switch(y&&0<y.length&&(p=l.h,p.i=p.i.concat(y)),F){case 1:hr(l,5);break;case 4:hr(l,10);break;case 3:hr(l,6);break;default:hr(l,2)}}}function Qa(l,p){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*p}function hr(l,p){if(l.j.info("Error code "+p),p==2){var y=A(l.fb,l),w=l.Xa;const F=!w;w=new ar(w||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ci(w,"https"),Vr(w),F?tc(w.toString(),y):qa(w.toString(),y)}else nt(2);l.G=0,l.l&&l.l.sa(p),Ya(l),_s(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function Ya(l){if(l.G=0,l.ka=[],l.l){const p=Ua(l.h);(p.length!=0||l.i.length!=0)&&(z(l.ka,p),z(l.ka,l.i),l.h.i.length=0,H(l.i),l.i.length=0),l.l.ra()}}function Xa(l,p,y){var w=y instanceof ar?en(y):new ar(y);if(w.g!="")p&&(w.g=p+"."+w.g),Nr(w,w.s);else{var F=f.location;w=F.protocol,p=p?p+"."+F.hostname:F.hostname,F=+F.port;var $=new ar(null);w&&Ci($,w),p&&($.g=p),F&&Nr($,F),y&&($.l=y),w=$}return y=l.D,p=l.ya,y&&p&&ze(w,y,p),ze(w,"VER",l.la),cr(l,w),w}function Ja(l,p,y){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Ca&&!l.pa?new Ke(new lr({eb:y})):new Ke(l.pa),p.Ha(l.J),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mo(){}i=Mo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ss(){}Ss.prototype.g=function(l,p){return new jt(l,p)};function jt(l,p){lt.call(this),this.g=new Vo(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!J(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!J(p)&&(this.g.D=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new $n(this)}j(jt,lt),jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jt.prototype.close=function(){It(this.g)},jt.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=vo(l),l=y);p.i.push(new Fa(p.Ya++,l)),p.G==3&&Bn(p)},jt.prototype.N=function(){this.g.l=null,delete this.j,It(this.g),delete this.g,jt.aa.N.call(this)};function Za(l){Fn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const y in p){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}j(Za,Fn);function el(){as.call(this),this.status=1}j(el,as);function $n(l){this.g=l}j($n,Mo),$n.prototype.ua=function(){ut(this.g,"a")},$n.prototype.ta=function(l){ut(this.g,new Za(l))},$n.prototype.sa=function(l){ut(this.g,new el)},$n.prototype.ra=function(){ut(this.g,"b")},Ss.prototype.createWebChannel=Ss.prototype.g,jt.prototype.send=jt.prototype.o,jt.prototype.open=jt.prototype.m,jt.prototype.close=jt.prototype.close,Hy=function(){return new Ss},$y=function(){return wi()},By=bn,Xh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cs.NO_ERROR=0,cs.TIMEOUT=8,cs.HTTP_ERROR=6,ru=cs,Va.COMPLETE="complete",zy=Va,os.EventType=un,un.OPEN="a",un.CLOSE="b",un.ERROR="c",un.MESSAGE="d",lt.prototype.listen=lt.prototype.K,la=os,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,Uy=Ke}).apply(typeof Ql<"u"?Ql:typeof self<"u"?self:typeof window<"u"?window:{});const Qm="@firebase/firestore",Ym="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oo="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=new Ed("@firebase/firestore");function Ws(){return Yi.logLevel}function oe(i,...e){if(Yi.logLevel<=Ve.DEBUG){const n=e.map(Pd);Yi.debug(`Firestore (${oo}): ${i}`,...n)}}function Sr(i,...e){if(Yi.logLevel<=Ve.ERROR){const n=e.map(Pd);Yi.error(`Firestore (${oo}): ${i}`,...n)}}function Xs(i,...e){if(Yi.logLevel<=Ve.WARN){const n=e.map(Pd);Yi.warn(`Firestore (${oo}): ${i}`,...n)}}function Pd(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(i="Unexpected state"){const e=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: `+i;throw Sr(e),new Error(e)}function be(i,e){i||ve()}function Ee(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Q1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ot.UNAUTHENTICATED))}shutdown(){}}class Y1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class X1{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){be(this.o===void 0);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new ni;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ni,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},f=g=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>f(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ni)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(be(typeof s.accessToken=="string"),new qy(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string"),new Ot(e)}}class J1{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Z1{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new J1(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xm{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eI{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,pT(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){be(this.o===void 0);const s=u=>{u.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,oe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Xm(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(be(typeof n.token=="string"),this.R=n.token,new Xm(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=tI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ke(i,e){return i<e?-1:i>e?1:0}function Js(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm=-62135596800,Zm=1e6;class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Zm);return new pt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Jm)throw new he(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zm}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Jm;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new pt(0,0))}static max(){return new we(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="__name__";class Gn{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(),s===void 0?s=e.length-n:s>e.length-n&&ve(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Gn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gn?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Gn.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=Gn.isNumericId(e),o=Gn.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Gn.extractNumericId(e).compare(Gn.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ti.fromString(e.substring(4,e.length-2))}}class Qe extends Gn{construct(e,n,s){return new Qe(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new Qe(n)}static emptyPath(){return new Qe([])}}const nI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends Gn{construct(e,n,s){return new Ct(e,n,s)}static isValidIdentifier(e){return nI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===eg}static keyField(){return new Ct([eg])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new he(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(s+=f,o++):(u(),o++)}if(u(),h)throw new he(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Qe.fromString(e))}static fromName(e){return new ye(Qe.fromString(e).popFirst(5))}static empty(){return new ye(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Qe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=-1;function rI(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new pt(n+1,0):new pt(n,s));return new oi(o,ye.empty(),e)}function iI(i){return new oi(i.readTime,i.key,va)}class oi{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new oi(we.min(),ye.empty(),va)}static max(){return new oi(we.max(),ye.empty(),va)}}function sI(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(i.documentKey,e.documentKey),n!==0?n:ke(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(i){if(i.code!==X.FAILED_PRECONDITION||i.message!==oI)throw i;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,s)=>{n(e)})}static reject(e){return new W((n,s)=>{s(e)})}static waitFor(e){return new W((n,s)=>{let o=0,u=0,h=!1;e.forEach(f=>{++o,f.next(()=>{++u,h&&u===o&&n()},g=>s(g))}),h=!0,u===o&&n()})}static or(e){let n=W.resolve(!1);for(const s of e)n=n.next(o=>o?W.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new W((s,o)=>{const u=e.length,h=new Array(u);let f=0;for(let g=0;g<u;g++){const v=g;n(e[v]).next(E=>{h[v]=E,++f,f===u&&s(h)},E=>o(E))}})}static doWhile(e,n){return new W((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function lI(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function lo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Mu.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd=-1;function Ou(i){return i==null}function gu(i){return i===0&&1/i==-1/0}function uI(i){return typeof i=="number"&&Number.isInteger(i)&&!gu(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="";function cI(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=tg(e)),e=hI(i.get(n),e);return tg(e)}function hI(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case Ky:n+="";break;default:n+=u}}return n}function tg(i){return i+Ky+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function pi(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Gy(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new Ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yl(this.root,e,this.comparator,!0)}}class Yl{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Rt.RED,this.left=o??Rt.EMPTY,this.right=u??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Rt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Rt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,n,s,o,u){return this}insert(e,n,s){return new Rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rg(this.data.getIterator())}getIteratorFrom(e){return new rg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mt(this.comparator);return n.data=e,n}}class rg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new an([])}unionWith(e){let n=new mt(Ct.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new an(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Js(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Qy("Invalid base64 string: "+u):u}}(e);return new Pt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const dI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ai(i){if(be(!!i),typeof i=="string"){let e=0;const n=dI.exec(i);if(be(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:it(i.seconds),nanos:it(i.nanos)}}function it(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function li(i){return typeof i=="string"?Pt.fromBase64String(i):Pt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="server_timestamp",Xy="__type__",Jy="__previous_value__",Zy="__local_write_time__";function xd(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Xy])===null||n===void 0?void 0:n.stringValue)===Yy}function Fu(i){const e=i.mapValue.fields[Jy];return xd(e)?Fu(e):e}function _a(i){const e=ai(i.mapValue.fields[Zy].timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,n,s,o,u,h,f,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=g,this.useFetchStreams=v}}const yu="(default)";class wa{constructor(e,n){this.projectId=e,this.database=n||yu}static empty(){return new wa("","")}get isDefaultDatabase(){return this.database===yu}isEqual(e){return e instanceof wa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="__type__",tv="__max__",Xl={mapValue:{fields:{__type__:{stringValue:tv}}}},nv="__vector__",vu="value";function ui(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?xd(i)?4:mI(i)?9007199254740991:pI(i)?10:11:ve()}function Zn(i,e){if(i===e)return!0;const n=ui(i);if(n!==ui(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return _a(i).isEqual(_a(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ai(o.timestampValue),f=ai(u.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return li(o.bytesValue).isEqual(li(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return it(o.geoPointValue.latitude)===it(u.geoPointValue.latitude)&&it(o.geoPointValue.longitude)===it(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return it(o.integerValue)===it(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=it(o.doubleValue),f=it(u.doubleValue);return h===f?gu(h)===gu(f):isNaN(h)&&isNaN(f)}return!1}(i,e);case 9:return Js(i.arrayValue.values||[],e.arrayValue.values||[],Zn);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},f=u.mapValue.fields||{};if(ng(h)!==ng(f))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(f[g]===void 0||!Zn(h[g],f[g])))return!1;return!0}(i,e);default:return ve()}}function Ea(i,e){return(i.values||[]).find(n=>Zn(n,e))!==void 0}function Zs(i,e){if(i===e)return 0;const n=ui(i),s=ui(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(i.booleanValue,e.booleanValue);case 2:return function(u,h){const f=it(u.integerValue||u.doubleValue),g=it(h.integerValue||h.doubleValue);return f<g?-1:f>g?1:f===g?0:isNaN(f)?isNaN(g)?0:-1:1}(i,e);case 3:return ig(i.timestampValue,e.timestampValue);case 4:return ig(_a(i),_a(e));case 5:return ke(i.stringValue,e.stringValue);case 6:return function(u,h){const f=li(u),g=li(h);return f.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const f=u.split("/"),g=h.split("/");for(let v=0;v<f.length&&v<g.length;v++){const E=ke(f[v],g[v]);if(E!==0)return E}return ke(f.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const f=ke(it(u.latitude),it(h.latitude));return f!==0?f:ke(it(u.longitude),it(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return sg(i.arrayValue,e.arrayValue);case 10:return function(u,h){var f,g,v,E;const S=u.fields||{},A=h.fields||{},V=(f=S[vu])===null||f===void 0?void 0:f.arrayValue,j=(g=A[vu])===null||g===void 0?void 0:g.arrayValue,H=ke(((v=V==null?void 0:V.values)===null||v===void 0?void 0:v.length)||0,((E=j==null?void 0:j.values)===null||E===void 0?void 0:E.length)||0);return H!==0?H:sg(V,j)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===Xl.mapValue&&h===Xl.mapValue)return 0;if(u===Xl.mapValue)return 1;if(h===Xl.mapValue)return-1;const f=u.fields||{},g=Object.keys(f),v=h.fields||{},E=Object.keys(v);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const A=ke(g[S],E[S]);if(A!==0)return A;const V=Zs(f[g[S]],v[E[S]]);if(V!==0)return V}return ke(g.length,E.length)}(i.mapValue,e.mapValue);default:throw ve()}}function ig(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ke(i,e);const n=ai(i),s=ai(e),o=ke(n.seconds,s.seconds);return o!==0?o:ke(n.nanos,s.nanos)}function sg(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Zs(n[o],s[o]);if(u)return u}return ke(n.length,s.length)}function eo(i){return Jh(i)}function Jh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=ai(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return li(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ye.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Jh(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Jh(n.fields[h])}`;return o+"}"}(i.mapValue):ve()}function iu(i){switch(ui(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fu(i);return e?16+iu(e):16;case 5:return 2*i.stringValue.length;case 6:return li(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+iu(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return pi(s.fields,(u,h)=>{o+=u.length+iu(h)}),o}(i.mapValue);default:throw ve()}}function Zh(i){return!!i&&"integerValue"in i}function Nd(i){return!!i&&"arrayValue"in i}function og(i){return!!i&&"nullValue"in i}function ag(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function su(i){return!!i&&"mapValue"in i}function pI(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[ev])===null||n===void 0?void 0:n.stringValue)===nv}function da(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return pi(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=da(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=da(i.arrayValue.values[n]);return e}return Object.assign({},i)}function mI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===tv}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.value=e}static empty(){return new Xt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!su(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=da(n)}setAll(e){let n=Ct.emptyPath(),s={},o=[];e.forEach((h,f)=>{if(!n.isImmediateParentOf(f)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=f.popLast()}h?s[f.lastSegment()]=da(h):o.push(f.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());su(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];su(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){pi(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Xt(da(this.value))}}function rv(i){const e=[];return pi(i.fields,(n,s)=>{const o=new Ct([n]);if(su(s)){const u=rv(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new an(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,s,o,u,h,f){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=f}static newInvalidDocument(e){return new Ft(e,0,we.min(),we.min(),we.min(),Xt.empty(),0)}static newFoundDocument(e,n,s,o){return new Ft(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new Ft(e,2,n,we.min(),we.min(),Xt.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,we.min(),we.min(),Xt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n){this.position=e,this.inclusive=n}}function lg(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(h.referenceValue),n.key):s=Zs(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function ug(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Zn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n="asc"){this.field=e,this.dir=n}}function gI(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{}class ft extends iv{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new vI(e,n,s):n==="array-contains"?new EI(e,s):n==="in"?new TI(e,s):n==="not-in"?new II(e,s):n==="array-contains-any"?new SI(e,s):new ft(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new _I(e,s):new wI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Zs(n,this.value)):n!==null&&ui(this.value)===ui(n)&&this.matchesComparison(Zs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class er extends iv{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new er(e,n)}matches(e){return sv(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function sv(i){return i.op==="and"}function ov(i){return yI(i)&&sv(i)}function yI(i){for(const e of i.filters)if(e instanceof er)return!1;return!0}function ed(i){if(i instanceof ft)return i.field.canonicalString()+i.op.toString()+eo(i.value);if(ov(i))return i.filters.map(e=>ed(e)).join(",");{const e=i.filters.map(n=>ed(n)).join(",");return`${i.op}(${e})`}}function av(i,e){return i instanceof ft?function(s,o){return o instanceof ft&&s.op===o.op&&s.field.isEqual(o.field)&&Zn(s.value,o.value)}(i,e):i instanceof er?function(s,o){return o instanceof er&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,f)=>u&&av(h,o.filters[f]),!0):!1}(i,e):void ve()}function lv(i){return i instanceof ft?function(n){return`${n.field.canonicalString()} ${n.op} ${eo(n.value)}`}(i):i instanceof er?function(n){return n.op.toString()+" {"+n.getFilters().map(lv).join(" ,")+"}"}(i):"Filter"}class vI extends ft{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class _I extends ft{constructor(e,n){super(e,"in",n),this.keys=uv("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class wI extends ft{constructor(e,n){super(e,"not-in",n),this.keys=uv("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function uv(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ye.fromName(s.referenceValue))}class EI extends ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Nd(n)&&Ea(n.arrayValue,this.value)}}class TI extends ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ea(this.value.arrayValue,n)}}class II extends ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ea(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ea(this.value.arrayValue,n)}}class SI extends ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Nd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Ea(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,n=null,s=[],o=[],u=null,h=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=f,this.le=null}}function cg(i,e=null,n=[],s=[],o=null,u=null,h=null){return new AI(i,e,n,s,o,u,h)}function Dd(i){const e=Ee(i);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>ed(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Ou(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>eo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>eo(s)).join(",")),e.le=n}return e.le}function Vd(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!gI(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!av(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!ug(i.startAt,e.startAt)&&ug(i.endAt,e.endAt)}function td(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n=null,s=[],o=[],u=null,h="F",f=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=f,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function RI(i,e,n,s,o,u,h,f){return new bu(i,e,n,s,o,u,h,f)}function cv(i){return new bu(i)}function hg(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function CI(i){return i.collectionGroup!==null}function fa(i){const e=Ee(i);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new mt(Ct.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(v=>{v.isInequality()&&(f=f.add(v.field))})}),f})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new wu(u,s))}),n.has(Ct.keyField().canonicalString())||e.he.push(new wu(Ct.keyField(),s))}return e.he}function Yn(i){const e=Ee(i);return e.Pe||(e.Pe=PI(e,fa(i))),e.Pe}function PI(i,e){if(i.limitType==="F")return cg(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new wu(o.field,u)});const n=i.endAt?new _u(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new _u(i.startAt.position,i.startAt.inclusive):null;return cg(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function nd(i,e,n){return new bu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function ju(i,e){return Vd(Yn(i),Yn(e))&&i.limitType===e.limitType}function hv(i){return`${Dd(Yn(i))}|lt:${i.limitType}`}function Ks(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>lv(o)).join(", ")}]`),Ou(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>eo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>eo(o)).join(",")),`Target(${s})`}(Yn(i))}; limitType=${i.limitType})`}function Uu(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of fa(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,f,g){const v=lg(h,f,g);return h.inclusive?v<=0:v<0}(s.startAt,fa(s),o)||s.endAt&&!function(h,f,g){const v=lg(h,f,g);return h.inclusive?v>=0:v>0}(s.endAt,fa(s),o))}(i,e)}function kI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function dv(i){return(e,n)=>{let s=!1;for(const o of fa(i)){const u=xI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function xI(i,e,n){const s=i.field.isKeyField()?ye.comparator(e.key,n.key):function(u,h,f){const g=h.data.field(u),v=f.data.field(u);return g!==null&&v!==null?Zs(g,v):ve()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){pi(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return Gy(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=new Ze(ye.comparator);function Ar(){return NI}const fv=new Ze(ye.comparator);function ua(...i){let e=fv;for(const n of i)e=e.insert(n.key,n);return e}function pv(i){let e=fv;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ki(){return pa()}function mv(){return pa()}function pa(){return new Ji(i=>i.toString(),(i,e)=>i.isEqual(e))}const DI=new Ze(ye.comparator),VI=new mt(ye.comparator);function Ce(...i){let e=VI;for(const n of i)e=e.add(n);return e}const LI=new mt(ke);function MI(){return LI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gu(e)?"-0":e}}function gv(i){return{integerValue:""+i}}function OI(i,e){return uI(e)?gv(e):Ld(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(){this._=void 0}}function FI(i,e,n){return i instanceof Eu?function(o,u){const h={fields:{[Xy]:{stringValue:Yy},[Zy]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&xd(u)&&(u=Fu(u)),u&&(h.fields[Jy]=u),{mapValue:h}}(n,e):i instanceof Ta?vv(i,e):i instanceof Ia?_v(i,e):function(o,u){const h=yv(o,u),f=dg(h)+dg(o.Ie);return Zh(h)&&Zh(o.Ie)?gv(f):Ld(o.serializer,f)}(i,e)}function bI(i,e,n){return i instanceof Ta?vv(i,e):i instanceof Ia?_v(i,e):n}function yv(i,e){return i instanceof Tu?function(s){return Zh(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Eu extends zu{}class Ta extends zu{constructor(e){super(),this.elements=e}}function vv(i,e){const n=wv(e);for(const s of i.elements)n.some(o=>Zn(o,s))||n.push(s);return{arrayValue:{values:n}}}class Ia extends zu{constructor(e){super(),this.elements=e}}function _v(i,e){let n=wv(e);for(const s of i.elements)n=n.filter(o=>!Zn(o,s));return{arrayValue:{values:n}}}class Tu extends zu{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function dg(i){return it(i.integerValue||i.doubleValue)}function wv(i){return Nd(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function jI(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Ta&&o instanceof Ta||s instanceof Ia&&o instanceof Ia?Js(s.elements,o.elements,Zn):s instanceof Tu&&o instanceof Tu?Zn(s.Ie,o.Ie):s instanceof Eu&&o instanceof Eu}(i.transform,e.transform)}class UI{constructor(e,n){this.version=e,this.transformResults=n}}class Ln{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ln}static exists(e){return new Ln(void 0,e)}static updateTime(e){return new Ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ou(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Bu{}function Ev(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Md(i.key,Ln.none()):new Pa(i.key,i.data,Ln.none());{const n=i.data,s=Xt.empty();let o=new mt(Ct.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new mi(i.key,s,new an(o.toArray()),Ln.none())}}function zI(i,e,n){i instanceof Pa?function(o,u,h){const f=o.value.clone(),g=pg(o.fieldTransforms,u,h.transformResults);f.setAll(g),u.convertToFoundDocument(h.version,f).setHasCommittedMutations()}(i,e,n):i instanceof mi?function(o,u,h){if(!ou(o.precondition,u))return void u.convertToUnknownDocument(h.version);const f=pg(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(Tv(o)),g.setAll(f),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(i,e,n):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function ma(i,e,n,s){return i instanceof Pa?function(u,h,f,g){if(!ou(u.precondition,h))return f;const v=u.value.clone(),E=mg(u.fieldTransforms,g,h);return v.setAll(E),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null}(i,e,n,s):i instanceof mi?function(u,h,f,g){if(!ou(u.precondition,h))return f;const v=mg(u.fieldTransforms,g,h),E=h.data;return E.setAll(Tv(u)),E.setAll(v),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),f===null?null:f.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(i,e,n,s):function(u,h,f){return ou(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f}(i,e,n)}function BI(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=yv(s.transform,o||null);u!=null&&(n===null&&(n=Xt.empty()),n.set(s.field,u))}return n||null}function fg(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Js(s,o,(u,h)=>jI(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Pa extends Bu{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class mi extends Bu{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Tv(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function pg(i,e,n){const s=new Map;be(i.length===n.length);for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,f=e.data.field(u.field);s.set(u.field,bI(h,f,n[o]))}return s}function mg(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,FI(u,h,e))}return s}class Md extends Bu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $I extends Bu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&zI(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ma(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ma(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=mv();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let f=this.applyToLocalView(h,u.mutatedFields);f=n.has(o.key)?null:f;const g=Ev(h,f);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&Js(this.mutations,e.mutations,(n,s)=>fg(n,s))&&Js(this.baseMutations,e.baseMutations,(n,s)=>fg(n,s))}}class Od{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){be(e.mutations.length===s.length);let o=function(){return DI}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Od(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,De;function KI(i){switch(i){case X.OK:return ve();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return ve()}}function Iv(i){if(i===void 0)return Sr("GRPC error has no .code"),X.UNKNOWN;switch(i){case at.OK:return X.OK;case at.CANCELLED:return X.CANCELLED;case at.UNKNOWN:return X.UNKNOWN;case at.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case at.INTERNAL:return X.INTERNAL;case at.UNAVAILABLE:return X.UNAVAILABLE;case at.UNAUTHENTICATED:return X.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case at.NOT_FOUND:return X.NOT_FOUND;case at.ALREADY_EXISTS:return X.ALREADY_EXISTS;case at.PERMISSION_DENIED:return X.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case at.ABORTED:return X.ABORTED;case at.OUT_OF_RANGE:return X.OUT_OF_RANGE;case at.UNIMPLEMENTED:return X.UNIMPLEMENTED;case at.DATA_LOSS:return X.DATA_LOSS;default:return ve()}}(De=at||(at={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=new ti([4294967295,4294967295],0);function gg(i){const e=GI().encode(i),n=new jy;return n.update(e),new Uint8Array(n.digest())}function yg(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ti([n,s],0),new ti([o,u],0)]}class Fd{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ca(`Invalid padding: ${n}`);if(s<0)throw new ca(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ca(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ca(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ti.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(ti.fromNumber(s)));return o.compare(QI)===1&&(o=new ti([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=gg(e),[s,o]=yg(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);if(!this.Re(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Fd(u,o,n);return s.forEach(f=>h.insert(f)),h}insert(e){if(this.Ee===0)return;const n=gg(e),[s,o]=yg(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);this.Ve(h)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ca extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,ka.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new $u(we.min(),o,new Ze(ke),Ar(),Ce())}}class ka{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ka(s,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class Sv{constructor(e,n){this.targetId=e,this.ge=n}}class Av{constructor(e,n,s=Pt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class vg{constructor(){this.pe=0,this.ye=_g(),this.we=Pt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ce(),n=Ce(),s=Ce();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ve()}}),new ka(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=_g()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,be(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class YI{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ar(),this.$e=Jl(),this.Ke=Jl(),this.Ue=new Ze(ke)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(td(u))if(s===0){const h=new ye(u.path);this.ze(n,h,Ft.newNoDocument(h,we.min()))}else be(s===1);else{const h=this.et(n);if(h!==s){const f=this.tt(e),g=f?this.nt(f,e,h):1;if(g!==0){this.Ye(n);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,v)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,f;try{h=li(s).toUint8Array()}catch(g){if(g instanceof Qy)return Xs("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{f=new Fd(h,o,u)}catch(g){return Xs(g instanceof ca?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return f.Ee===0?null:f}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const h=this.ke.it(),f=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(f)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,h)=>{const f=this.Xe(h);if(f){if(u.current&&td(f.target)){const g=new ye(f.target.path);this._t(g).has(h)||this.ut(h,g)||this.ze(h,g,Ft.newNoDocument(g,e))}u.ve&&(n.set(h,u.Fe()),u.Me())}});let s=Ce();this.Ke.forEach((u,h)=>{let f=!0;h.forEachWhile(g=>{const v=this.Xe(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(s=s.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const o=new $u(e,n,this.Ue,this.Qe,s);return this.Qe=Ar(),this.$e=Jl(),this.Ke=Jl(),this.Ue=new Ze(ke),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new vg,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new mt(ke),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new mt(ke),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new vg),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Jl(){return new Ze(ye.comparator)}function _g(){return new Ze(ye.comparator)}const XI={asc:"ASCENDING",desc:"DESCENDING"},JI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZI={and:"AND",or:"OR"};class eS{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rd(i,e){return i.useProto3Json||Ou(e)?e:{value:e}}function Iu(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rv(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function tS(i,e){return Iu(i,e.toTimestamp())}function Xn(i){return be(!!i),we.fromTimestamp(function(n){const s=ai(n);return new pt(s.seconds,s.nanos)}(i))}function bd(i,e){return id(i,e).canonicalString()}function id(i,e){const n=function(o){return new Qe(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function Cv(i){const e=Qe.fromString(i);return be(Dv(e)),e}function sd(i,e){return bd(i.databaseId,e.path)}function bh(i,e){const n=Cv(e);if(n.get(1)!==i.databaseId.projectId)throw new he(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new he(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ye(kv(n))}function Pv(i,e){return bd(i.databaseId,e)}function nS(i){const e=Cv(i);return e.length===4?Qe.emptyPath():kv(e)}function od(i){return new Qe(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function kv(i){return be(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function wg(i,e,n){return{name:sd(i,e),fields:n.value.mapValue.fields}}function rS(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(v,E){return v.useProto3Json?(be(E===void 0||typeof E=="string"),Pt.fromBase64String(E||"")):(be(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Pt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&function(v){const E=v.code===void 0?X.UNKNOWN:Iv(v.code);return new he(E,v.message||"")}(h);n=new Av(s,o,u,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=bh(i,s.document.name),u=Xn(s.document.updateTime),h=s.document.createTime?Xn(s.document.createTime):we.min(),f=new Xt({mapValue:{fields:s.document.fields}}),g=Ft.newFoundDocument(o,u,h,f),v=s.targetIds||[],E=s.removedTargetIds||[];n=new au(v,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=bh(i,s.document),u=s.readTime?Xn(s.readTime):we.min(),h=Ft.newNoDocument(o,u),f=s.removedTargetIds||[];n=new au([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=bh(i,s.document),u=s.removedTargetIds||[];n=new au([],u,o,null)}else{if(!("filter"in e))return ve();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new WI(o,u),f=s.targetId;n=new Sv(f,h)}}return n}function iS(i,e){let n;if(e instanceof Pa)n={update:wg(i,e.key,e.value)};else if(e instanceof Md)n={delete:sd(i,e.key)};else if(e instanceof mi)n={update:wg(i,e.key,e.data),updateMask:fS(e.fieldMask)};else{if(!(e instanceof $I))return ve();n={verify:sd(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const f=h.transform;if(f instanceof Eu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Ta)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ia)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Tu)return{fieldPath:h.field.canonicalString(),increment:f.Ie};throw ve()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:tS(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve()}(i,e.precondition)),n}function sS(i,e){return i&&i.length>0?(be(e!==void 0),i.map(n=>function(o,u){let h=o.updateTime?Xn(o.updateTime):Xn(u);return h.isEqual(we.min())&&(h=Xn(u)),new UI(h,o.transformResults||[])}(n,e))):[]}function oS(i,e){return{documents:[Pv(i,e.path)]}}function aS(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Pv(i,o);const u=function(v){if(v.length!==0)return Nv(er.create(v,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(v){if(v.length!==0)return v.map(E=>function(A){return{field:Gs(A.field),direction:cS(A.dir)}}(E))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const f=rd(i,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ht:n,parent:o}}function lS(i){let e=nS(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){be(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(S){const A=xv(S);return A instanceof er&&ov(A)?A.getFilters():[A]}(n.where));let h=[];n.orderBy&&(h=function(S){return S.map(A=>function(j){return new wu(Qs(j.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(A))}(n.orderBy));let f=null;n.limit&&(f=function(S){let A;return A=typeof S=="object"?S.value:S,Ou(A)?null:A}(n.limit));let g=null;n.startAt&&(g=function(S){const A=!!S.before,V=S.values||[];return new _u(V,A)}(n.startAt));let v=null;return n.endAt&&(v=function(S){const A=!S.before,V=S.values||[];return new _u(V,A)}(n.endAt)),RI(e,o,h,u,f,"F",g,v)}function uS(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function xv(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Qs(n.unaryFilter.field);return ft.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Qs(n.unaryFilter.field);return ft.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Qs(n.unaryFilter.field);return ft.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Qs(n.unaryFilter.field);return ft.create(h,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(i):i.fieldFilter!==void 0?function(n){return ft.create(Qs(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return er.create(n.compositeFilter.filters.map(s=>xv(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve()}}(n.compositeFilter.op))}(i):ve()}function cS(i){return XI[i]}function hS(i){return JI[i]}function dS(i){return ZI[i]}function Gs(i){return{fieldPath:i.canonicalString()}}function Qs(i){return Ct.fromServerFormat(i.fieldPath)}function Nv(i){return i instanceof ft?function(n){if(n.op==="=="){if(ag(n.value))return{unaryFilter:{field:Gs(n.field),op:"IS_NAN"}};if(og(n.value))return{unaryFilter:{field:Gs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ag(n.value))return{unaryFilter:{field:Gs(n.field),op:"IS_NOT_NAN"}};if(og(n.value))return{unaryFilter:{field:Gs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gs(n.field),op:hS(n.op),value:n.value}}}(i):i instanceof er?function(n){const s=n.getFilters().map(o=>Nv(o));return s.length===1?s[0]:{compositeFilter:{op:dS(n.op),filters:s}}}(i):ve()}function fS(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Dv(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n,s,o,u=we.min(),h=we.min(),f=Pt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=g}withSequenceNumber(e){return new Jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.Tt=e}}function mS(i){const e=lS({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?nd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this.Tn=new yS}addToCollectionParentIndex(e,n){return this.Tn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(oi.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(oi.min())}updateCollectionGroup(e,n,s){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class yS{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new mt(Qe.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new mt(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Vv=41943040;class Yt{static withCacheSize(e){return new Yt(e,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yt.DEFAULT_COLLECTION_PERCENTILE=10,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yt.DEFAULT=new Yt(Vv,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yt.DISABLED=new Yt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new to(0)}static Un(){return new to(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="LruGarbageCollector",vS=1048576;function Ig([i,e],[n,s]){const o=ke(i,n);return o===0?ke(e,s):o}class _S{constructor(e){this.Hn=e,this.buffer=new mt(Ig),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Ig(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class wS{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){oe(Tg,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){lo(n)?oe(Tg,"Ignoring IndexedDB error during garbage collection: ",n):await ao(n)}await this.er(3e5)})}}class ES{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Mu.ae);const s=new _S(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(Eg)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Eg):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,h,f,g,v;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,f=Date.now(),this.removeTargets(e,s,n))).next(S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(v=Date.now(),Ws()<=Ve.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(f-h)+`ms
	Removed ${u} targets in `+(g-f)+`ms
	Removed ${S} documents in `+(v-g)+`ms
Total Duration: ${v-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function TS(i,e){return new ES(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(){this.changes=new Ji(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&ma(s.mutation,o,an.empty(),pt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ce()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ce()){const o=Ki();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let h=ua();return u.forEach((f,g)=>{h=h.insert(f,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=Ki();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ce()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,f)=>{n.set(h,f)})})}computeViews(e,n,s,o){let u=Ar();const h=pa(),f=function(){return pa()}();return n.forEach((g,v)=>{const E=s.get(v.key);o.has(v.key)&&(E===void 0||E.mutation instanceof mi)?u=u.insert(v.key,v):E!==void 0?(h.set(v.key,E.mutation.getFieldMask()),ma(E.mutation,v,E.mutation.getFieldMask(),pt.now())):h.set(v.key,an.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((v,E)=>h.set(v,E)),n.forEach((v,E)=>{var S;return f.set(v,new SS(E,(S=h.get(v))!==null&&S!==void 0?S:null))}),f))}recalculateAndSaveOverlays(e,n){const s=pa();let o=new Ze((h,f)=>h-f),u=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const f of h)f.keys().forEach(g=>{const v=n.get(g);if(v===null)return;let E=s.get(g)||an.empty();E=f.applyToLocalView(v,E),s.set(g,E);const S=(o.get(f.batchId)||Ce()).add(g);o=o.insert(f.batchId,S)})}).next(()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),v=g.key,E=g.value,S=mv();E.forEach(A=>{if(!u.has(A)){const V=Ev(n.get(A),s.get(A));V!==null&&S.set(A,V),u=u.add(A)}}),h.push(this.documentOverlayCache.saveOverlays(e,v,S))}return W.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(h){return ye.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):CI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):W.resolve(Ki());let f=va,g=u;return h.next(v=>W.forEach(v,(E,S)=>(f<S.largestBatchId&&(f=S.largestBatchId),u.get(E)?W.resolve():this.remoteDocumentCache.getEntry(e,E).next(A=>{g=g.insert(E,A)}))).next(()=>this.populateOverlays(e,v,u)).next(()=>this.computeViews(e,g,v,Ce())).next(E=>({batchId:f,changes:pv(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(s=>{let o=ua();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=ua();return this.indexManager.getCollectionParents(e,u).next(f=>W.forEach(f,g=>{const v=function(S,A){return new bu(A,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next(E=>{E.forEach((S,A)=>{h=h.insert(S,A)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(h=>{u.forEach((g,v)=>{const E=v.getKey();h.get(E)===null&&(h=h.insert(E,Ft.newInvalidDocument(E)))});let f=ua();return h.forEach((g,v)=>{const E=u.get(g);E!==void 0&&ma(E.mutation,v,an.empty(),pt.now()),Uu(n,v)&&(f=f.insert(g,v))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return W.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Xn(o.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:mS(o.bundledQuery),readTime:Xn(o.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(){this.overlays=new Ze(ye.comparator),this.Rr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ki();return W.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),W.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),W.resolve()}getOverlaysForCollection(e,n,s){const o=Ki(),u=n.length+1,h=new ye(n.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const g=f.getNext().value,v=g.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return W.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new Ze((v,E)=>v-E);const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>s){let E=u.get(v.largestBatchId);E===null&&(E=Ki(),u=u.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const f=Ki(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,E)=>f.set(v,E)),!(f.size()>=o)););return W.resolve(f)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new qI(n,s));let u=this.Rr.get(n);u===void 0&&(u=Ce(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(){this.Vr=new mt(Et.mr),this.gr=new mt(Et.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new Et(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new Et(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new ye(new Qe([])),s=new Et(n,e),o=new Et(n,e+1),u=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ye(new Qe([])),s=new Et(n,e),o=new Et(n,e+1);let u=Ce();return this.gr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new Et(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Et{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ye.comparator(e.key,n.key)||ke(e.Cr,n.Cr)}static pr(e,n){return ke(e.Cr,n.Cr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new mt(Et.mr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new HI(u,n,s,o);this.mutationQueue.push(h);for(const f of o)this.Mr=this.Mr.add(new Et(f.key,u)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return W.resolve(h)}lookupMutationBatch(e,n){return W.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?kd:this.Fr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Et(n,0),o=new Et(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],h=>{const f=this.Or(h.Cr);u.push(f)}),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new mt(ke);return n.forEach(o=>{const u=new Et(o,0),h=new Et(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],f=>{s=s.add(f.Cr)})}),W.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const h=new Et(new ye(u),0);let f=new mt(ke);return this.Mr.forEachWhile(g=>{const v=g.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(f=f.add(g.Cr)),!0)},h),W.resolve(this.Br(f))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){be(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return W.forEach(n.mutations,o=>{const u=new Et(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new Et(n,0),o=this.Mr.firstAfterOrEqual(s);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e){this.kr=e,this.docs=function(){return new Ze(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let s=Ar();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Ft.newInvalidDocument(o))}),W.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Ar();const h=n.path,f=new ye(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:v,value:{document:E}}=g.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||sI(iI(E),s)<=0||(o.has(E.key)||Uu(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ve()}qr(e,n){return W.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new NS(this)}getSize(e){return W.resolve(this.size)}}class NS extends IS{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),W.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e){this.persistence=e,this.Qr=new Ji(n=>Dd(n),Vd),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.$r=0,this.Kr=new jd,this.targetCount=0,this.Ur=to.Kn()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),W.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new to(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.zn(n),W.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.br(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((h,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),W.waitFor(u).next(()=>o)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return W.resolve(s)}addMatchingKeys(e,n,s){return this.Kr.yr(n,s),W.resolve()}removeMatchingKeys(e,n,s){this.Kr.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),W.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Kr.br(n),W.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Kr.vr(n);return W.resolve(s)}containsKey(e,n){return W.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Mu(0),this.zr=!1,this.zr=!0,this.jr=new PS,this.referenceDelegate=e(this),this.Hr=new DS(this),this.indexManager=new gS,this.remoteDocumentCache=function(o){return new xS(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new pS(n),this.Yr=new RS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new CS,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new kS(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){oe("MemoryPersistence","Starting transaction:",e);const o=new VS(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return W.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class VS extends aI{constructor(e){super(),this.currentSequenceNumber=e}}class Ud{constructor(e){this.persistence=e,this.ti=new jd,this.ni=null}static ri(e){return new Ud(e)}get ii(){if(this.ni)return this.ni;throw ve()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),W.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),W.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ii,s=>{const o=ye.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,we.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return W.or([()=>W.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Su{constructor(e,n){this.persistence=e,this.oi=new Ji(s=>cI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=TS(this,n)}static ri(e,n){return new Su(e,n)}Zr(){}Xr(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return W.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?W.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,n).next(f=>{f||(s++,u.removeEntry(h,we.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),W.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=iu(e.data.value)),n}ar(e,n,s){return W.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Ce(),o=Ce();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new zd(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return cE()?8:lI(aE())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new LS;return this._s(e,n,h).next(f=>{if(u.result=f,this.Xi)return this.us(e,n,h,f.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(Ws()<=Ve.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Ks(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),W.resolve()):(Ws()<=Ve.DEBUG&&oe("QueryEngine","Query:",Ks(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Ws()<=Ve.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Ks(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yn(n))):W.resolve())}rs(e,n){if(hg(n))return W.resolve(null);let s=Yn(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=nd(n,null,"F"),s=Yn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Ce(...u);return this.ns.getDocuments(e,h).next(f=>this.indexManager.getMinOffset(e,s).next(g=>{const v=this.cs(n,f);return this.ls(n,v,h,g.readTime)?this.rs(e,nd(n,null,"F")):this.hs(e,v,n,g)}))})))}ss(e,n,s,o){return hg(n)||o.isEqual(we.min())?W.resolve(null):this.ns.getDocuments(e,s).next(u=>{const h=this.cs(n,u);return this.ls(n,h,s,o)?W.resolve(null):(Ws()<=Ve.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ks(n)),this.hs(e,h,n,rI(o,va)).next(f=>f))})}cs(e,n){let s=new mt(dv(e));return n.forEach((o,u)=>{Uu(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return Ws()<=Ve.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Ks(n)),this.ns.getDocumentsMatchingQuery(e,n,oi.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="LocalStore",OS=3e8;class FS{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new Ze(ke),this.Is=new Ji(u=>Dd(u),Vd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AS(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function bS(i,e,n,s){return new FS(i,e,n,s)}async function Mv(i,e){const n=Ee(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],f=[];let g=Ce();for(const v of o){h.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}for(const v of u){f.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next(v=>({Rs:v,removedBatchIds:h,addedBatchIds:f}))})})}function jS(i,e){const n=Ee(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(f,g,v,E){const S=v.batch,A=S.keys();let V=W.resolve();return A.forEach(j=>{V=V.next(()=>E.getEntry(g,j)).next(H=>{const z=v.docVersions.get(j);be(z!==null),H.version.compareTo(z)<0&&(S.applyToRemoteDocument(H,v),H.isValidDocument()&&(H.setReadTime(v.commitVersion),E.addEntry(H)))})}),V.next(()=>f.mutationQueue.removeMutationBatch(g,S))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let g=Ce();for(let v=0;v<f.mutationResults.length;++v)f.mutationResults[v].transformResults.length>0&&(g=g.add(f.batch.mutations[v].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function Ov(i){const e=Ee(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function US(i,e){const n=Ee(i),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const f=[];e.targetChanges.forEach((E,S)=>{const A=o.get(S);if(!A)return;f.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,S).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,S)));let V=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?V=V.withResumeToken(Pt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,s)),o=o.insert(S,V),function(H,z,G){return H.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=OS?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(A,V,E)&&f.push(n.Hr.updateTargetData(u,V))});let g=Ar(),v=Ce();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),f.push(zS(u,h,e.documentUpdates).next(E=>{g=E.Vs,v=E.fs})),!s.isEqual(we.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(S=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));f.push(E)}return W.waitFor(f).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,v)).next(()=>g)}).then(u=>(n.Ts=o,u))}function zS(i,e,n){let s=Ce(),o=Ce();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=Ar();return n.forEach((f,g)=>{const v=u.get(f);g.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(f)),g.isNoDocument()&&g.version.isEqual(we.min())?(e.removeEntry(f,g.readTime),h=h.insert(f,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),h=h.insert(f,g)):oe(Bd,"Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",g.version)}),{Vs:h,fs:o}})}function BS(i,e){const n=Ee(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=kd),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function $S(i,e){const n=Ee(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,W.resolve(o)):n.Hr.allocateTargetId(s).next(h=>(o=new Jr(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function ad(i,e,n){const s=Ee(i),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!lo(h))throw h;oe(Bd,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function Sg(i,e,n){const s=Ee(i);let o=we.min(),u=Ce();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,v,E){const S=Ee(g),A=S.Is.get(E);return A!==void 0?W.resolve(S.Ts.get(A)):S.Hr.getTargetData(v,E)}(s,h,Yn(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,f.targetId).next(g=>{u=g})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,n?o:we.min(),n?u:Ce())).next(f=>(HS(s,kI(e),f),{documents:f,gs:u})))}function HS(i,e,n){let s=i.Es.get(e)||we.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class Ag{constructor(){this.activeTargetIds=MI()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qS{constructor(){this.ho=new Ag,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Ag,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg="ConnectivityMonitor";class Cg{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){oe(Rg,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){oe(Rg,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zl=null;function ld(){return Zl===null?Zl=function(){return 268435456+Math.round(2147483648*Math.random())}():Zl++,"0x"+Zl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh="RestConnection",KS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GS{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===yu?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,n,s,o,u){const h=ld(),f=this.bo(e,n.toUriEncodedString());oe(jh,`Sending RPC '${e}' ${h}:`,f,s);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,o,u),this.vo(e,f,g,s).then(v=>(oe(jh,`Received RPC '${e}' ${h}: `,v),v),v=>{throw Xs(jh,`RPC '${e}' ${h} failed with error: `,v,"url: ",f,"request:",s),v})}Co(e,n,s,o,u,h){return this.So(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+oo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const s=KS[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class YS extends GS{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=ld();return new Promise((h,f)=>{const g=new Uy;g.setWithCredentials(!0),g.listenOnce(zy.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case ru.NO_ERROR:const E=g.getResponseJson();oe(Mt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case ru.TIMEOUT:oe(Mt,`RPC '${e}' ${u} timed out`),f(new he(X.DEADLINE_EXCEEDED,"Request time out"));break;case ru.HTTP_ERROR:const S=g.getStatus();if(oe(Mt,`RPC '${e}' ${u} failed with status:`,S,"response text:",g.getResponseText()),S>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const V=A==null?void 0:A.error;if(V&&V.status&&V.message){const j=function(z){const G=z.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(G)>=0?G:X.UNKNOWN}(V.status);f(new he(j,V.message))}else f(new he(X.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new he(X.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{oe(Mt,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(o);oe(Mt,`RPC '${e}' ${u} sending request:`,o),g.send(n,"POST",v,s,15)})}Wo(e,n,s){const o=ld(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Hy(),f=$y(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");oe(Mt,`Creating RPC '${e}' stream ${o}: ${E}`,g);const S=h.createWebChannel(E,g);let A=!1,V=!1;const j=new QS({Fo:z=>{V?oe(Mt,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(A||(oe(Mt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),A=!0),oe(Mt,`RPC '${e}' stream ${o} sending:`,z),S.send(z))},Mo:()=>S.close()}),H=(z,G,J)=>{z.listen(G,re=>{try{J(re)}catch(fe){setTimeout(()=>{throw fe},0)}})};return H(S,la.EventType.OPEN,()=>{V||(oe(Mt,`RPC '${e}' stream ${o} transport opened.`),j.Qo())}),H(S,la.EventType.CLOSE,()=>{V||(V=!0,oe(Mt,`RPC '${e}' stream ${o} transport closed`),j.Ko())}),H(S,la.EventType.ERROR,z=>{V||(V=!0,Xs(Mt,`RPC '${e}' stream ${o} transport errored:`,z),j.Ko(new he(X.UNAVAILABLE,"The operation could not be completed")))}),H(S,la.EventType.MESSAGE,z=>{var G;if(!V){const J=z.data[0];be(!!J);const re=J,fe=(re==null?void 0:re.error)||((G=re[0])===null||G===void 0?void 0:G.error);if(fe){oe(Mt,`RPC '${e}' stream ${o} received error:`,fe);const Re=fe.status;let Te=function(R){const k=at[R];if(k!==void 0)return Iv(k)}(Re),x=fe.message;Te===void 0&&(Te=X.INTERNAL,x="Unknown error status: "+Re+" with message "+fe.message),V=!0,j.Ko(new he(Te,x)),S.close()}else oe(Mt,`RPC '${e}' stream ${o} received:`,J),j.Uo(J)}}),H(f,By.STAT_EVENT,z=>{z.stat===Xh.PROXY?oe(Mt,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===Xh.NOPROXY&&oe(Mt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{j.$o()},0),j}}function Uh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(i){return new eS(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="PersistentStream";class bv{constructor(e,n,s,o,u,h,f,g){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Fv(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(Sr(n.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new he(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return oe(Pg,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(oe(Pg,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class XS extends bv{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=rS(this.serializer,e),s=function(u){if(!("targetChange"in u))return we.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?Xn(h.readTime):we.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=od(this.serializer),n.addTarget=function(u,h){let f;const g=h.target;if(f=td(g)?{documents:oS(u,g)}:{query:aS(u,g).ht},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=Rv(u,h.resumeToken);const v=rd(u,h.expectedCount);v!==null&&(f.expectedCount=v)}else if(h.snapshotVersion.compareTo(we.min())>0){f.readTime=Iu(u,h.snapshotVersion.toTimestamp());const v=rd(u,h.expectedCount);v!==null&&(f.expectedCount=v)}return f}(this.serializer,e);const s=uS(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=od(this.serializer),n.removeTarget=e,this.I_(n)}}class JS extends bv{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return be(!!e.streamToken),this.lastStreamToken=e.streamToken,be(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=sS(e.writeResults,e.commitTime),s=Xn(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=od(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>iS(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{}class eA extends ZS{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new he(X.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.So(e,id(n,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(X.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,f])=>this.connection.Co(e,id(n,s),o,h,f,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new he(X.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class tA{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Sr(n),this.N_=!1):oe("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi="RemoteStore";class nA{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{s.enqueueAndForget(async()=>{Zi(this)&&(oe(Xi,"Restarting streams for network reachability change."),await async function(g){const v=Ee(g);v.W_.add(4),await xa(v),v.j_.set("Unknown"),v.W_.delete(4),await qu(v)}(this))})}),this.j_=new tA(s,o)}}async function qu(i){if(Zi(i))for(const e of i.G_)await e(!0)}async function xa(i){for(const e of i.G_)await e(!1)}function jv(i,e){const n=Ee(i);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Wd(n)?qd(n):uo(n).c_()&&Hd(n,e))}function $d(i,e){const n=Ee(i),s=uo(n);n.U_.delete(e),s.c_()&&Uv(n,e),n.U_.size===0&&(s.c_()?s.P_():Zi(n)&&n.j_.set("Unknown"))}function Hd(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}uo(i).y_(e)}function Uv(i,e){i.H_.Ne(e),uo(i).w_(e)}function qd(i){i.H_=new YI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.U_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),uo(i).start(),i.j_.B_()}function Wd(i){return Zi(i)&&!uo(i).u_()&&i.U_.size>0}function Zi(i){return Ee(i).W_.size===0}function zv(i){i.H_=void 0}async function rA(i){i.j_.set("Online")}async function iA(i){i.U_.forEach((e,n)=>{Hd(i,e)})}async function sA(i,e){zv(i),Wd(i)?(i.j_.q_(e),qd(i)):i.j_.set("Unknown")}async function oA(i,e,n){if(i.j_.set("Online"),e instanceof Av&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const f of u.targetIds)o.U_.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.U_.delete(f),o.H_.removeTarget(f))}(i,e)}catch(s){oe(Xi,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Au(i,s)}else if(e instanceof au?i.H_.We(e):e instanceof Sv?i.H_.Ze(e):i.H_.je(e),!n.isEqual(we.min()))try{const s=await Ov(i.localStore);n.compareTo(s)>=0&&await function(u,h){const f=u.H_.ot(h);return f.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.U_.get(v);E&&u.U_.set(v,E.withResumeToken(g.resumeToken,h))}}),f.targetMismatches.forEach((g,v)=>{const E=u.U_.get(g);if(!E)return;u.U_.set(g,E.withResumeToken(Pt.EMPTY_BYTE_STRING,E.snapshotVersion)),Uv(u,g);const S=new Jr(E.target,g,v,E.sequenceNumber);Hd(u,S)}),u.remoteSyncer.applyRemoteEvent(f)}(i,n)}catch(s){oe(Xi,"Failed to raise snapshot:",s),await Au(i,s)}}async function Au(i,e,n){if(!lo(e))throw e;i.W_.add(1),await xa(i),i.j_.set("Offline"),n||(n=()=>Ov(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{oe(Xi,"Retrying IndexedDB access"),await n(),i.W_.delete(1),await qu(i)})}function Bv(i,e){return e().catch(n=>Au(i,n,e))}async function Wu(i){const e=Ee(i),n=ci(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:kd;for(;aA(e);)try{const o=await BS(e.localStore,s);if(o===null){e.K_.length===0&&n.P_();break}s=o.batchId,lA(e,o)}catch(o){await Au(e,o)}$v(e)&&Hv(e)}function aA(i){return Zi(i)&&i.K_.length<10}function lA(i,e){i.K_.push(e);const n=ci(i);n.c_()&&n.S_&&n.b_(e.mutations)}function $v(i){return Zi(i)&&!ci(i).u_()&&i.K_.length>0}function Hv(i){ci(i).start()}async function uA(i){ci(i).C_()}async function cA(i){const e=ci(i);for(const n of i.K_)e.b_(n.mutations)}async function hA(i,e,n){const s=i.K_.shift(),o=Od.from(s,e,n);await Bv(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Wu(i)}async function dA(i,e){e&&ci(i).S_&&await async function(s,o){if(function(h){return KI(h)&&h!==X.ABORTED}(o.code)){const u=s.K_.shift();ci(s).h_(),await Bv(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Wu(s)}}(i,e),$v(i)&&Hv(i)}async function kg(i,e){const n=Ee(i);n.asyncQueue.verifyOperationInProgress(),oe(Xi,"RemoteStore received new credentials");const s=Zi(n);n.W_.add(3),await xa(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await qu(n)}async function fA(i,e){const n=Ee(i);e?(n.W_.delete(2),await qu(n)):e||(n.W_.add(2),await xa(n),n.j_.set("Unknown"))}function uo(i){return i.J_||(i.J_=function(n,s,o){const u=Ee(n);return u.M_(),new XS(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:rA.bind(null,i),No:iA.bind(null,i),Lo:sA.bind(null,i),p_:oA.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),Wd(i)?qd(i):i.j_.set("Unknown")):(await i.J_.stop(),zv(i))})),i.J_}function ci(i){return i.Y_||(i.Y_=function(n,s,o){const u=Ee(n);return u.M_(),new JS(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:uA.bind(null,i),Lo:dA.bind(null,i),D_:cA.bind(null,i),v_:hA.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await Wu(i)):(await i.Y_.stop(),i.K_.length>0&&(oe(Xi,`Stopping write stream with ${i.K_.length} pending writes`),i.K_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,f=new Kd(e,n,h,o,u);return f.start(s),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gd(i,e){if(Sr("AsyncQueue",`${e}: ${i}`),lo(i))return new he(X.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{static emptySet(e){return new Ys(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=ua(),this.sortedSet=new Ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ys)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ys;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(){this.Z_=new Ze(ye.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):ve():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class no{constructor(e,n,s,o,u,h,f,g,v){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach(f=>{h.push({type:0,doc:f})}),new no(e,n,Ys.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ju(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class mA{constructor(){this.queries=Ng(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Ee(n),u=o.queries;o.queries=Ng(),u.forEach((h,f)=>{for(const g of f.ta)g.onError(s)})})(this,new he(X.ABORTED,"Firestore shutting down"))}}function Ng(){return new Ji(i=>hv(i),ju)}async function gA(i,e){const n=Ee(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new pA,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const f=Gd(h,`Initialization of query '${Ks(e.query)}' failed`);return void e.onError(f)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Qd(n)}async function yA(i,e){const n=Ee(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function vA(i,e){const n=Ee(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const f of h.ta)f.oa(o)&&(s=!0);h.ea=o}}s&&Qd(n)}function _A(i,e,n){const s=Ee(i),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function Qd(i){i.ia.forEach(e=>{e.next()})}var ud,Dg;(Dg=ud||(ud={}))._a="default",Dg.Cache="cache";class wA{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new no(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=no.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ud.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e){this.key=e}}class Wv{constructor(e){this.key=e}}class EA{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ce(),this.mutatedKeys=Ce(),this.ya=dv(e),this.wa=new Ys(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new xg,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,f=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const A=o.get(E),V=Uu(this.query,S)?S:null,j=!!A&&this.mutatedKeys.has(A.key),H=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let z=!1;A&&V?A.data.isEqual(V.data)?j!==H&&(s.track({type:3,doc:V}),z=!0):this.va(A,V)||(s.track({type:2,doc:V}),z=!0,(g&&this.ya(V,g)>0||v&&this.ya(V,v)<0)&&(f=!0)):!A&&V?(s.track({type:0,doc:V}),z=!0):A&&!V&&(s.track({type:1,doc:A}),z=!0,(g||v)&&(f=!0)),z&&(V?(h=h.add(V),u=H?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:h,Da:s,ls:f,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((E,S)=>function(V,j){const H=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return H(V)-H(j)}(E.type,S.type)||this.ya(E.doc,S.doc)),this.Ca(s),o=o!=null&&o;const f=n&&!o?this.Fa():[],g=this.pa.size===0&&this.current&&!o?1:0,v=g!==this.ga;return this.ga=g,h.length!==0||v?{snapshot:new no(this.query,e.wa,u,h,e.mutatedKeys,g===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new xg,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ce(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new Wv(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new qv(s))}),n}Oa(e){this.fa=e.gs,this.pa=Ce();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return no.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Yd="SyncEngine";class TA{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class IA{constructor(e){this.key=e,this.Ba=!1}}class SA{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new Ji(f=>hv(f),ju),this.qa=new Map,this.Qa=new Set,this.$a=new Ze(ye.comparator),this.Ka=new Map,this.Ua=new jd,this.Wa={},this.Ga=new Map,this.za=to.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function AA(i,e,n=!0){const s=Jv(i);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await Kv(s,e,n,!0),o}async function RA(i,e){const n=Jv(i);await Kv(n,e,!0,!1)}async function Kv(i,e,n,s){const o=await $S(i.localStore,Yn(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let f;return s&&(f=await CA(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&jv(i.remoteStore,o),f}async function CA(i,e,n,s,o){i.Ha=(S,A,V)=>async function(H,z,G,J){let re=z.view.ba(G);re.ls&&(re=await Sg(H.localStore,z.query,!1).then(({documents:x})=>z.view.ba(x,re)));const fe=J&&J.targetChanges.get(z.targetId),Re=J&&J.targetMismatches.get(z.targetId)!=null,Te=z.view.applyChanges(re,H.isPrimaryClient,fe,Re);return Lg(H,z.targetId,Te.Ma),Te.snapshot}(i,S,A,V);const u=await Sg(i.localStore,e,!0),h=new EA(e,u.gs),f=h.ba(u.documents),g=ka.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),v=h.applyChanges(f,i.isPrimaryClient,g);Lg(i,n,v.Ma);const E=new TA(e,n,h);return i.ka.set(e,E),i.qa.has(n)?i.qa.get(n).push(e):i.qa.set(n,[e]),v.snapshot}async function PA(i,e,n){const s=Ee(i),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(h=>!ju(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ad(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&$d(s.remoteStore,o.targetId),cd(s,o.targetId)}).catch(ao)):(cd(s,o.targetId),await ad(s.localStore,o.targetId,!0))}async function kA(i,e){const n=Ee(i),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),$d(n.remoteStore,s.targetId))}async function xA(i,e,n){const s=FA(i);try{const o=await function(h,f){const g=Ee(h),v=pt.now(),E=f.reduce((V,j)=>V.add(j.key),Ce());let S,A;return g.persistence.runTransaction("Locally write mutations","readwrite",V=>{let j=Ar(),H=Ce();return g.ds.getEntries(V,E).next(z=>{j=z,j.forEach((G,J)=>{J.isValidDocument()||(H=H.add(G))})}).next(()=>g.localDocuments.getOverlayedDocuments(V,j)).next(z=>{S=z;const G=[];for(const J of f){const re=BI(J,S.get(J.key).overlayedDocument);re!=null&&G.push(new mi(J.key,re,rv(re.value.mapValue),Ln.exists(!0)))}return g.mutationQueue.addMutationBatch(V,v,G,f)}).next(z=>{A=z;const G=z.applyToLocalDocumentSet(S,H);return g.documentOverlayCache.saveOverlays(V,z.batchId,G)})}).then(()=>({batchId:A.batchId,changes:pv(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,f,g){let v=h.Wa[h.currentUser.toKey()];v||(v=new Ze(ke)),v=v.insert(f,g),h.Wa[h.currentUser.toKey()]=v}(s,o.batchId,n),await Na(s,o.changes),await Wu(s.remoteStore)}catch(o){const u=Gd(o,"Failed to persist write");n.reject(u)}}async function Gv(i,e){const n=Ee(i);try{const s=await US(n.localStore,e);e.targetChanges.forEach((o,u)=>{const h=n.Ka.get(u);h&&(be(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?be(h.Ba):o.removedDocuments.size>0&&(be(h.Ba),h.Ba=!1))}),await Na(n,s,e)}catch(s){await ao(s)}}function Vg(i,e,n){const s=Ee(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,h)=>{const f=h.view.sa(e);f.snapshot&&o.push(f.snapshot)}),function(h,f){const g=Ee(h);g.onlineState=f;let v=!1;g.queries.forEach((E,S)=>{for(const A of S.ta)A.sa(f)&&(v=!0)}),v&&Qd(g)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function NA(i,e,n){const s=Ee(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ka.get(e),u=o&&o.key;if(u){let h=new Ze(ye.comparator);h=h.insert(u,Ft.newNoDocument(u,we.min()));const f=Ce().add(u),g=new $u(we.min(),new Map,new Ze(ke),h,f);await Gv(s,g),s.$a=s.$a.remove(u),s.Ka.delete(e),Xd(s)}else await ad(s.localStore,e,!1).then(()=>cd(s,e,n)).catch(ao)}async function DA(i,e){const n=Ee(i),s=e.batch.batchId;try{const o=await jS(n.localStore,e);Yv(n,s,null),Qv(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Na(n,o)}catch(o){await ao(o)}}async function VA(i,e,n){const s=Ee(i);try{const o=await function(h,f){const g=Ee(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let E;return g.mutationQueue.lookupMutationBatch(v,f).next(S=>(be(S!==null),E=S.keys(),g.mutationQueue.removeMutationBatch(v,S))).next(()=>g.mutationQueue.performConsistencyCheck(v)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(v,E,f)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E)).next(()=>g.localDocuments.getDocuments(v,E))})}(s.localStore,e);Yv(s,e,n),Qv(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Na(s,o)}catch(o){await ao(o)}}function Qv(i,e){(i.Ga.get(e)||[]).forEach(n=>{n.resolve()}),i.Ga.delete(e)}function Yv(i,e,n){const s=Ee(i);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function cd(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),n&&i.La.Ja(s,n);i.qa.delete(e),i.isPrimaryClient&&i.Ua.br(e).forEach(s=>{i.Ua.containsKey(s)||Xv(i,s)})}function Xv(i,e){i.Qa.delete(e.path.canonicalString());const n=i.$a.get(e);n!==null&&($d(i.remoteStore,n),i.$a=i.$a.remove(e),i.Ka.delete(n),Xd(i))}function Lg(i,e,n){for(const s of n)s instanceof qv?(i.Ua.addReference(s.key,e),LA(i,s)):s instanceof Wv?(oe(Yd,"Document no longer in limbo: "+s.key),i.Ua.removeReference(s.key,e),i.Ua.containsKey(s.key)||Xv(i,s.key)):ve()}function LA(i,e){const n=e.key,s=n.path.canonicalString();i.$a.get(n)||i.Qa.has(s)||(oe(Yd,"New document in limbo: "+n),i.Qa.add(s),Xd(i))}function Xd(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const n=new ye(Qe.fromString(e)),s=i.za.next();i.Ka.set(s,new IA(n)),i.$a=i.$a.insert(n,s),jv(i.remoteStore,new Jr(Yn(cv(n.path)),s,"TargetPurposeLimboResolution",Mu.ae))}}async function Na(i,e,n){const s=Ee(i),o=[],u=[],h=[];s.ka.isEmpty()||(s.ka.forEach((f,g)=>{h.push(s.Ha(g,e,n).then(v=>{var E;if((v||n)&&s.isPrimaryClient){const S=v?!v.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(v){o.push(v);const S=zd.Yi(g.targetId,v);u.push(S)}}))}),await Promise.all(h),s.La.p_(o),await async function(g,v){const E=Ee(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>W.forEach(v,A=>W.forEach(A.Hi,V=>E.persistence.referenceDelegate.addReference(S,A.targetId,V)).next(()=>W.forEach(A.Ji,V=>E.persistence.referenceDelegate.removeReference(S,A.targetId,V)))))}catch(S){if(!lo(S))throw S;oe(Bd,"Failed to update sequence numbers: "+S)}for(const S of v){const A=S.targetId;if(!S.fromCache){const V=E.Ts.get(A),j=V.snapshotVersion,H=V.withLastLimboFreeSnapshotVersion(j);E.Ts=E.Ts.insert(A,H)}}}(s.localStore,u))}async function MA(i,e){const n=Ee(i);if(!n.currentUser.isEqual(e)){oe(Yd,"User change. New user:",e.toKey());const s=await Mv(n.localStore,e);n.currentUser=e,function(u,h){u.Ga.forEach(f=>{f.forEach(g=>{g.reject(new he(X.CANCELLED,h))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Na(n,s.Rs)}}function OA(i,e){const n=Ee(i),s=n.Ka.get(e);if(s&&s.Ba)return Ce().add(s.key);{let o=Ce();const u=n.qa.get(e);if(!u)return o;for(const h of u){const f=n.ka.get(h);o=o.unionWith(f.view.Sa)}return o}}function Jv(i){const e=Ee(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Gv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NA.bind(null,e),e.La.p_=vA.bind(null,e.eventManager),e.La.Ja=_A.bind(null,e.eventManager),e}function FA(i){const e=Ee(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VA.bind(null,e),e}class Ru{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hu(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return bS(this.persistence,new MS,e.initialUser,this.serializer)}Xa(e){return new Lv(Ud.ri,this.serializer)}Za(e){return new qS}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ru.provider={build:()=>new Ru};class bA extends Ru{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){be(this.persistence.referenceDelegate instanceof Su);const s=this.persistence.referenceDelegate.garbageCollector;return new wS(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Yt.withCacheSize(this.cacheSizeBytes):Yt.DEFAULT;return new Lv(s=>Su.ri(s,n),this.serializer)}}class hd{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Vg(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=MA.bind(null,this.syncEngine),await fA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new mA}()}createDatastore(e){const n=Hu(e.databaseInfo.databaseId),s=function(u){return new YS(u)}(e.databaseInfo);return function(u,h,f,g){return new eA(u,h,f,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,h,f){return new nA(s,o,u,h,f)}(this.localStore,this.datastore,e.asyncQueue,n=>Vg(this.syncEngine,n,0),function(){return Cg.D()?new Cg:new WS}())}createSyncEngine(e,n){return function(o,u,h,f,g,v,E){const S=new SA(o,u,h,f,g,v);return E&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ee(o);oe(Xi,"RemoteStore shutting down."),u.W_.add(5),await xa(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}hd.provider={build:()=>new hd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Sr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi="FirestoreClient";class UA{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Ot.UNAUTHENTICATED,this.clientId=Wy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{oe(hi,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(oe(hi,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Gd(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function zh(i,e){i.asyncQueue.verifyOperationInProgress(),oe(hi,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Mv(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function Mg(i,e){i.asyncQueue.verifyOperationInProgress();const n=await zA(i);oe(hi,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>kg(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>kg(e.remoteStore,o)),i._onlineComponents=e}async function zA(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){oe(hi,"Using user provided OfflineComponentProvider");try{await zh(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Xs("Error using user provided cache. Falling back to memory cache: "+n),await zh(i,new Ru)}}else oe(hi,"Using default OfflineComponentProvider"),await zh(i,new bA(void 0));return i._offlineComponents}async function Zv(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(oe(hi,"Using user provided OnlineComponentProvider"),await Mg(i,i._uninitializedComponentsProvider._online)):(oe(hi,"Using default OnlineComponentProvider"),await Mg(i,new hd))),i._onlineComponents}function BA(i){return Zv(i).then(e=>e.syncEngine)}async function $A(i){const e=await Zv(i),n=e.eventManager;return n.onListen=AA.bind(null,e.syncEngine),n.onUnlisten=PA.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=RA.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=kA.bind(null,e.syncEngine),n}function HA(i,e,n={}){const s=new ni;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,f,g,v){const E=new jA({next:A=>{E.su(),h.enqueueAndForget(()=>yA(u,S)),A.fromCache&&g.source==="server"?v.reject(new he(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(A)},error:A=>v.reject(A)}),S=new wA(f,E,{includeMetadataChanges:!0,Ta:!0});return gA(u,S)}(await $A(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(i,e,n){if(!n)throw new he(X.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function qA(i,e,n,s){if(e===!0&&s===!0)throw new he(X.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Fg(i){if(!ye.isDocumentKey(i))throw new he(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function bg(i){if(ye.isDocumentKey(i))throw new he(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Jd(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ve()}function Cu(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jd(i);throw new he(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="firestore.googleapis.com",jg=!0;class Ug{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new he(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=n_,this.ssl=jg}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:jg;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Vv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vS)throw new he(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=e_((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new he(X.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new he(X.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new he(X.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ku{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ug({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ug(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Q1;switch(s.type){case"firstParty":return new Z1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Og.get(n);s&&(oe("ComponentProvider","Removing Datastore"),Og.delete(n),s.terminate())}(this),Promise.resolve()}}function WA(i,e,n,s={}){var o;const u=(i=Cu(i,Ku))._getSettings(),h=`${e}:${n}`;if(u.host!==n_&&u.host!==h&&Xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),s.mockUserToken){let f,g;if(typeof s.mockUserToken=="string")f=s.mockUserToken,g=Ot.MOCK_USER;else{f=oE(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new he(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ot(v)}i._authCredentials=new Y1(new qy(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Gu(this.firestore,e,this._query)}}class Mn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ri(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mn(this.firestore,e,this._key)}}class ri extends Gu{constructor(e,n,s){super(e,n,cv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mn(this.firestore,null,new ye(e))}withConverter(e){return new ri(this.firestore,e,this._path)}}function dd(i,e,...n){if(i=On(i),t_("collection","path",e),i instanceof Ku){const s=Qe.fromString(e,...n);return bg(s),new ri(i,null,s)}{if(!(i instanceof Mn||i instanceof ri))throw new he(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Qe.fromString(e,...n));return bg(s),new ri(i.firestore,null,s)}}function zg(i,e,...n){if(i=On(i),arguments.length===1&&(e=Wy.newId()),t_("doc","path",e),i instanceof Ku){const s=Qe.fromString(e,...n);return Fg(s),new Mn(i,null,new ye(s))}{if(!(i instanceof Mn||i instanceof ri))throw new he(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Qe.fromString(e,...n));return Fg(s),new Mn(i.firestore,i instanceof ri?i.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg="AsyncQueue";class $g{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Fv(this,"async_queue_retry"),this.Su=()=>{const s=Uh();s&&oe(Bg,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=Uh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Uh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ni;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!lo(e))throw e;oe(Bg,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(h){let f=h.message||"";return h.stack&&(f=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),f}(s);throw Sr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Kd.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&ve()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Zd extends Ku{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new $g,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $g(e),this._firestoreClient=void 0,await e}}}function KA(i,e){const n=typeof i=="object"?i:py(),s=typeof i=="string"?i:yu,o=Ca(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=iE("firestore");u&&WA(o,...u)}return o}function ef(i){if(i._terminated)throw new he(X.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||GA(i),i._firestoreClient}function GA(i){var e,n,s;const o=i._freezeSettings(),u=function(f,g,v,E){return new fI(f,g,v,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,e_(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new UA(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(f){const g=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ro(Pt.fromBase64String(e))}catch(n){throw new he(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ro(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=/^__.*__$/;class YA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new mi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pa(e,this.data,n,this.fieldTransforms)}}class r_{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new mi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function i_(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class sf{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new sf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Pu(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(i_(this.Lu)&&QA.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class XA{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Hu(e)}ju(e,n,s,o=!1){return new sf({Lu:e,methodName:n,zu:s,path:Ct.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function JA(i){const e=i._freezeSettings(),n=Hu(i._databaseId);return new XA(i._databaseId,!!e.ignoreUndefinedProperties,n)}function ZA(i,e,n,s,o,u={}){const h=i.ju(u.merge||u.mergeFields?2:0,e,n,o);of("Data must be an object, but it was:",h,s);const f=s_(s,h);let g,v;if(u.merge)g=new an(h.fieldMask),v=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const A=fd(e,S,n);if(!h.contains(A))throw new he(X.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);a_(E,A)||E.push(A)}g=new an(E),v=h.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,v=h.fieldTransforms;return new YA(new Xt(f),g,v)}class Yu extends tf{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yu}}function eR(i,e,n,s){const o=i.ju(1,e,n);of("Data must be an object, but it was:",o,s);const u=[],h=Xt.empty();pi(s,(g,v)=>{const E=af(e,g,n);v=On(v);const S=o.Ku(E);if(v instanceof Yu)u.push(E);else{const A=Xu(v,S);A!=null&&(u.push(E),h.set(E,A))}});const f=new an(u);return new r_(h,f,o.fieldTransforms)}function tR(i,e,n,s,o,u){const h=i.ju(1,e,n),f=[fd(e,s,n)],g=[o];if(u.length%2!=0)throw new he(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)f.push(fd(e,u[A])),g.push(u[A+1]);const v=[],E=Xt.empty();for(let A=f.length-1;A>=0;--A)if(!a_(v,f[A])){const V=f[A];let j=g[A];j=On(j);const H=h.Ku(V);if(j instanceof Yu)v.push(V);else{const z=Xu(j,H);z!=null&&(v.push(V),E.set(V,z))}}const S=new an(v);return new r_(E,S,h.fieldTransforms)}function Xu(i,e){if(o_(i=On(i)))return of("Unsupported field value:",e,i),s_(i,e);if(i instanceof tf)return function(s,o){if(!i_(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const f of s){let g=Xu(f,o.Uu(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=On(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return OI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=pt.fromDate(s);return{timestampValue:Iu(o.serializer,u)}}if(s instanceof pt){const u=new pt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Iu(o.serializer,u)}}if(s instanceof nf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ro)return{bytesValue:Rv(o.serializer,s._byteString)};if(s instanceof Mn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:bd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof rf)return function(h,f){return{mapValue:{fields:{[ev]:{stringValue:nv},[vu]:{arrayValue:{values:h.toArray().map(v=>{if(typeof v!="number")throw f.Wu("VectorValues must only contain numeric values.");return Ld(f.serializer,v)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Jd(s)}`)}(i,e)}function s_(i,e){const n={};return Gy(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pi(i,(s,o)=>{const u=Xu(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function o_(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof pt||i instanceof nf||i instanceof ro||i instanceof Mn||i instanceof tf||i instanceof rf)}function of(i,e,n){if(!o_(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Jd(n);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function fd(i,e,n){if((e=On(e))instanceof Qu)return e._internalPath;if(typeof e=="string")return af(i,e);throw Pu("Field path arguments must be of type string or ",i,!1,void 0,n)}const nR=new RegExp("[~\\*/\\[\\]]");function af(i,e,n){if(e.search(nR)>=0)throw Pu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Qu(...e.split("."))._internalPath}catch{throw Pu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Pu(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new he(X.INVALID_ARGUMENT,f+i+g)}function a_(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(u_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rR extends l_{data(){return super.data()}}function u_(i,e){return typeof e=="string"?af(i,e):e instanceof Qu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sR{convertValue(e,n="none"){switch(ui(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(li(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return pi(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[vu].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>it(h.doubleValue));return new rf(u)}convertGeoPoint(e){return new nf(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Fu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(_a(e));default:return null}}convertTimestamp(e){const n=ai(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Qe.fromString(e);be(Dv(s));const o=new wa(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||Sr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aR extends l_{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(u_("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class lu extends aR{data(e={}){return super.data(e)}}class lR{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new eu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new lu(this._firestore,this._userDataWriter,s.key,s,new eu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(f=>{const g=new lu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new eu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>u||f.type!==3).map(f=>{const g=new lu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new eu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,E=-1;return f.type!==0&&(v=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),E=h.indexOf(f.doc.key)),{type:uR(f.type),doc:g,oldIndex:v,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function uR(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}class cR extends sR{constructor(e){super(),this.firestore=e}convertBytes(e){return new ro(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mn(this.firestore,null,n)}}function hR(i){i=Cu(i,Gu);const e=Cu(i.firestore,Zd),n=ef(e),s=new cR(e);return iR(i._query),HA(n,i._query).then(o=>new lR(e,s,i,o))}function dR(i,e){return function(s,o){const u=new ni;return s.asyncQueue.enqueueAndForget(async()=>xA(await BA(s),o,u)),u.promise}(ef(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=JA(e)}set(e,n,s){this._verifyNotCommitted();const o=Bh(e,this._firestore),u=oR(o.converter,n,s),h=ZA(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(h.toMutation(o._key,Ln.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const u=Bh(e,this._firestore);let h;return h=typeof(n=On(n))=="string"||n instanceof Qu?tR(this._dataReader,"WriteBatch.update",u._key,n,s,o):eR(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(h.toMutation(u._key,Ln.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Bh(e,this._firestore);return this._mutations=this._mutations.concat(new Md(n._key,Ln.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new he(X.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Bh(i,e){if((i=On(i)).firestore!==e)throw new he(X.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(i){return ef(i=Cu(i,Zd)),new fR(i,e=>dR(i,e))}(function(e,n=!0){(function(o){oo=o})(yT),si(new Tr("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),f=new Zd(new X1(s.getProvider("auth-internal")),new eI(h,s.getProvider("app-check-internal")),function(v,E){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new he(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wa(v.options.projectId,E)}(h,o),h);return u=Object.assign({useFetchStreams:n},u),f._setSettings(u),f},"PUBLIC").setMultipleInstances(!0)),Qn(Qm,Ym,e),Qn(Qm,Ym,"esm2017")})();const mR={apiKey:"AIzaSyCctttVWGUc5IBnmkH8U1kLGmSG1z-CpA0",authDomain:"ecommerce-suplementos-78176.firebaseapp.com",projectId:"ecommerce-suplementos-78176",storageBucket:"ecommerce-suplementos-78176.firebasestorage.app",messagingSenderId:"908532172304",appId:"1:908532172304:web:15b22e3cbdd8aa1f00ac95",measurementId:"G-L9HTD6TPZJ"},c_=fy(mR);q1(c_);const uu=KA(c_);async function gR(){return(await hR(dd(uu,"products"))).docs.map(n=>n.data())}const yR=async i=>{const e=pR(uu),{name:n,last_name:s,email:o,password:u,addressToRef:h}=i,{street:f,colonia:g}=h,v=zg(dd(uu,"users")),E=zg(dd(uu,"address")),S={name:n,last_name:s,email:o,password:u,addressRef:E},A={street:f,colonia:g};e.set(v,S),e.set(E,A);try{await e.commit(),console.log("Usuario creado correctamente")}catch(V){throw console.error("Error al crear usuario",V),V}},vR=()=>{const[i,e]=q.useState([]);return q.useEffect(()=>{(async()=>{try{const s=await gR();e(s)}catch(s){console.error("Error al obtener productos:",s)}})()},[]),L.jsxs("div",{className:"store-container-wrapper",children:[L.jsx("div",{}),L.jsx("div",{className:"store-container",children:L.jsx("ul",{className:"ul_itemslist",children:i.map(n=>L.jsxs("li",{className:"li_itemslist",children:[L.jsxs("div",{children:[L.jsx("div",{children:L.jsx("img",{className:"li_img_product",src:n.img,alt:n.desc})}),L.jsx("div",{children:L.jsx("h3",{children:n.name})}),L.jsx("div",{children:L.jsxs("h4",{children:["$",n.price]})})]}),L.jsx("div",{className:"div_details_and_cart",children:L.jsx(wr,{to:`/ProjectGymReact/product/detail/${n.id}`,state:n,children:L.jsx("div",{className:"div_details",children:L.jsx("p",{className:"p_details",children:"Ver detalle"})})})})]},n.id))})}),L.jsx("div",{})]})},_R=({userName:i,userLastname:e})=>L.jsxs("section",{className:"div_principal_contenido",children:[L.jsxs("h1",{children:["¡Bienvenido ",i??"a RealMan"," ",e??"","!"]}),L.jsx(vR,{className:"items_list"})]}),wR=({quantity:i,setQuantity:e})=>{const n=()=>e(i+1),s=()=>e(i>1?i-1:1);return L.jsxs("div",{className:"div_detail_container_quantity",children:[L.jsx("button",{className:"btn_detail_decrement",onClick:s,children:"-"}),L.jsx("p",{className:"p_text_quantity",children:L.jsx("span",{children:i})}),L.jsx("button",{className:"btn_detail_increment",onClick:n,children:"+"})]})},ER=({product:i})=>{const[e,n]=q.useState(1),{getCartShopping:s}=q.useContext(Nu),o=()=>{s(i,e)};return L.jsx("section",{className:"section_detail_product",children:L.jsxs("div",{className:"div_container_detail",children:[L.jsx("div",{className:"div_img_container",children:L.jsx("div",{children:L.jsx("img",{src:i.img,alt:i.desc})})}),L.jsxs("div",{className:"div_detail_container_data",children:[L.jsx("div",{children:L.jsx("h2",{children:i.name})}),L.jsx("div",{className:"div_detail_desc",children:L.jsxs("p",{children:["Lorem ipsum dolor sit amet consectetur adipisicing elit. Eum minima et natus molestiae, ",L.jsx("br",{}),"saepe nobis esse, aspernatur sapiente similique quidem laboriosam maxime, tenetur ",L.jsx("br",{})," suscipit quod illum labore laudantium animi fugit!"]})}),L.jsxs("div",{className:"div_detail_price",children:["$",i.price]}),L.jsx("div",{className:"div_detail_principal_container_quantity",children:L.jsx(wR,{quantity:e,setQuantity:n})}),L.jsx("div",{className:"div_add_to_cart",children:L.jsx("button",{className:"btn_add_to_cart",onClick:o,children:"Agregar al carrito"})})]})]})})},TR=()=>{const e=di().state;return L.jsx(ER,{product:e})},IR=(i,e,n)=>{const s=[...i],o=s.findIndex(u=>u.id===e.id);return o!==-1?s[o].quantity+=n:(e.quantity=n,s.push({...e})),s},SR=({children:i})=>{const[e,n]=q.useState([]),[s,o]=q.useState(0),u=f=>{o(g=>g+f)},h=(f,g)=>{const v=IR(e,f,g);n(v),u(g)};return L.jsx(Nu.Provider,{value:{cartShopping:e,getCartShopping:h,quantityFinal:s},children:i})},AR=({cantidad:i})=>{const e=i!==void 0?i:1,[n,s]=q.useState(e),o=()=>s(n+1),u=()=>s(n>1?n-1:1);return L.jsxs("div",{className:"div_detail_container_quantity",children:[L.jsx("button",{className:"btn_detail_decrement",onClick:u,children:"-"}),L.jsx("p",{className:"p_text_quantity",children:L.jsx("span",{children:n})}),L.jsx("button",{className:"btn_detail_increment",onClick:o,children:"+"})]})},h_=()=>L.jsx("div",{children:L.jsx("h2",{children:"Hi"})}),RR=()=>{const{cartShopping:i,quantityFinal:e}=q.useContext(Nu);function n(){let o=0;return[...i].forEach(h=>{o+=h.price*h.quantity}),o}const s=n();return L.jsx("section",{children:i.length===0?L.jsx("div",{children:L.jsx("h2",{children:"Hello world, there is nothing in your cart. Please add something to continue."})}):L.jsxs("div",{children:[L.jsx("div",{className:"div_title_cart_summary",children:L.jsx("h3",{children:"Tus productos"})}),L.jsxs("div",{className:"div_principal_cart_summary",children:[L.jsx("div",{className:"div_cart_summary_items",children:L.jsx("ul",{children:i.map((o,u)=>L.jsx("li",{className:"li_cart_summary",children:L.jsxs("div",{className:"div_principal_li_cart_summary",children:[L.jsx("div",{className:"div_cart_summary_img",children:L.jsx("img",{src:o.img,alt:o.desc})}),L.jsxs("div",{children:[L.jsxs("div",{children:[L.jsx("h4",{children:o.name}),L.jsx("h4",{children:o.desc})]}),L.jsx("div",{children:L.jsxs("h4",{children:["$",o.price,".00"]})})]}),L.jsxs("div",{className:"div_cart_summary_quantity_control",children:[L.jsx(AR,{cantidad:o.quantity}),L.jsx("div",{className:"div_cart_summary_btn_eliminar",children:L.jsx("button",{onClick:console.log("Eliminando"),children:"Eliminar"})})]})]})},u))})}),L.jsxs("div",{className:"div_cart_summary_checkout",children:[L.jsx("div",{children:L.jsxs("h3",{children:["Total: $",s,".00"]})}),L.jsx("div",{children:L.jsx("h3",{children:"Envío: $0.00"})}),L.jsx("div",{children:L.jsxs("h3",{children:["Cantidad: ",e]})}),L.jsx("div",{children:L.jsx("h3",{children:"Dirección: "})}),L.jsx("div",{className:"div_btn_buy",children:L.jsx(wr,{to:h_,className:"btn_buy",children:" Comprar "})})]})]})]})})},CR=()=>{const[i,e]=q.useState(""),[n,s]=q.useState(""),o=u=>{u.preventDefault(),console.log("Email:",i),console.log("Password:",n)};return L.jsx("section",{children:L.jsxs("form",{onSubmit:o,children:[L.jsxs("div",{children:[L.jsx("label",{htmlFor:"email",children:"Email:"}),L.jsx("input",{type:"email",id:"email",name:"email",value:i,onChange:u=>e(u.target.value),required:!0})]}),L.jsxs("div",{children:[L.jsx("label",{htmlFor:"password",children:"Contraseña:"}),L.jsx("input",{type:"password",id:"password",name:"password",value:n,onChange:u=>s(u.target.value),required:!0})]}),L.jsx("button",{type:"submit",children:"Iniciar sesión"}),L.jsxs("div",{children:[L.jsxs("p",{children:["¿No tienes una cuenta? ",L.jsx(wr,{to:"/ProjectGymReact/Register",children:"Regístrate aquí"})]}),L.jsx("button",{type:"button",children:"Recuperar contraseña"})]})]})})},PR=()=>{const[i,e]=q.useState({name:"",last_name:"",email:"",password:"",addressToRef:""}),[n,s]=q.useState({street:"",colonia:""}),o=f=>{const{name:g,value:v}=f.target;e({...i,[g]:v})},u=f=>{const{name:g,value:v}=f.target;s({...n,[g]:v})},h=f=>{f.preventDefault();const g={...i,addressToRef:{...n}};yR(g)};return L.jsx("section",{children:L.jsxs("form",{action:"/ProjectGymReact",onSubmit:h,children:[L.jsxs("div",{children:[L.jsx("label",{htmlFor:"nombres",children:"Nombre(s):"}),L.jsx("input",{type:"text",id:"nombres",name:"name",value:i.name,onChange:o,required:!0})]}),L.jsxs("div",{children:[L.jsx("label",{htmlFor:"apellidos",children:"Apellidos:"}),L.jsx("input",{type:"text",id:"apellidos",name:"last_name",value:i.last_name,onChange:o,required:!0})]}),L.jsxs("div",{children:[L.jsx("label",{htmlFor:"email",children:"Email:"}),L.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:o,required:!0})]}),L.jsxs("div",{children:[L.jsx("label",{htmlFor:"password",children:"Contraseña:"}),L.jsx("input",{type:"password",id:"password",name:"password",value:i.password,onChange:o,required:!0})]}),L.jsxs("div",{children:[L.jsx("label",{htmlFor:"calle",children:"Calle:"}),L.jsx("input",{type:"text",id:"calle",name:"street",value:n.street,onChange:u,required:!0})]}),L.jsxs("div",{children:[L.jsx("label",{htmlFor:"colonia",children:"Colonia:"}),L.jsx("input",{type:"text",id:"colonia",name:"colonia",value:n.colonia,onChange:u,required:!0})]}),L.jsx("button",{type:"submit",children:"Registrar"})]})})};function kR(){const i={name:"Brandon",lastname:"Adata"};return L.jsx(Fw,{children:L.jsxs(SR,{children:[L.jsx(Kw,{}),L.jsxs(fw,{children:[L.jsx(Hi,{path:"/ProjectGymReact/",element:L.jsx(_R,{userName:i.name,userLastname:i.lastname})}),L.jsx(Hi,{path:"/ProjectGymReact/product/detail/:id/",element:L.jsx(TR,{})}),L.jsx(Hi,{path:"/ProjectGymReact/CartSummary",element:L.jsx(RR,{})}),L.jsx(Hi,{path:"/ProjectGymReact/CartSummary/CartCheckout",element:L.jsx(h_,{})}),L.jsx(Hi,{path:"/ProjectGymReact/Login",element:L.jsx(CR,{})}),L.jsx(Hi,{path:"/ProjectGymReact/Register",element:L.jsx(PR,{})})]}),L.jsx(Gw,{})]})})}T0.createRoot(document.getElementById("root")).render(L.jsx(q.StrictMode,{children:L.jsx(kR,{})}));
