(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var Ph={exports:{}},oa={},kh={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm;function C0(){if(wm)return Ae;wm=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),S=Symbol.iterator;function A(M){return M===null||typeof M!="object"?null:(M=S&&M[S]||M["@@iterator"],typeof M=="function"?M:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,q={};function z(M,K,de){this.props=M,this.context=K,this.refs=q,this.updater=de||L}z.prototype.isReactComponent={},z.prototype.setState=function(M,K){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,K,"setState")},z.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Q(){}Q.prototype=z.prototype;function J(M,K,de){this.props=M,this.context=K,this.refs=q,this.updater=de||L}var re=J.prototype=new Q;re.constructor=J,j(re,z.prototype),re.isPureReactComponent=!0;var fe=Array.isArray,Ce=Object.prototype.hasOwnProperty,Te={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function T(M,K,de){var Ie,Se={},xe=null,Oe=null;if(K!=null)for(Ie in K.ref!==void 0&&(Oe=K.ref),K.key!==void 0&&(xe=""+K.key),K)Ce.call(K,Ie)&&!x.hasOwnProperty(Ie)&&(Se[Ie]=K[Ie]);var Fe=arguments.length-2;if(Fe===1)Se.children=de;else if(1<Fe){for(var Be=Array(Fe),gt=0;gt<Fe;gt++)Be[gt]=arguments[gt+2];Se.children=Be}if(M&&M.defaultProps)for(Ie in Fe=M.defaultProps,Fe)Se[Ie]===void 0&&(Se[Ie]=Fe[Ie]);return{$$typeof:r,type:M,key:xe,ref:Oe,props:Se,_owner:Te.current}}function C(M,K){return{$$typeof:r,type:M.type,key:K,ref:M.ref,props:M.props,_owner:M._owner}}function k(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function V(M){var K={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(de){return K[de]})}var O=/\/+/g;function R(M,K){return typeof M=="object"&&M!==null&&M.key!=null?V(""+M.key):K.toString(36)}function tt(M,K,de,Ie,Se){var xe=typeof M;(xe==="undefined"||xe==="boolean")&&(M=null);var Oe=!1;if(M===null)Oe=!0;else switch(xe){case"string":case"number":Oe=!0;break;case"object":switch(M.$$typeof){case r:case e:Oe=!0}}if(Oe)return Oe=M,Se=Se(Oe),M=Ie===""?"."+R(Oe,0):Ie,fe(Se)?(de="",M!=null&&(de=M.replace(O,"$&/")+"/"),tt(Se,K,de,"",function(gt){return gt})):Se!=null&&(k(Se)&&(Se=C(Se,de+(!Se.key||Oe&&Oe.key===Se.key?"":(""+Se.key).replace(O,"$&/")+"/")+M)),K.push(Se)),1;if(Oe=0,Ie=Ie===""?".":Ie+":",fe(M))for(var Fe=0;Fe<M.length;Fe++){xe=M[Fe];var Be=Ie+R(xe,Fe);Oe+=tt(xe,K,de,Be,Se)}else if(Be=A(M),typeof Be=="function")for(M=Be.call(M),Fe=0;!(xe=M.next()).done;)xe=xe.value,Be=Ie+R(xe,Fe++),Oe+=tt(xe,K,de,Be,Se);else if(xe==="object")throw K=String(M),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Oe}function kt(M,K,de){if(M==null)return M;var Ie=[],Se=0;return tt(M,Ie,"","",function(xe){return K.call(de,xe,Se++)}),Ie}function xt(M){if(M._status===-1){var K=M._result;K=K(),K.then(function(de){(M._status===0||M._status===-1)&&(M._status=1,M._result=de)},function(de){(M._status===0||M._status===-1)&&(M._status=2,M._result=de)}),M._status===-1&&(M._status=0,M._result=K)}if(M._status===1)return M._result.default;throw M._result}var Ue={current:null},ne={transition:null},me={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:ne,ReactCurrentOwner:Te};function se(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:kt,forEach:function(M,K,de){kt(M,function(){K.apply(this,arguments)},de)},count:function(M){var K=0;return kt(M,function(){K++}),K},toArray:function(M){return kt(M,function(K){return K})||[]},only:function(M){if(!k(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ae.Component=z,Ae.Fragment=t,Ae.Profiler=o,Ae.PureComponent=J,Ae.StrictMode=s,Ae.Suspense=g,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Ae.act=se,Ae.cloneElement=function(M,K,de){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Ie=j({},M.props),Se=M.key,xe=M.ref,Oe=M._owner;if(K!=null){if(K.ref!==void 0&&(xe=K.ref,Oe=Te.current),K.key!==void 0&&(Se=""+K.key),M.type&&M.type.defaultProps)var Fe=M.type.defaultProps;for(Be in K)Ce.call(K,Be)&&!x.hasOwnProperty(Be)&&(Ie[Be]=K[Be]===void 0&&Fe!==void 0?Fe[Be]:K[Be])}var Be=arguments.length-2;if(Be===1)Ie.children=de;else if(1<Be){Fe=Array(Be);for(var gt=0;gt<Be;gt++)Fe[gt]=arguments[gt+2];Ie.children=Fe}return{$$typeof:r,type:M.type,key:Se,ref:xe,props:Ie,_owner:Oe}},Ae.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:u,_context:M},M.Consumer=M},Ae.createElement=T,Ae.createFactory=function(M){var K=T.bind(null,M);return K.type=M,K},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(M){return{$$typeof:f,render:M}},Ae.isValidElement=k,Ae.lazy=function(M){return{$$typeof:w,_payload:{_status:-1,_result:M},_init:xt}},Ae.memo=function(M,K){return{$$typeof:v,type:M,compare:K===void 0?null:K}},Ae.startTransition=function(M){var K=ne.transition;ne.transition={};try{M()}finally{ne.transition=K}},Ae.unstable_act=se,Ae.useCallback=function(M,K){return Ue.current.useCallback(M,K)},Ae.useContext=function(M){return Ue.current.useContext(M)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(M){return Ue.current.useDeferredValue(M)},Ae.useEffect=function(M,K){return Ue.current.useEffect(M,K)},Ae.useId=function(){return Ue.current.useId()},Ae.useImperativeHandle=function(M,K,de){return Ue.current.useImperativeHandle(M,K,de)},Ae.useInsertionEffect=function(M,K){return Ue.current.useInsertionEffect(M,K)},Ae.useLayoutEffect=function(M,K){return Ue.current.useLayoutEffect(M,K)},Ae.useMemo=function(M,K){return Ue.current.useMemo(M,K)},Ae.useReducer=function(M,K,de){return Ue.current.useReducer(M,K,de)},Ae.useRef=function(M){return Ue.current.useRef(M)},Ae.useState=function(M){return Ue.current.useState(M)},Ae.useSyncExternalStore=function(M,K,de){return Ue.current.useSyncExternalStore(M,K,de)},Ae.useTransition=function(){return Ue.current.useTransition()},Ae.version="18.3.1",Ae}var Em;function vd(){return Em||(Em=1,kh.exports=C0()),kh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm;function R0(){if(Tm)return oa;Tm=1;var r=vd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(f,g,v){var w,S={},A=null,L=null;v!==void 0&&(A=""+v),g.key!==void 0&&(A=""+g.key),g.ref!==void 0&&(L=g.ref);for(w in g)s.call(g,w)&&!u.hasOwnProperty(w)&&(S[w]=g[w]);if(f&&f.defaultProps)for(w in g=f.defaultProps,g)S[w]===void 0&&(S[w]=g[w]);return{$$typeof:e,type:f,key:A,ref:L,props:S,_owner:o.current}}return oa.Fragment=t,oa.jsx=h,oa.jsxs=h,oa}var Im;function P0(){return Im||(Im=1,Ph.exports=R0()),Ph.exports}var D=P0(),H=vd(),Xl={},xh={exports:{}},Qt={},Nh={exports:{}},Vh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sm;function k0(){return Sm||(Sm=1,function(r){function e(ne,me){var se=ne.length;ne.push(me);e:for(;0<se;){var M=se-1>>>1,K=ne[M];if(0<o(K,me))ne[M]=me,ne[se]=K,se=M;else break e}}function t(ne){return ne.length===0?null:ne[0]}function s(ne){if(ne.length===0)return null;var me=ne[0],se=ne.pop();if(se!==me){ne[0]=se;e:for(var M=0,K=ne.length,de=K>>>1;M<de;){var Ie=2*(M+1)-1,Se=ne[Ie],xe=Ie+1,Oe=ne[xe];if(0>o(Se,se))xe<K&&0>o(Oe,Se)?(ne[M]=Oe,ne[xe]=se,M=xe):(ne[M]=Se,ne[Ie]=se,M=Ie);else if(xe<K&&0>o(Oe,se))ne[M]=Oe,ne[xe]=se,M=xe;else break e}}return me}function o(ne,me){var se=ne.sortIndex-me.sortIndex;return se!==0?se:ne.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,f=h.now();r.unstable_now=function(){return h.now()-f}}var g=[],v=[],w=1,S=null,A=3,L=!1,j=!1,q=!1,z=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function re(ne){for(var me=t(v);me!==null;){if(me.callback===null)s(v);else if(me.startTime<=ne)s(v),me.sortIndex=me.expirationTime,e(g,me);else break;me=t(v)}}function fe(ne){if(q=!1,re(ne),!j)if(t(g)!==null)j=!0,xt(Ce);else{var me=t(v);me!==null&&Ue(fe,me.startTime-ne)}}function Ce(ne,me){j=!1,q&&(q=!1,Q(T),T=-1),L=!0;var se=A;try{for(re(me),S=t(g);S!==null&&(!(S.expirationTime>me)||ne&&!V());){var M=S.callback;if(typeof M=="function"){S.callback=null,A=S.priorityLevel;var K=M(S.expirationTime<=me);me=r.unstable_now(),typeof K=="function"?S.callback=K:S===t(g)&&s(g),re(me)}else s(g);S=t(g)}if(S!==null)var de=!0;else{var Ie=t(v);Ie!==null&&Ue(fe,Ie.startTime-me),de=!1}return de}finally{S=null,A=se,L=!1}}var Te=!1,x=null,T=-1,C=5,k=-1;function V(){return!(r.unstable_now()-k<C)}function O(){if(x!==null){var ne=r.unstable_now();k=ne;var me=!0;try{me=x(!0,ne)}finally{me?R():(Te=!1,x=null)}}else Te=!1}var R;if(typeof J=="function")R=function(){J(O)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,kt=tt.port2;tt.port1.onmessage=O,R=function(){kt.postMessage(null)}}else R=function(){z(O,0)};function xt(ne){x=ne,Te||(Te=!0,R())}function Ue(ne,me){T=z(function(){ne(r.unstable_now())},me)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ne){ne.callback=null},r.unstable_continueExecution=function(){j||L||(j=!0,xt(Ce))},r.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ne?Math.floor(1e3/ne):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_getFirstCallbackNode=function(){return t(g)},r.unstable_next=function(ne){switch(A){case 1:case 2:case 3:var me=3;break;default:me=A}var se=A;A=me;try{return ne()}finally{A=se}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ne,me){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var se=A;A=ne;try{return me()}finally{A=se}},r.unstable_scheduleCallback=function(ne,me,se){var M=r.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?M+se:M):se=M,ne){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=se+K,ne={id:w++,callback:me,priorityLevel:ne,startTime:se,expirationTime:K,sortIndex:-1},se>M?(ne.sortIndex=se,e(v,ne),t(g)===null&&ne===t(v)&&(q?(Q(T),T=-1):q=!0,Ue(fe,se-M))):(ne.sortIndex=K,e(g,ne),j||L||(j=!0,xt(Ce))),ne},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(ne){var me=A;return function(){var se=A;A=me;try{return ne.apply(this,arguments)}finally{A=se}}}}(Vh)),Vh}var Am;function x0(){return Am||(Am=1,Nh.exports=k0()),Nh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cm;function N0(){if(Cm)return Qt;Cm=1;var r=vd(),e=x0();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function u(n,i){h(n,i),h(n+"Capture",i)}function h(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},S={};function A(n){return g.call(S,n)?!0:g.call(w,n)?!1:v.test(n)?S[n]=!0:(w[n]=!0,!1)}function L(n,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function j(n,i,a,c){if(i===null||typeof i>"u"||L(n,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function q(n,i,a,c,d,m,_){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=i,this.sanitizeURL=m,this.removeEmptyString=_}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){z[n]=new q(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];z[i]=new q(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){z[n]=new q(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){z[n]=new q(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){z[n]=new q(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){z[n]=new q(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){z[n]=new q(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){z[n]=new q(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){z[n]=new q(n,5,!1,n.toLowerCase(),null,!1,!1)});var Q=/[\-:]([a-z])/g;function J(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(Q,J);z[i]=new q(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(Q,J);z[i]=new q(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(Q,J);z[i]=new q(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){z[n]=new q(n,1,!1,n.toLowerCase(),null,!1,!1)}),z.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){z[n]=new q(n,1,!1,n.toLowerCase(),null,!0,!0)});function re(n,i,a,c){var d=z.hasOwnProperty(i)?z[i]:null;(d!==null?d.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(j(i,a,d,c)&&(a=null),c||d===null?A(i)&&(a===null?n.removeAttribute(i):n.setAttribute(i,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(i=d.attributeName,c=d.attributeNamespace,a===null?n.removeAttribute(i):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?n.setAttributeNS(c,i,a):n.setAttribute(i,a))))}var fe=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ce=Symbol.for("react.element"),Te=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),V=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),kt=Symbol.for("react.memo"),xt=Symbol.for("react.lazy"),Ue=Symbol.for("react.offscreen"),ne=Symbol.iterator;function me(n){return n===null||typeof n!="object"?null:(n=ne&&n[ne]||n["@@iterator"],typeof n=="function"?n:null)}var se=Object.assign,M;function K(n){if(M===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);M=i&&i[1]||""}return`
`+M+n}var de=!1;function Ie(n,i){if(!n||de)return"";de=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(B){var c=B}Reflect.construct(n,[],i)}else{try{i.call()}catch(B){c=B}n.call(i.prototype)}else{try{throw Error()}catch(B){c=B}n()}}catch(B){if(B&&c&&typeof B.stack=="string"){for(var d=B.stack.split(`
`),m=c.stack.split(`
`),_=d.length-1,I=m.length-1;1<=_&&0<=I&&d[_]!==m[I];)I--;for(;1<=_&&0<=I;_--,I--)if(d[_]!==m[I]){if(_!==1||I!==1)do if(_--,I--,0>I||d[_]!==m[I]){var P=`
`+d[_].replace(" at new "," at ");return n.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",n.displayName)),P}while(1<=_&&0<=I);break}}}finally{de=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?K(n):""}function Se(n){switch(n.tag){case 5:return K(n.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return n=Ie(n.type,!1),n;case 11:return n=Ie(n.type.render,!1),n;case 1:return n=Ie(n.type,!0),n;default:return""}}function xe(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case x:return"Fragment";case Te:return"Portal";case C:return"Profiler";case T:return"StrictMode";case R:return"Suspense";case tt:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case V:return(n.displayName||"Context")+".Consumer";case k:return(n._context.displayName||"Context")+".Provider";case O:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case kt:return i=n.displayName||null,i!==null?i:xe(n.type)||"Memo";case xt:i=n._payload,n=n._init;try{return xe(n(i))}catch{}}return null}function Oe(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(i);case 8:return i===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Fe(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Be(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function gt(n){var i=Be(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return d.call(this)},set:function(_){c=""+_,m.call(this,_)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function ir(n){n._valueTracker||(n._valueTracker=gt(n))}function es(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return n&&(c=Be(n)?n.checked?"true":"false":n.value),n=c,n!==a?(i.setValue(n),!0):!1}function Pr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function gi(n,i){var a=i.checked;return se({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function ts(n,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=Fe(i.value!=null?i.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ho(n,i){i=i.checked,i!=null&&re(n,"checked",i,!1)}function fo(n,i){ho(n,i);var a=Fe(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?ns(n,i.type,a):i.hasOwnProperty("defaultValue")&&ns(n,i.type,Fe(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function Oa(n,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,a||i===n.value||(n.value=i),n.defaultValue=i}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function ns(n,i,a){(i!=="number"||Pr(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var sr=Array.isArray;function or(n,i,a,c){if(n=n.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=i.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Fe(a),i=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}i!==null||n[d].disabled||(i=n[d])}i!==null&&(i.selected=!0)}}function po(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function rs(n,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(sr(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}n._wrapperState={initialValue:Fe(a)}}function is(n,i){var a=Fe(i.value),c=Fe(i.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),i.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function mo(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function ut(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ct(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?ut(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ar,go=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,d){MSApp.execUnsafeLocalFunction(function(){return n(i,a,c,d)})}:n}(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(ar=ar||document.createElement("div"),ar.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=ar.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function kr(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var yi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vi=["Webkit","ms","Moz","O"];Object.keys(yi).forEach(function(n){vi.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),yi[i]=yi[n]})});function yo(n,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||yi.hasOwnProperty(n)&&yi[n]?(""+i).trim():i+"px"}function vo(n,i){n=n.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=yo(a,i[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,d):n[a]=d}}var _o=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wo(n,i){if(i){if(_o[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Eo(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _i=null;function ss(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var os=null,cn=null,jn=null;function as(n){if(n=Ho(n)){if(typeof os!="function")throw Error(t(280));var i=n.stateNode;i&&(i=dl(i),os(n.stateNode,n.type,i))}}function Un(n){cn?jn?jn.push(n):jn=[n]:cn=n}function To(){if(cn){var n=cn,i=jn;if(jn=cn=null,as(n),i)for(n=0;n<i.length;n++)as(i[n])}}function wi(n,i){return n(i)}function Io(){}var lr=!1;function So(n,i,a){if(lr)return n(i,a);lr=!0;try{return wi(n,i,a)}finally{lr=!1,(cn!==null||jn!==null)&&(Io(),To())}}function nt(n,i){var a=n.stateNode;if(a===null)return null;var c=dl(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var ls=!1;if(f)try{var Tn={};Object.defineProperty(Tn,"passive",{get:function(){ls=!0}}),window.addEventListener("test",Tn,Tn),window.removeEventListener("test",Tn,Tn)}catch{ls=!1}function Ei(n,i,a,c,d,m,_,I,P){var B=Array.prototype.slice.call(arguments,3);try{i.apply(a,B)}catch(X){this.onError(X)}}var Ti=!1,us=null,In=!1,Ao=null,nc={onError:function(n){Ti=!0,us=n}};function cs(n,i,a,c,d,m,_,I,P){Ti=!1,us=null,Ei.apply(nc,arguments)}function Fa(n,i,a,c,d,m,_,I,P){if(cs.apply(this,arguments),Ti){if(Ti){var B=us;Ti=!1,us=null}else throw Error(t(198));In||(In=!0,Ao=B)}}function Sn(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,i.flags&4098&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function Ii(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function An(n){if(Sn(n)!==n)throw Error(t(188))}function ba(n){var i=n.alternate;if(!i){if(i=Sn(n),i===null)throw Error(t(188));return i!==n?null:n}for(var a=n,c=i;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return An(d),n;if(m===c)return An(d),i;m=m.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=m;else{for(var _=!1,I=d.child;I;){if(I===a){_=!0,a=d,c=m;break}if(I===c){_=!0,c=d,a=m;break}I=I.sibling}if(!_){for(I=m.child;I;){if(I===a){_=!0,a=m,c=d;break}if(I===c){_=!0,c=m,a=d;break}I=I.sibling}if(!_)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:i}function Co(n){return n=ba(n),n!==null?hs(n):null}function hs(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=hs(n);if(i!==null)return i;n=n.sibling}return null}var ds=e.unstable_scheduleCallback,Ro=e.unstable_cancelCallback,ja=e.unstable_shouldYield,rc=e.unstable_requestPaint,$e=e.unstable_now,Ua=e.unstable_getCurrentPriorityLevel,Si=e.unstable_ImmediatePriority,xr=e.unstable_UserBlockingPriority,hn=e.unstable_NormalPriority,Po=e.unstable_LowPriority,za=e.unstable_IdlePriority,Ai=null,en=null;function Ba(n){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Ai,n,void 0,(n.current.flags&128)===128)}catch{}}var bt=Math.clz32?Math.clz32:qa,ko=Math.log,$a=Math.LN2;function qa(n){return n>>>=0,n===0?32:31-(ko(n)/$a|0)|0}var fs=64,ps=4194304;function Nr(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ci(n,i){var a=n.pendingLanes;if(a===0)return 0;var c=0,d=n.suspendedLanes,m=n.pingedLanes,_=a&268435455;if(_!==0){var I=_&~d;I!==0?c=Nr(I):(m&=_,m!==0&&(c=Nr(m)))}else _=a&~d,_!==0?c=Nr(_):m!==0&&(c=Nr(m));if(c===0)return 0;if(i!==0&&i!==c&&!(i&d)&&(d=c&-c,m=i&-i,d>=m||d===16&&(m&4194240)!==0))return i;if(c&4&&(c|=a&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)a=31-bt(i),d=1<<a,c|=n[a],i&=~d;return c}function ic(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ur(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,m=n.pendingLanes;0<m;){var _=31-bt(m),I=1<<_,P=d[_];P===-1?(!(I&a)||I&c)&&(d[_]=ic(I,i)):P<=i&&(n.expiredLanes|=I),m&=~I}}function tn(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Ri(){var n=fs;return fs<<=1,!(fs&4194240)&&(fs=64),n}function Vr(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Dr(n,i,a){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-bt(i),n[i]=a}function ze(n,i){var a=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-bt(a),m=1<<d;i[d]=0,c[d]=-1,n[d]=-1,a&=~m}}function Lr(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-bt(a),d=1<<c;d&i|n[c]&i&&(n[c]|=i),a&=~d}}var Pe=0;function Mr(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Ha,ms,Wa,Ka,Ga,xo=!1,zn=[],Tt=null,Cn=null,Rn=null,Or=new Map,dn=new Map,Bn=[],sc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qa(n,i){switch(n){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Cn=null;break;case"mouseover":case"mouseout":Rn=null;break;case"pointerover":case"pointerout":Or.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":dn.delete(i.pointerId)}}function Bt(n,i,a,c,d,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[d]},i!==null&&(i=Ho(i),i!==null&&ms(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),n)}function oc(n,i,a,c,d){switch(i){case"focusin":return Tt=Bt(Tt,n,i,a,c,d),!0;case"dragenter":return Cn=Bt(Cn,n,i,a,c,d),!0;case"mouseover":return Rn=Bt(Rn,n,i,a,c,d),!0;case"pointerover":var m=d.pointerId;return Or.set(m,Bt(Or.get(m)||null,n,i,a,c,d)),!0;case"gotpointercapture":return m=d.pointerId,dn.set(m,Bt(dn.get(m)||null,n,i,a,c,d)),!0}return!1}function Ya(n){var i=Vi(n.target);if(i!==null){var a=Sn(i);if(a!==null){if(i=a.tag,i===13){if(i=Ii(a),i!==null){n.blockedOn=i,Ga(n.priority,function(){Wa(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function cr(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=gs(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);_i=c,a.target.dispatchEvent(c),_i=null}else return i=Ho(a),i!==null&&ms(i),n.blockedOn=a,!1;i.shift()}return!0}function Pi(n,i,a){cr(n)&&a.delete(i)}function Xa(){xo=!1,Tt!==null&&cr(Tt)&&(Tt=null),Cn!==null&&cr(Cn)&&(Cn=null),Rn!==null&&cr(Rn)&&(Rn=null),Or.forEach(Pi),dn.forEach(Pi)}function Pn(n,i){n.blockedOn===i&&(n.blockedOn=null,xo||(xo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Xa)))}function kn(n){function i(d){return Pn(d,n)}if(0<zn.length){Pn(zn[0],n);for(var a=1;a<zn.length;a++){var c=zn[a];c.blockedOn===n&&(c.blockedOn=null)}}for(Tt!==null&&Pn(Tt,n),Cn!==null&&Pn(Cn,n),Rn!==null&&Pn(Rn,n),Or.forEach(i),dn.forEach(i),a=0;a<Bn.length;a++)c=Bn[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<Bn.length&&(a=Bn[0],a.blockedOn===null);)Ya(a),a.blockedOn===null&&Bn.shift()}var hr=fe.ReactCurrentBatchConfig,Fr=!0;function Ge(n,i,a,c){var d=Pe,m=hr.transition;hr.transition=null;try{Pe=1,No(n,i,a,c)}finally{Pe=d,hr.transition=m}}function ac(n,i,a,c){var d=Pe,m=hr.transition;hr.transition=null;try{Pe=4,No(n,i,a,c)}finally{Pe=d,hr.transition=m}}function No(n,i,a,c){if(Fr){var d=gs(n,i,a,c);if(d===null)vc(n,i,c,ki,a),Qa(n,c);else if(oc(d,n,i,a,c))c.stopPropagation();else if(Qa(n,c),i&4&&-1<sc.indexOf(n)){for(;d!==null;){var m=Ho(d);if(m!==null&&Ha(m),m=gs(n,i,a,c),m===null&&vc(n,i,c,ki,a),m===d)break;d=m}d!==null&&c.stopPropagation()}else vc(n,i,c,null,a)}}var ki=null;function gs(n,i,a,c){if(ki=null,n=ss(c),n=Vi(n),n!==null)if(i=Sn(n),i===null)n=null;else if(a=i.tag,a===13){if(n=Ii(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return ki=n,null}function Vo(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ua()){case Si:return 1;case xr:return 4;case hn:case Po:return 16;case za:return 536870912;default:return 16}default:return 16}}var nn=null,ys=null,$t=null;function Do(){if($t)return $t;var n,i=ys,a=i.length,c,d="value"in nn?nn.value:nn.textContent,m=d.length;for(n=0;n<a&&i[n]===d[n];n++);var _=a-n;for(c=1;c<=_&&i[a-c]===d[m-c];c++);return $t=d.slice(n,1<c?1-c:void 0)}function vs(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function $n(){return!0}function Lo(){return!1}function It(n){function i(a,c,d,m,_){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var I in n)n.hasOwnProperty(I)&&(a=n[I],this[I]=a?a(m):m[I]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?$n:Lo,this.isPropagationStopped=Lo,this}return se(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$n)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$n)},persist:function(){},isPersistent:$n}),i}var xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_s=It(xn),qn=se({},xn,{view:0,detail:0}),lc=It(qn),ws,dr,br,xi=se({},qn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hn,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==br&&(br&&n.type==="mousemove"?(ws=n.screenX-br.screenX,dr=n.screenY-br.screenY):dr=ws=0,br=n),ws)},movementY:function(n){return"movementY"in n?n.movementY:dr}}),Es=It(xi),Mo=se({},xi,{dataTransfer:0}),Ja=It(Mo),Ts=se({},qn,{relatedTarget:0}),Is=It(Ts),Za=se({},xn,{animationName:0,elapsedTime:0,pseudoElement:0}),fr=It(Za),el=se({},xn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),tl=It(el),nl=se({},xn,{data:0}),Oo=It(nl),Ss={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function il(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=rl[n])?!!i[n]:!1}function Hn(){return il}var l=se({},qn,{key:function(n){if(n.key){var i=Ss[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=vs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?jt[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hn,charCode:function(n){return n.type==="keypress"?vs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?vs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),p=It(l),y=se({},xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=It(y),F=se({},qn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hn}),$=It(F),te=se({},xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),je=It(te),ht=se({},xi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ne=It(ht),yt=[9,13,27,32],st=f&&"CompositionEvent"in window,fn=null;f&&"documentMode"in document&&(fn=document.documentMode);var rn=f&&"TextEvent"in window&&!fn,Ni=f&&(!st||fn&&8<fn&&11>=fn),As=" ",pf=!1;function mf(n,i){switch(n){case"keyup":return yt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Cs=!1;function S_(n,i){switch(n){case"compositionend":return gf(i);case"keypress":return i.which!==32?null:(pf=!0,As);case"textInput":return n=i.data,n===As&&pf?null:n;default:return null}}function A_(n,i){if(Cs)return n==="compositionend"||!st&&mf(n,i)?(n=Do(),$t=ys=nn=null,Cs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ni&&i.locale!=="ko"?null:i.data;default:return null}}var C_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!C_[n.type]:i==="textarea"}function vf(n,i,a,c){Un(c),i=ul(i,"onChange"),0<i.length&&(a=new _s("onChange","change",null,a,c),n.push({event:a,listeners:i}))}var Fo=null,bo=null;function R_(n){Of(n,0)}function sl(n){var i=Ns(n);if(es(i))return n}function P_(n,i){if(n==="change")return i}var _f=!1;if(f){var uc;if(f){var cc="oninput"in document;if(!cc){var wf=document.createElement("div");wf.setAttribute("oninput","return;"),cc=typeof wf.oninput=="function"}uc=cc}else uc=!1;_f=uc&&(!document.documentMode||9<document.documentMode)}function Ef(){Fo&&(Fo.detachEvent("onpropertychange",Tf),bo=Fo=null)}function Tf(n){if(n.propertyName==="value"&&sl(bo)){var i=[];vf(i,bo,n,ss(n)),So(R_,i)}}function k_(n,i,a){n==="focusin"?(Ef(),Fo=i,bo=a,Fo.attachEvent("onpropertychange",Tf)):n==="focusout"&&Ef()}function x_(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return sl(bo)}function N_(n,i){if(n==="click")return sl(i)}function V_(n,i){if(n==="input"||n==="change")return sl(i)}function D_(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Nn=typeof Object.is=="function"?Object.is:D_;function jo(n,i){if(Nn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!g.call(i,d)||!Nn(n[d],i[d]))return!1}return!0}function If(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Sf(n,i){var a=If(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=i&&c>=i)return{node:a,offset:i-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=If(a)}}function Af(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Af(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Cf(){for(var n=window,i=Pr();i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Pr(n.document)}return i}function hc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function L_(n){var i=Cf(),a=n.focusedElem,c=n.selectionRange;if(i!==a&&a&&a.ownerDocument&&Af(a.ownerDocument.documentElement,a)){if(c!==null&&hc(a)){if(i=c.start,n=c.end,n===void 0&&(n=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(n,a.value.length);else if(n=(i=a.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,m=Math.min(c.start,d);c=c.end===void 0?m:Math.min(c.end,d),!n.extend&&m>c&&(d=c,c=m,m=d),d=Sf(a,m);var _=Sf(a,c);d&&_&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==_.node||n.focusOffset!==_.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),n.removeAllRanges(),m>c?(n.addRange(i),n.extend(_.node,_.offset)):(i.setEnd(_.node,_.offset),n.addRange(i)))}}for(i=[],n=a;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)n=i[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var M_=f&&"documentMode"in document&&11>=document.documentMode,Rs=null,dc=null,Uo=null,fc=!1;function Rf(n,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;fc||Rs==null||Rs!==Pr(c)||(c=Rs,"selectionStart"in c&&hc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Uo&&jo(Uo,c)||(Uo=c,c=ul(dc,"onSelect"),0<c.length&&(i=new _s("onSelect","select",null,i,a),n.push({event:i,listeners:c}),i.target=Rs)))}function ol(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Ps={animationend:ol("Animation","AnimationEnd"),animationiteration:ol("Animation","AnimationIteration"),animationstart:ol("Animation","AnimationStart"),transitionend:ol("Transition","TransitionEnd")},pc={},Pf={};f&&(Pf=document.createElement("div").style,"AnimationEvent"in window||(delete Ps.animationend.animation,delete Ps.animationiteration.animation,delete Ps.animationstart.animation),"TransitionEvent"in window||delete Ps.transitionend.transition);function al(n){if(pc[n])return pc[n];if(!Ps[n])return n;var i=Ps[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in Pf)return pc[n]=i[a];return n}var kf=al("animationend"),xf=al("animationiteration"),Nf=al("animationstart"),Vf=al("transitionend"),Df=new Map,Lf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(n,i){Df.set(n,i),u(i,[n])}for(var mc=0;mc<Lf.length;mc++){var gc=Lf[mc],O_=gc.toLowerCase(),F_=gc[0].toUpperCase()+gc.slice(1);jr(O_,"on"+F_)}jr(kf,"onAnimationEnd"),jr(xf,"onAnimationIteration"),jr(Nf,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(Vf,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b_=new Set("cancel close invalid load scroll toggle".split(" ").concat(zo));function Mf(n,i,a){var c=n.type||"unknown-event";n.currentTarget=a,Fa(c,i,void 0,n),n.currentTarget=null}function Of(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var _=c.length-1;0<=_;_--){var I=c[_],P=I.instance,B=I.currentTarget;if(I=I.listener,P!==m&&d.isPropagationStopped())break e;Mf(d,I,B),m=P}else for(_=0;_<c.length;_++){if(I=c[_],P=I.instance,B=I.currentTarget,I=I.listener,P!==m&&d.isPropagationStopped())break e;Mf(d,I,B),m=P}}}if(In)throw n=Ao,In=!1,Ao=null,n}function He(n,i){var a=i[Sc];a===void 0&&(a=i[Sc]=new Set);var c=n+"__bubble";a.has(c)||(Ff(i,n,2,!1),a.add(c))}function yc(n,i,a){var c=0;i&&(c|=4),Ff(a,n,c,i)}var ll="_reactListening"+Math.random().toString(36).slice(2);function Bo(n){if(!n[ll]){n[ll]=!0,s.forEach(function(a){a!=="selectionchange"&&(b_.has(a)||yc(a,!1,n),yc(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[ll]||(i[ll]=!0,yc("selectionchange",!1,i))}}function Ff(n,i,a,c){switch(Vo(i)){case 1:var d=Ge;break;case 4:d=ac;break;default:d=No}a=d.bind(null,i,a,n),d=void 0,!ls||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(i,a,{capture:!0,passive:d}):n.addEventListener(i,a,!0):d!==void 0?n.addEventListener(i,a,{passive:d}):n.addEventListener(i,a,!1)}function vc(n,i,a,c,d){var m=c;if(!(i&1)&&!(i&2)&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var I=c.stateNode.containerInfo;if(I===d||I.nodeType===8&&I.parentNode===d)break;if(_===4)for(_=c.return;_!==null;){var P=_.tag;if((P===3||P===4)&&(P=_.stateNode.containerInfo,P===d||P.nodeType===8&&P.parentNode===d))return;_=_.return}for(;I!==null;){if(_=Vi(I),_===null)return;if(P=_.tag,P===5||P===6){c=m=_;continue e}I=I.parentNode}}c=c.return}So(function(){var B=m,X=ss(a),Z=[];e:{var Y=Df.get(n);if(Y!==void 0){var ie=_s,ue=n;switch(n){case"keypress":if(vs(a)===0)break e;case"keydown":case"keyup":ie=p;break;case"focusin":ue="focus",ie=Is;break;case"focusout":ue="blur",ie=Is;break;case"beforeblur":case"afterblur":ie=Is;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Es;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Ja;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=$;break;case kf:case xf:case Nf:ie=fr;break;case Vf:ie=je;break;case"scroll":ie=lc;break;case"wheel":ie=Ne;break;case"copy":case"cut":case"paste":ie=tl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=E}var ce=(i&4)!==0,rt=!ce&&n==="scroll",b=ce?Y!==null?Y+"Capture":null:Y;ce=[];for(var N=B,U;N!==null;){U=N;var ee=U.stateNode;if(U.tag===5&&ee!==null&&(U=ee,b!==null&&(ee=nt(N,b),ee!=null&&ce.push($o(N,ee,U)))),rt)break;N=N.return}0<ce.length&&(Y=new ie(Y,ue,null,a,X),Z.push({event:Y,listeners:ce}))}}if(!(i&7)){e:{if(Y=n==="mouseover"||n==="pointerover",ie=n==="mouseout"||n==="pointerout",Y&&a!==_i&&(ue=a.relatedTarget||a.fromElement)&&(Vi(ue)||ue[pr]))break e;if((ie||Y)&&(Y=X.window===X?X:(Y=X.ownerDocument)?Y.defaultView||Y.parentWindow:window,ie?(ue=a.relatedTarget||a.toElement,ie=B,ue=ue?Vi(ue):null,ue!==null&&(rt=Sn(ue),ue!==rt||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(ie=null,ue=B),ie!==ue)){if(ce=Es,ee="onMouseLeave",b="onMouseEnter",N="mouse",(n==="pointerout"||n==="pointerover")&&(ce=E,ee="onPointerLeave",b="onPointerEnter",N="pointer"),rt=ie==null?Y:Ns(ie),U=ue==null?Y:Ns(ue),Y=new ce(ee,N+"leave",ie,a,X),Y.target=rt,Y.relatedTarget=U,ee=null,Vi(X)===B&&(ce=new ce(b,N+"enter",ue,a,X),ce.target=U,ce.relatedTarget=rt,ee=ce),rt=ee,ie&&ue)t:{for(ce=ie,b=ue,N=0,U=ce;U;U=ks(U))N++;for(U=0,ee=b;ee;ee=ks(ee))U++;for(;0<N-U;)ce=ks(ce),N--;for(;0<U-N;)b=ks(b),U--;for(;N--;){if(ce===b||b!==null&&ce===b.alternate)break t;ce=ks(ce),b=ks(b)}ce=null}else ce=null;ie!==null&&bf(Z,Y,ie,ce,!1),ue!==null&&rt!==null&&bf(Z,rt,ue,ce,!0)}}e:{if(Y=B?Ns(B):window,ie=Y.nodeName&&Y.nodeName.toLowerCase(),ie==="select"||ie==="input"&&Y.type==="file")var he=P_;else if(yf(Y))if(_f)he=V_;else{he=x_;var ge=k_}else(ie=Y.nodeName)&&ie.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(he=N_);if(he&&(he=he(n,B))){vf(Z,he,a,X);break e}ge&&ge(n,Y,B),n==="focusout"&&(ge=Y._wrapperState)&&ge.controlled&&Y.type==="number"&&ns(Y,"number",Y.value)}switch(ge=B?Ns(B):window,n){case"focusin":(yf(ge)||ge.contentEditable==="true")&&(Rs=ge,dc=B,Uo=null);break;case"focusout":Uo=dc=Rs=null;break;case"mousedown":fc=!0;break;case"contextmenu":case"mouseup":case"dragend":fc=!1,Rf(Z,a,X);break;case"selectionchange":if(M_)break;case"keydown":case"keyup":Rf(Z,a,X)}var ye;if(st)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Cs?mf(n,a)&&(_e="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(Ni&&a.locale!=="ko"&&(Cs||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Cs&&(ye=Do()):(nn=X,ys="value"in nn?nn.value:nn.textContent,Cs=!0)),ge=ul(B,_e),0<ge.length&&(_e=new Oo(_e,n,null,a,X),Z.push({event:_e,listeners:ge}),ye?_e.data=ye:(ye=gf(a),ye!==null&&(_e.data=ye)))),(ye=rn?S_(n,a):A_(n,a))&&(B=ul(B,"onBeforeInput"),0<B.length&&(X=new Oo("onBeforeInput","beforeinput",null,a,X),Z.push({event:X,listeners:B}),X.data=ye))}Of(Z,i)})}function $o(n,i,a){return{instance:n,listener:i,currentTarget:a}}function ul(n,i){for(var a=i+"Capture",c=[];n!==null;){var d=n,m=d.stateNode;d.tag===5&&m!==null&&(d=m,m=nt(n,a),m!=null&&c.unshift($o(n,m,d)),m=nt(n,i),m!=null&&c.push($o(n,m,d))),n=n.return}return c}function ks(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function bf(n,i,a,c,d){for(var m=i._reactName,_=[];a!==null&&a!==c;){var I=a,P=I.alternate,B=I.stateNode;if(P!==null&&P===c)break;I.tag===5&&B!==null&&(I=B,d?(P=nt(a,m),P!=null&&_.unshift($o(a,P,I))):d||(P=nt(a,m),P!=null&&_.push($o(a,P,I)))),a=a.return}_.length!==0&&n.push({event:i,listeners:_})}var j_=/\r\n?/g,U_=/\u0000|\uFFFD/g;function jf(n){return(typeof n=="string"?n:""+n).replace(j_,`
`).replace(U_,"")}function cl(n,i,a){if(i=jf(i),jf(n)!==i&&a)throw Error(t(425))}function hl(){}var _c=null,wc=null;function Ec(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Tc=typeof setTimeout=="function"?setTimeout:void 0,z_=typeof clearTimeout=="function"?clearTimeout:void 0,Uf=typeof Promise=="function"?Promise:void 0,B_=typeof queueMicrotask=="function"?queueMicrotask:typeof Uf<"u"?function(n){return Uf.resolve(null).then(n).catch($_)}:Tc;function $_(n){setTimeout(function(){throw n})}function Ic(n,i){var a=i,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){n.removeChild(d),kn(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);kn(i)}function Ur(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function zf(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}var xs=Math.random().toString(36).slice(2),Wn="__reactFiber$"+xs,qo="__reactProps$"+xs,pr="__reactContainer$"+xs,Sc="__reactEvents$"+xs,q_="__reactListeners$"+xs,H_="__reactHandles$"+xs;function Vi(n){var i=n[Wn];if(i)return i;for(var a=n.parentNode;a;){if(i=a[pr]||a[Wn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=zf(n);n!==null;){if(a=n[Wn])return a;n=zf(n)}return i}n=a,a=n.parentNode}return null}function Ho(n){return n=n[Wn]||n[pr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ns(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function dl(n){return n[qo]||null}var Ac=[],Vs=-1;function zr(n){return{current:n}}function We(n){0>Vs||(n.current=Ac[Vs],Ac[Vs]=null,Vs--)}function qe(n,i){Vs++,Ac[Vs]=n.current,n.current=i}var Br={},Nt=zr(Br),qt=zr(!1),Di=Br;function Ds(n,i){var a=n.type.contextTypes;if(!a)return Br;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var d={},m;for(m in a)d[m]=i[m];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=d),d}function Ht(n){return n=n.childContextTypes,n!=null}function fl(){We(qt),We(Nt)}function Bf(n,i,a){if(Nt.current!==Br)throw Error(t(168));qe(Nt,i),qe(qt,a)}function $f(n,i,a){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in i))throw Error(t(108,Oe(n)||"Unknown",d));return se({},a,c)}function pl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Br,Di=Nt.current,qe(Nt,n),qe(qt,qt.current),!0}function qf(n,i,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=$f(n,i,Di),c.__reactInternalMemoizedMergedChildContext=n,We(qt),We(Nt),qe(Nt,n)):We(qt),qe(qt,a)}var mr=null,ml=!1,Cc=!1;function Hf(n){mr===null?mr=[n]:mr.push(n)}function W_(n){ml=!0,Hf(n)}function $r(){if(!Cc&&mr!==null){Cc=!0;var n=0,i=Pe;try{var a=mr;for(Pe=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}mr=null,ml=!1}catch(d){throw mr!==null&&(mr=mr.slice(n+1)),ds(Si,$r),d}finally{Pe=i,Cc=!1}}return null}var Ls=[],Ms=0,gl=null,yl=0,pn=[],mn=0,Li=null,gr=1,yr="";function Mi(n,i){Ls[Ms++]=yl,Ls[Ms++]=gl,gl=n,yl=i}function Wf(n,i,a){pn[mn++]=gr,pn[mn++]=yr,pn[mn++]=Li,Li=n;var c=gr;n=yr;var d=32-bt(c)-1;c&=~(1<<d),a+=1;var m=32-bt(i)+d;if(30<m){var _=d-d%5;m=(c&(1<<_)-1).toString(32),c>>=_,d-=_,gr=1<<32-bt(i)+d|a<<d|c,yr=m+n}else gr=1<<m|a<<d|c,yr=n}function Rc(n){n.return!==null&&(Mi(n,1),Wf(n,1,0))}function Pc(n){for(;n===gl;)gl=Ls[--Ms],Ls[Ms]=null,yl=Ls[--Ms],Ls[Ms]=null;for(;n===Li;)Li=pn[--mn],pn[mn]=null,yr=pn[--mn],pn[mn]=null,gr=pn[--mn],pn[mn]=null}var sn=null,on=null,Qe=!1,Vn=null;function Kf(n,i){var a=_n(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=n,i=n.deletions,i===null?(n.deletions=[a],n.flags|=16):i.push(a)}function Gf(n,i){switch(n.tag){case 5:var a=n.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,sn=n,on=Ur(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,sn=n,on=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=Li!==null?{id:gr,overflow:yr}:null,n.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=_n(18,null,null,0),a.stateNode=i,a.return=n,n.child=a,sn=n,on=null,!0):!1;default:return!1}}function kc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function xc(n){if(Qe){var i=on;if(i){var a=i;if(!Gf(n,i)){if(kc(n))throw Error(t(418));i=Ur(a.nextSibling);var c=sn;i&&Gf(n,i)?Kf(c,a):(n.flags=n.flags&-4097|2,Qe=!1,sn=n)}}else{if(kc(n))throw Error(t(418));n.flags=n.flags&-4097|2,Qe=!1,sn=n}}}function Qf(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;sn=n}function vl(n){if(n!==sn)return!1;if(!Qe)return Qf(n),Qe=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!Ec(n.type,n.memoizedProps)),i&&(i=on)){if(kc(n))throw Yf(),Error(t(418));for(;i;)Kf(n,i),i=Ur(i.nextSibling)}if(Qf(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(i===0){on=Ur(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}n=n.nextSibling}on=null}}else on=sn?Ur(n.stateNode.nextSibling):null;return!0}function Yf(){for(var n=on;n;)n=Ur(n.nextSibling)}function Os(){on=sn=null,Qe=!1}function Nc(n){Vn===null?Vn=[n]:Vn.push(n)}var K_=fe.ReactCurrentBatchConfig;function Wo(n,i,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var d=c,m=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===m?i.ref:(i=function(_){var I=d.refs;_===null?delete I[m]:I[m]=_},i._stringRef=m,i)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function _l(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function Xf(n){var i=n._init;return i(n._payload)}function Jf(n){function i(b,N){if(n){var U=b.deletions;U===null?(b.deletions=[N],b.flags|=16):U.push(N)}}function a(b,N){if(!n)return null;for(;N!==null;)i(b,N),N=N.sibling;return null}function c(b,N){for(b=new Map;N!==null;)N.key!==null?b.set(N.key,N):b.set(N.index,N),N=N.sibling;return b}function d(b,N){return b=Xr(b,N),b.index=0,b.sibling=null,b}function m(b,N,U){return b.index=U,n?(U=b.alternate,U!==null?(U=U.index,U<N?(b.flags|=2,N):U):(b.flags|=2,N)):(b.flags|=1048576,N)}function _(b){return n&&b.alternate===null&&(b.flags|=2),b}function I(b,N,U,ee){return N===null||N.tag!==6?(N=Th(U,b.mode,ee),N.return=b,N):(N=d(N,U),N.return=b,N)}function P(b,N,U,ee){var he=U.type;return he===x?X(b,N,U.props.children,ee,U.key):N!==null&&(N.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===xt&&Xf(he)===N.type)?(ee=d(N,U.props),ee.ref=Wo(b,N,U),ee.return=b,ee):(ee=$l(U.type,U.key,U.props,null,b.mode,ee),ee.ref=Wo(b,N,U),ee.return=b,ee)}function B(b,N,U,ee){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=Ih(U,b.mode,ee),N.return=b,N):(N=d(N,U.children||[]),N.return=b,N)}function X(b,N,U,ee,he){return N===null||N.tag!==7?(N=$i(U,b.mode,ee,he),N.return=b,N):(N=d(N,U),N.return=b,N)}function Z(b,N,U){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Th(""+N,b.mode,U),N.return=b,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ce:return U=$l(N.type,N.key,N.props,null,b.mode,U),U.ref=Wo(b,null,N),U.return=b,U;case Te:return N=Ih(N,b.mode,U),N.return=b,N;case xt:var ee=N._init;return Z(b,ee(N._payload),U)}if(sr(N)||me(N))return N=$i(N,b.mode,U,null),N.return=b,N;_l(b,N)}return null}function Y(b,N,U,ee){var he=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return he!==null?null:I(b,N,""+U,ee);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Ce:return U.key===he?P(b,N,U,ee):null;case Te:return U.key===he?B(b,N,U,ee):null;case xt:return he=U._init,Y(b,N,he(U._payload),ee)}if(sr(U)||me(U))return he!==null?null:X(b,N,U,ee,null);_l(b,U)}return null}function ie(b,N,U,ee,he){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return b=b.get(U)||null,I(N,b,""+ee,he);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case Ce:return b=b.get(ee.key===null?U:ee.key)||null,P(N,b,ee,he);case Te:return b=b.get(ee.key===null?U:ee.key)||null,B(N,b,ee,he);case xt:var ge=ee._init;return ie(b,N,U,ge(ee._payload),he)}if(sr(ee)||me(ee))return b=b.get(U)||null,X(N,b,ee,he,null);_l(N,ee)}return null}function ue(b,N,U,ee){for(var he=null,ge=null,ye=N,_e=N=0,wt=null;ye!==null&&_e<U.length;_e++){ye.index>_e?(wt=ye,ye=null):wt=ye.sibling;var Me=Y(b,ye,U[_e],ee);if(Me===null){ye===null&&(ye=wt);break}n&&ye&&Me.alternate===null&&i(b,ye),N=m(Me,N,_e),ge===null?he=Me:ge.sibling=Me,ge=Me,ye=wt}if(_e===U.length)return a(b,ye),Qe&&Mi(b,_e),he;if(ye===null){for(;_e<U.length;_e++)ye=Z(b,U[_e],ee),ye!==null&&(N=m(ye,N,_e),ge===null?he=ye:ge.sibling=ye,ge=ye);return Qe&&Mi(b,_e),he}for(ye=c(b,ye);_e<U.length;_e++)wt=ie(ye,b,_e,U[_e],ee),wt!==null&&(n&&wt.alternate!==null&&ye.delete(wt.key===null?_e:wt.key),N=m(wt,N,_e),ge===null?he=wt:ge.sibling=wt,ge=wt);return n&&ye.forEach(function(Jr){return i(b,Jr)}),Qe&&Mi(b,_e),he}function ce(b,N,U,ee){var he=me(U);if(typeof he!="function")throw Error(t(150));if(U=he.call(U),U==null)throw Error(t(151));for(var ge=he=null,ye=N,_e=N=0,wt=null,Me=U.next();ye!==null&&!Me.done;_e++,Me=U.next()){ye.index>_e?(wt=ye,ye=null):wt=ye.sibling;var Jr=Y(b,ye,Me.value,ee);if(Jr===null){ye===null&&(ye=wt);break}n&&ye&&Jr.alternate===null&&i(b,ye),N=m(Jr,N,_e),ge===null?he=Jr:ge.sibling=Jr,ge=Jr,ye=wt}if(Me.done)return a(b,ye),Qe&&Mi(b,_e),he;if(ye===null){for(;!Me.done;_e++,Me=U.next())Me=Z(b,Me.value,ee),Me!==null&&(N=m(Me,N,_e),ge===null?he=Me:ge.sibling=Me,ge=Me);return Qe&&Mi(b,_e),he}for(ye=c(b,ye);!Me.done;_e++,Me=U.next())Me=ie(ye,b,_e,Me.value,ee),Me!==null&&(n&&Me.alternate!==null&&ye.delete(Me.key===null?_e:Me.key),N=m(Me,N,_e),ge===null?he=Me:ge.sibling=Me,ge=Me);return n&&ye.forEach(function(A0){return i(b,A0)}),Qe&&Mi(b,_e),he}function rt(b,N,U,ee){if(typeof U=="object"&&U!==null&&U.type===x&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case Ce:e:{for(var he=U.key,ge=N;ge!==null;){if(ge.key===he){if(he=U.type,he===x){if(ge.tag===7){a(b,ge.sibling),N=d(ge,U.props.children),N.return=b,b=N;break e}}else if(ge.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===xt&&Xf(he)===ge.type){a(b,ge.sibling),N=d(ge,U.props),N.ref=Wo(b,ge,U),N.return=b,b=N;break e}a(b,ge);break}else i(b,ge);ge=ge.sibling}U.type===x?(N=$i(U.props.children,b.mode,ee,U.key),N.return=b,b=N):(ee=$l(U.type,U.key,U.props,null,b.mode,ee),ee.ref=Wo(b,N,U),ee.return=b,b=ee)}return _(b);case Te:e:{for(ge=U.key;N!==null;){if(N.key===ge)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){a(b,N.sibling),N=d(N,U.children||[]),N.return=b,b=N;break e}else{a(b,N);break}else i(b,N);N=N.sibling}N=Ih(U,b.mode,ee),N.return=b,b=N}return _(b);case xt:return ge=U._init,rt(b,N,ge(U._payload),ee)}if(sr(U))return ue(b,N,U,ee);if(me(U))return ce(b,N,U,ee);_l(b,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,N!==null&&N.tag===6?(a(b,N.sibling),N=d(N,U),N.return=b,b=N):(a(b,N),N=Th(U,b.mode,ee),N.return=b,b=N),_(b)):a(b,N)}return rt}var Fs=Jf(!0),Zf=Jf(!1),wl=zr(null),El=null,bs=null,Vc=null;function Dc(){Vc=bs=El=null}function Lc(n){var i=wl.current;We(wl),n._currentValue=i}function Mc(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function js(n,i){El=n,Vc=bs=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&i&&(Wt=!0),n.firstContext=null)}function gn(n){var i=n._currentValue;if(Vc!==n)if(n={context:n,memoizedValue:i,next:null},bs===null){if(El===null)throw Error(t(308));bs=n,El.dependencies={lanes:0,firstContext:n}}else bs=bs.next=n;return i}var Oi=null;function Oc(n){Oi===null?Oi=[n]:Oi.push(n)}function ep(n,i,a,c){var d=i.interleaved;return d===null?(a.next=a,Oc(i)):(a.next=d.next,d.next=a),i.interleaved=a,vr(n,c)}function vr(n,i){n.lanes|=i;var a=n.alternate;for(a!==null&&(a.lanes|=i),a=n,n=n.return;n!==null;)n.childLanes|=i,a=n.alternate,a!==null&&(a.childLanes|=i),a=n,n=n.return;return a.tag===3?a.stateNode:null}var qr=!1;function Fc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tp(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function _r(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function Hr(n,i,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,Le&2){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,vr(n,a)}return d=c.interleaved,d===null?(i.next=i,Oc(c)):(i.next=d.next,d.next=i),c.interleaved=i,vr(n,a)}function Tl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Lr(n,a)}}function np(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?d=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?d=m=i:m=m.next=i}else d=m=i;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}function Il(n,i,a,c){var d=n.updateQueue;qr=!1;var m=d.firstBaseUpdate,_=d.lastBaseUpdate,I=d.shared.pending;if(I!==null){d.shared.pending=null;var P=I,B=P.next;P.next=null,_===null?m=B:_.next=B,_=P;var X=n.alternate;X!==null&&(X=X.updateQueue,I=X.lastBaseUpdate,I!==_&&(I===null?X.firstBaseUpdate=B:I.next=B,X.lastBaseUpdate=P))}if(m!==null){var Z=d.baseState;_=0,X=B=P=null,I=m;do{var Y=I.lane,ie=I.eventTime;if((c&Y)===Y){X!==null&&(X=X.next={eventTime:ie,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var ue=n,ce=I;switch(Y=i,ie=a,ce.tag){case 1:if(ue=ce.payload,typeof ue=="function"){Z=ue.call(ie,Z,Y);break e}Z=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ce.payload,Y=typeof ue=="function"?ue.call(ie,Z,Y):ue,Y==null)break e;Z=se({},Z,Y);break e;case 2:qr=!0}}I.callback!==null&&I.lane!==0&&(n.flags|=64,Y=d.effects,Y===null?d.effects=[I]:Y.push(I))}else ie={eventTime:ie,lane:Y,tag:I.tag,payload:I.payload,callback:I.callback,next:null},X===null?(B=X=ie,P=Z):X=X.next=ie,_|=Y;if(I=I.next,I===null){if(I=d.shared.pending,I===null)break;Y=I,I=Y.next,Y.next=null,d.lastBaseUpdate=Y,d.shared.pending=null}}while(!0);if(X===null&&(P=Z),d.baseState=P,d.firstBaseUpdate=B,d.lastBaseUpdate=X,i=d.shared.interleaved,i!==null){d=i;do _|=d.lane,d=d.next;while(d!==i)}else m===null&&(d.shared.lanes=0);ji|=_,n.lanes=_,n.memoizedState=Z}}function rp(n,i,a){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var Ko={},Kn=zr(Ko),Go=zr(Ko),Qo=zr(Ko);function Fi(n){if(n===Ko)throw Error(t(174));return n}function bc(n,i){switch(qe(Qo,i),qe(Go,n),qe(Kn,Ko),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:ct(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=ct(i,n)}We(Kn),qe(Kn,i)}function Us(){We(Kn),We(Go),We(Qo)}function ip(n){Fi(Qo.current);var i=Fi(Kn.current),a=ct(i,n.type);i!==a&&(qe(Go,n),qe(Kn,a))}function jc(n){Go.current===n&&(We(Kn),We(Go))}var Ye=zr(0);function Sl(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Uc=[];function zc(){for(var n=0;n<Uc.length;n++)Uc[n]._workInProgressVersionPrimary=null;Uc.length=0}var Al=fe.ReactCurrentDispatcher,Bc=fe.ReactCurrentBatchConfig,bi=0,Xe=null,dt=null,vt=null,Cl=!1,Yo=!1,Xo=0,G_=0;function Vt(){throw Error(t(321))}function $c(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!Nn(n[a],i[a]))return!1;return!0}function qc(n,i,a,c,d,m){if(bi=m,Xe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Al.current=n===null||n.memoizedState===null?J_:Z_,n=a(c,d),Yo){m=0;do{if(Yo=!1,Xo=0,25<=m)throw Error(t(301));m+=1,vt=dt=null,i.updateQueue=null,Al.current=e0,n=a(c,d)}while(Yo)}if(Al.current=kl,i=dt!==null&&dt.next!==null,bi=0,vt=dt=Xe=null,Cl=!1,i)throw Error(t(300));return n}function Hc(){var n=Xo!==0;return Xo=0,n}function Gn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Xe.memoizedState=vt=n:vt=vt.next=n,vt}function yn(){if(dt===null){var n=Xe.alternate;n=n!==null?n.memoizedState:null}else n=dt.next;var i=vt===null?Xe.memoizedState:vt.next;if(i!==null)vt=i,dt=n;else{if(n===null)throw Error(t(310));dt=n,n={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},vt===null?Xe.memoizedState=vt=n:vt=vt.next=n}return vt}function Jo(n,i){return typeof i=="function"?i(n):i}function Wc(n){var i=yn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=dt,d=c.baseQueue,m=a.pending;if(m!==null){if(d!==null){var _=d.next;d.next=m.next,m.next=_}c.baseQueue=d=m,a.pending=null}if(d!==null){m=d.next,c=c.baseState;var I=_=null,P=null,B=m;do{var X=B.lane;if((bi&X)===X)P!==null&&(P=P.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),c=B.hasEagerState?B.eagerState:n(c,B.action);else{var Z={lane:X,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};P===null?(I=P=Z,_=c):P=P.next=Z,Xe.lanes|=X,ji|=X}B=B.next}while(B!==null&&B!==m);P===null?_=c:P.next=I,Nn(c,i.memoizedState)||(Wt=!0),i.memoizedState=c,i.baseState=_,i.baseQueue=P,a.lastRenderedState=c}if(n=a.interleaved,n!==null){d=n;do m=d.lane,Xe.lanes|=m,ji|=m,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Kc(n){var i=yn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,m=i.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do m=n(m,_.action),_=_.next;while(_!==d);Nn(m,i.memoizedState)||(Wt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,c]}function sp(){}function op(n,i){var a=Xe,c=yn(),d=i(),m=!Nn(c.memoizedState,d);if(m&&(c.memoizedState=d,Wt=!0),c=c.queue,Gc(up.bind(null,a,c,n),[n]),c.getSnapshot!==i||m||vt!==null&&vt.memoizedState.tag&1){if(a.flags|=2048,Zo(9,lp.bind(null,a,c,d,i),void 0,null),_t===null)throw Error(t(349));bi&30||ap(a,i,d)}return d}function ap(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Xe.updateQueue,i===null?(i={lastEffect:null,stores:null},Xe.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function lp(n,i,a,c){i.value=a,i.getSnapshot=c,cp(i)&&hp(n)}function up(n,i,a){return a(function(){cp(i)&&hp(n)})}function cp(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!Nn(n,a)}catch{return!0}}function hp(n){var i=vr(n,1);i!==null&&On(i,n,1,-1)}function dp(n){var i=Gn();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:n},i.queue=n,n=n.dispatch=X_.bind(null,Xe,n),[i.memoizedState,n]}function Zo(n,i,a,c){return n={tag:n,create:i,destroy:a,deps:c,next:null},i=Xe.updateQueue,i===null?(i={lastEffect:null,stores:null},Xe.updateQueue=i,i.lastEffect=n.next=n):(a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n)),n}function fp(){return yn().memoizedState}function Rl(n,i,a,c){var d=Gn();Xe.flags|=n,d.memoizedState=Zo(1|i,a,void 0,c===void 0?null:c)}function Pl(n,i,a,c){var d=yn();c=c===void 0?null:c;var m=void 0;if(dt!==null){var _=dt.memoizedState;if(m=_.destroy,c!==null&&$c(c,_.deps)){d.memoizedState=Zo(i,a,m,c);return}}Xe.flags|=n,d.memoizedState=Zo(1|i,a,m,c)}function pp(n,i){return Rl(8390656,8,n,i)}function Gc(n,i){return Pl(2048,8,n,i)}function mp(n,i){return Pl(4,2,n,i)}function gp(n,i){return Pl(4,4,n,i)}function yp(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function vp(n,i,a){return a=a!=null?a.concat([n]):null,Pl(4,4,yp.bind(null,i,n),a)}function Qc(){}function _p(n,i){var a=yn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&$c(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function wp(n,i){var a=yn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&$c(i,c[1])?c[0]:(n=n(),a.memoizedState=[n,i],n)}function Ep(n,i,a){return bi&21?(Nn(a,i)||(a=Ri(),Xe.lanes|=a,ji|=a,n.baseState=!0),i):(n.baseState&&(n.baseState=!1,Wt=!0),n.memoizedState=a)}function Q_(n,i){var a=Pe;Pe=a!==0&&4>a?a:4,n(!0);var c=Bc.transition;Bc.transition={};try{n(!1),i()}finally{Pe=a,Bc.transition=c}}function Tp(){return yn().memoizedState}function Y_(n,i,a){var c=Qr(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Ip(n))Sp(i,a);else if(a=ep(n,i,a,c),a!==null){var d=zt();On(a,n,c,d),Ap(a,i,c)}}function X_(n,i,a){var c=Qr(n),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ip(n))Sp(i,d);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var _=i.lastRenderedState,I=m(_,a);if(d.hasEagerState=!0,d.eagerState=I,Nn(I,_)){var P=i.interleaved;P===null?(d.next=d,Oc(i)):(d.next=P.next,P.next=d),i.interleaved=d;return}}catch{}finally{}a=ep(n,i,d,c),a!==null&&(d=zt(),On(a,n,c,d),Ap(a,i,c))}}function Ip(n){var i=n.alternate;return n===Xe||i!==null&&i===Xe}function Sp(n,i){Yo=Cl=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function Ap(n,i,a){if(a&4194240){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Lr(n,a)}}var kl={readContext:gn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},J_={readContext:gn,useCallback:function(n,i){return Gn().memoizedState=[n,i===void 0?null:i],n},useContext:gn,useEffect:pp,useImperativeHandle:function(n,i,a){return a=a!=null?a.concat([n]):null,Rl(4194308,4,yp.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Rl(4194308,4,n,i)},useInsertionEffect:function(n,i){return Rl(4,2,n,i)},useMemo:function(n,i){var a=Gn();return i=i===void 0?null:i,n=n(),a.memoizedState=[n,i],n},useReducer:function(n,i,a){var c=Gn();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=Y_.bind(null,Xe,n),[c.memoizedState,n]},useRef:function(n){var i=Gn();return n={current:n},i.memoizedState=n},useState:dp,useDebugValue:Qc,useDeferredValue:function(n){return Gn().memoizedState=n},useTransition:function(){var n=dp(!1),i=n[0];return n=Q_.bind(null,n[1]),Gn().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,a){var c=Xe,d=Gn();if(Qe){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),_t===null)throw Error(t(349));bi&30||ap(c,i,a)}d.memoizedState=a;var m={value:a,getSnapshot:i};return d.queue=m,pp(up.bind(null,c,m,n),[n]),c.flags|=2048,Zo(9,lp.bind(null,c,m,a,i),void 0,null),a},useId:function(){var n=Gn(),i=_t.identifierPrefix;if(Qe){var a=yr,c=gr;a=(c&~(1<<32-bt(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=Xo++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=G_++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},Z_={readContext:gn,useCallback:_p,useContext:gn,useEffect:Gc,useImperativeHandle:vp,useInsertionEffect:mp,useLayoutEffect:gp,useMemo:wp,useReducer:Wc,useRef:fp,useState:function(){return Wc(Jo)},useDebugValue:Qc,useDeferredValue:function(n){var i=yn();return Ep(i,dt.memoizedState,n)},useTransition:function(){var n=Wc(Jo)[0],i=yn().memoizedState;return[n,i]},useMutableSource:sp,useSyncExternalStore:op,useId:Tp,unstable_isNewReconciler:!1},e0={readContext:gn,useCallback:_p,useContext:gn,useEffect:Gc,useImperativeHandle:vp,useInsertionEffect:mp,useLayoutEffect:gp,useMemo:wp,useReducer:Kc,useRef:fp,useState:function(){return Kc(Jo)},useDebugValue:Qc,useDeferredValue:function(n){var i=yn();return dt===null?i.memoizedState=n:Ep(i,dt.memoizedState,n)},useTransition:function(){var n=Kc(Jo)[0],i=yn().memoizedState;return[n,i]},useMutableSource:sp,useSyncExternalStore:op,useId:Tp,unstable_isNewReconciler:!1};function Dn(n,i){if(n&&n.defaultProps){i=se({},i),n=n.defaultProps;for(var a in n)i[a]===void 0&&(i[a]=n[a]);return i}return i}function Yc(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:se({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var xl={isMounted:function(n){return(n=n._reactInternals)?Sn(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var c=zt(),d=Qr(n),m=_r(c,d);m.payload=i,a!=null&&(m.callback=a),i=Hr(n,m,d),i!==null&&(On(i,n,d,c),Tl(i,n,d))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=zt(),d=Qr(n),m=_r(c,d);m.tag=1,m.payload=i,a!=null&&(m.callback=a),i=Hr(n,m,d),i!==null&&(On(i,n,d,c),Tl(i,n,d))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=zt(),c=Qr(n),d=_r(a,c);d.tag=2,i!=null&&(d.callback=i),i=Hr(n,d,c),i!==null&&(On(i,n,c,a),Tl(i,n,c))}};function Cp(n,i,a,c,d,m,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,_):i.prototype&&i.prototype.isPureReactComponent?!jo(a,c)||!jo(d,m):!0}function Rp(n,i,a){var c=!1,d=Br,m=i.contextType;return typeof m=="object"&&m!==null?m=gn(m):(d=Ht(i)?Di:Nt.current,c=i.contextTypes,m=(c=c!=null)?Ds(n,d):Br),i=new i(a,m),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=xl,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=m),i}function Pp(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&xl.enqueueReplaceState(i,i.state,null)}function Xc(n,i,a,c){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},Fc(n);var m=i.contextType;typeof m=="object"&&m!==null?d.context=gn(m):(m=Ht(i)?Di:Nt.current,d.context=Ds(n,m)),d.state=n.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(Yc(n,i,m,a),d.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&xl.enqueueReplaceState(d,d.state,null),Il(n,a,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function zs(n,i){try{var a="",c=i;do a+=Se(c),c=c.return;while(c);var d=a}catch(m){d=`
Error generating stack: `+m.message+`
`+m.stack}return{value:n,source:i,stack:d,digest:null}}function Jc(n,i,a){return{value:n,source:null,stack:a??null,digest:i??null}}function Zc(n,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var t0=typeof WeakMap=="function"?WeakMap:Map;function kp(n,i,a){a=_r(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){Fl||(Fl=!0,ph=c),Zc(n,i)},a}function xp(n,i,a){a=_r(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=i.value;a.payload=function(){return c(d)},a.callback=function(){Zc(n,i)}}var m=n.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){Zc(n,i),typeof c!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var _=i.stack;this.componentDidCatch(i.value,{componentStack:_!==null?_:""})}),a}function Np(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new t0;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(a)||(d.add(a),n=m0.bind(null,n,i,a),i.then(n,n))}function Vp(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function Dp(n,i,a,c,d){return n.mode&1?(n.flags|=65536,n.lanes=d,n):(n===i?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=_r(-1,1),i.tag=2,Hr(a,i,1))),a.lanes|=1),n)}var n0=fe.ReactCurrentOwner,Wt=!1;function Ut(n,i,a,c){i.child=n===null?Zf(i,null,a,c):Fs(i,n.child,a,c)}function Lp(n,i,a,c,d){a=a.render;var m=i.ref;return js(i,d),c=qc(n,i,a,c,m,d),a=Hc(),n!==null&&!Wt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~d,wr(n,i,d)):(Qe&&a&&Rc(i),i.flags|=1,Ut(n,i,c,d),i.child)}function Mp(n,i,a,c,d){if(n===null){var m=a.type;return typeof m=="function"&&!Eh(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=m,Op(n,i,m,c,d)):(n=$l(a.type,null,c,i,i.mode,d),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!(n.lanes&d)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:jo,a(_,c)&&n.ref===i.ref)return wr(n,i,d)}return i.flags|=1,n=Xr(m,c),n.ref=i.ref,n.return=i,i.child=n}function Op(n,i,a,c,d){if(n!==null){var m=n.memoizedProps;if(jo(m,c)&&n.ref===i.ref)if(Wt=!1,i.pendingProps=c=m,(n.lanes&d)!==0)n.flags&131072&&(Wt=!0);else return i.lanes=n.lanes,wr(n,i,d)}return eh(n,i,a,c,d)}function Fp(n,i,a){var c=i.pendingProps,d=c.children,m=n!==null?n.memoizedState:null;if(c.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe($s,an),an|=a;else{if(!(a&1073741824))return n=m!==null?m.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,qe($s,an),an|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,qe($s,an),an|=c}else m!==null?(c=m.baseLanes|a,i.memoizedState=null):c=a,qe($s,an),an|=c;return Ut(n,i,d,a),i.child}function bp(n,i){var a=i.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function eh(n,i,a,c,d){var m=Ht(a)?Di:Nt.current;return m=Ds(i,m),js(i,d),a=qc(n,i,a,c,m,d),c=Hc(),n!==null&&!Wt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~d,wr(n,i,d)):(Qe&&c&&Rc(i),i.flags|=1,Ut(n,i,a,d),i.child)}function jp(n,i,a,c,d){if(Ht(a)){var m=!0;pl(i)}else m=!1;if(js(i,d),i.stateNode===null)Vl(n,i),Rp(i,a,c),Xc(i,a,c,d),c=!0;else if(n===null){var _=i.stateNode,I=i.memoizedProps;_.props=I;var P=_.context,B=a.contextType;typeof B=="object"&&B!==null?B=gn(B):(B=Ht(a)?Di:Nt.current,B=Ds(i,B));var X=a.getDerivedStateFromProps,Z=typeof X=="function"||typeof _.getSnapshotBeforeUpdate=="function";Z||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==c||P!==B)&&Pp(i,_,c,B),qr=!1;var Y=i.memoizedState;_.state=Y,Il(i,c,_,d),P=i.memoizedState,I!==c||Y!==P||qt.current||qr?(typeof X=="function"&&(Yc(i,a,X,c),P=i.memoizedState),(I=qr||Cp(i,a,I,c,Y,P,B))?(Z||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=P),_.props=c,_.state=P,_.context=B,c=I):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{_=i.stateNode,tp(n,i),I=i.memoizedProps,B=i.type===i.elementType?I:Dn(i.type,I),_.props=B,Z=i.pendingProps,Y=_.context,P=a.contextType,typeof P=="object"&&P!==null?P=gn(P):(P=Ht(a)?Di:Nt.current,P=Ds(i,P));var ie=a.getDerivedStateFromProps;(X=typeof ie=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==Z||Y!==P)&&Pp(i,_,c,P),qr=!1,Y=i.memoizedState,_.state=Y,Il(i,c,_,d);var ue=i.memoizedState;I!==Z||Y!==ue||qt.current||qr?(typeof ie=="function"&&(Yc(i,a,ie,c),ue=i.memoizedState),(B=qr||Cp(i,a,B,c,Y,ue,P)||!1)?(X||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,ue,P),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,ue,P)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||I===n.memoizedProps&&Y===n.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&Y===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ue),_.props=c,_.state=ue,_.context=P,c=B):(typeof _.componentDidUpdate!="function"||I===n.memoizedProps&&Y===n.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&Y===n.memoizedState||(i.flags|=1024),c=!1)}return th(n,i,a,c,m,d)}function th(n,i,a,c,d,m){bp(n,i);var _=(i.flags&128)!==0;if(!c&&!_)return d&&qf(i,a,!1),wr(n,i,m);c=i.stateNode,n0.current=i;var I=_&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&_?(i.child=Fs(i,n.child,null,m),i.child=Fs(i,null,I,m)):Ut(n,i,I,m),i.memoizedState=c.state,d&&qf(i,a,!0),i.child}function Up(n){var i=n.stateNode;i.pendingContext?Bf(n,i.pendingContext,i.pendingContext!==i.context):i.context&&Bf(n,i.context,!1),bc(n,i.containerInfo)}function zp(n,i,a,c,d){return Os(),Nc(d),i.flags|=256,Ut(n,i,a,c),i.child}var nh={dehydrated:null,treeContext:null,retryLane:0};function rh(n){return{baseLanes:n,cachePool:null,transitions:null}}function Bp(n,i,a){var c=i.pendingProps,d=Ye.current,m=!1,_=(i.flags&128)!==0,I;if((I=_)||(I=n!==null&&n.memoizedState===null?!1:(d&2)!==0),I?(m=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),qe(Ye,d&1),n===null)return xc(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(i.mode&1?n.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(_=c.children,n=c.fallback,m?(c=i.mode,m=i.child,_={mode:"hidden",children:_},!(c&1)&&m!==null?(m.childLanes=0,m.pendingProps=_):m=ql(_,c,0,null),n=$i(n,c,a,null),m.return=i,n.return=i,m.sibling=n,i.child=m,i.child.memoizedState=rh(a),i.memoizedState=nh,n):ih(i,_));if(d=n.memoizedState,d!==null&&(I=d.dehydrated,I!==null))return r0(n,i,_,c,I,d,a);if(m){m=c.fallback,_=i.mode,d=n.child,I=d.sibling;var P={mode:"hidden",children:c.children};return!(_&1)&&i.child!==d?(c=i.child,c.childLanes=0,c.pendingProps=P,i.deletions=null):(c=Xr(d,P),c.subtreeFlags=d.subtreeFlags&14680064),I!==null?m=Xr(I,m):(m=$i(m,_,a,null),m.flags|=2),m.return=i,c.return=i,c.sibling=m,i.child=c,c=m,m=i.child,_=n.child.memoizedState,_=_===null?rh(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},m.memoizedState=_,m.childLanes=n.childLanes&~a,i.memoizedState=nh,c}return m=n.child,n=m.sibling,c=Xr(m,{mode:"visible",children:c.children}),!(i.mode&1)&&(c.lanes=a),c.return=i,c.sibling=null,n!==null&&(a=i.deletions,a===null?(i.deletions=[n],i.flags|=16):a.push(n)),i.child=c,i.memoizedState=null,c}function ih(n,i){return i=ql({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function Nl(n,i,a,c){return c!==null&&Nc(c),Fs(i,n.child,null,a),n=ih(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function r0(n,i,a,c,d,m,_){if(a)return i.flags&256?(i.flags&=-257,c=Jc(Error(t(422))),Nl(n,i,_,c)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(m=c.fallback,d=i.mode,c=ql({mode:"visible",children:c.children},d,0,null),m=$i(m,d,_,null),m.flags|=2,c.return=i,m.return=i,c.sibling=m,i.child=c,i.mode&1&&Fs(i,n.child,null,_),i.child.memoizedState=rh(_),i.memoizedState=nh,m);if(!(i.mode&1))return Nl(n,i,_,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var I=c.dgst;return c=I,m=Error(t(419)),c=Jc(m,c,void 0),Nl(n,i,_,c)}if(I=(_&n.childLanes)!==0,Wt||I){if(c=_t,c!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|_)?0:d,d!==0&&d!==m.retryLane&&(m.retryLane=d,vr(n,d),On(c,n,d,-1))}return wh(),c=Jc(Error(t(421))),Nl(n,i,_,c)}return d.data==="$?"?(i.flags|=128,i.child=n.child,i=g0.bind(null,n),d._reactRetry=i,null):(n=m.treeContext,on=Ur(d.nextSibling),sn=i,Qe=!0,Vn=null,n!==null&&(pn[mn++]=gr,pn[mn++]=yr,pn[mn++]=Li,gr=n.id,yr=n.overflow,Li=i),i=ih(i,c.children),i.flags|=4096,i)}function $p(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),Mc(n.return,i,a)}function sh(n,i,a,c,d){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=d)}function qp(n,i,a){var c=i.pendingProps,d=c.revealOrder,m=c.tail;if(Ut(n,i,c.children,a),c=Ye.current,c&2)c=c&1|2,i.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&$p(n,a,i);else if(n.tag===19)$p(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(qe(Ye,c),!(i.mode&1))i.memoizedState=null;else switch(d){case"forwards":for(a=i.child,d=null;a!==null;)n=a.alternate,n!==null&&Sl(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),sh(i,!1,d,a,m);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(n=d.alternate,n!==null&&Sl(n)===null){i.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}sh(i,!0,a,null,m);break;case"together":sh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Vl(n,i){!(i.mode&1)&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function wr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),ji|=i.lanes,!(a&i.childLanes))return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,a=Xr(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Xr(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function i0(n,i,a){switch(i.tag){case 3:Up(i),Os();break;case 5:ip(i);break;case 1:Ht(i.type)&&pl(i);break;case 4:bc(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,d=i.memoizedProps.value;qe(wl,c._currentValue),c._currentValue=d;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(qe(Ye,Ye.current&1),i.flags|=128,null):a&i.child.childLanes?Bp(n,i,a):(qe(Ye,Ye.current&1),n=wr(n,i,a),n!==null?n.sibling:null);qe(Ye,Ye.current&1);break;case 19:if(c=(a&i.childLanes)!==0,n.flags&128){if(c)return qp(n,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),qe(Ye,Ye.current),c)break;return null;case 22:case 23:return i.lanes=0,Fp(n,i,a)}return wr(n,i,a)}var Hp,oh,Wp,Kp;Hp=function(n,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},oh=function(){},Wp=function(n,i,a,c){var d=n.memoizedProps;if(d!==c){n=i.stateNode,Fi(Kn.current);var m=null;switch(a){case"input":d=gi(n,d),c=gi(n,c),m=[];break;case"select":d=se({},d,{value:void 0}),c=se({},c,{value:void 0}),m=[];break;case"textarea":d=po(n,d),c=po(n,c),m=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=hl)}wo(a,c);var _;a=null;for(B in d)if(!c.hasOwnProperty(B)&&d.hasOwnProperty(B)&&d[B]!=null)if(B==="style"){var I=d[B];for(_ in I)I.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(o.hasOwnProperty(B)?m||(m=[]):(m=m||[]).push(B,null));for(B in c){var P=c[B];if(I=d!=null?d[B]:void 0,c.hasOwnProperty(B)&&P!==I&&(P!=null||I!=null))if(B==="style")if(I){for(_ in I)!I.hasOwnProperty(_)||P&&P.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in P)P.hasOwnProperty(_)&&I[_]!==P[_]&&(a||(a={}),a[_]=P[_])}else a||(m||(m=[]),m.push(B,a)),a=P;else B==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,I=I?I.__html:void 0,P!=null&&I!==P&&(m=m||[]).push(B,P)):B==="children"?typeof P!="string"&&typeof P!="number"||(m=m||[]).push(B,""+P):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(o.hasOwnProperty(B)?(P!=null&&B==="onScroll"&&He("scroll",n),m||I===P||(m=[])):(m=m||[]).push(B,P))}a&&(m=m||[]).push("style",a);var B=m;(i.updateQueue=B)&&(i.flags|=4)}},Kp=function(n,i,a,c){a!==c&&(i.flags|=4)};function ea(n,i){if(!Qe)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Dt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function s0(n,i,a){var c=i.pendingProps;switch(Pc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(i),null;case 1:return Ht(i.type)&&fl(),Dt(i),null;case 3:return c=i.stateNode,Us(),We(qt),We(Nt),zc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(vl(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Vn!==null&&(yh(Vn),Vn=null))),oh(n,i),Dt(i),null;case 5:jc(i);var d=Fi(Qo.current);if(a=i.type,n!==null&&i.stateNode!=null)Wp(n,i,a,c,d),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return Dt(i),null}if(n=Fi(Kn.current),vl(i)){c=i.stateNode,a=i.type;var m=i.memoizedProps;switch(c[Wn]=i,c[qo]=m,n=(i.mode&1)!==0,a){case"dialog":He("cancel",c),He("close",c);break;case"iframe":case"object":case"embed":He("load",c);break;case"video":case"audio":for(d=0;d<zo.length;d++)He(zo[d],c);break;case"source":He("error",c);break;case"img":case"image":case"link":He("error",c),He("load",c);break;case"details":He("toggle",c);break;case"input":ts(c,m),He("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},He("invalid",c);break;case"textarea":rs(c,m),He("invalid",c)}wo(a,m),d=null;for(var _ in m)if(m.hasOwnProperty(_)){var I=m[_];_==="children"?typeof I=="string"?c.textContent!==I&&(m.suppressHydrationWarning!==!0&&cl(c.textContent,I,n),d=["children",I]):typeof I=="number"&&c.textContent!==""+I&&(m.suppressHydrationWarning!==!0&&cl(c.textContent,I,n),d=["children",""+I]):o.hasOwnProperty(_)&&I!=null&&_==="onScroll"&&He("scroll",c)}switch(a){case"input":ir(c),Oa(c,m,!0);break;case"textarea":ir(c),mo(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=hl)}c=d,i.updateQueue=c,c!==null&&(i.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=ut(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=_.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=_.createElement(a,{is:c.is}):(n=_.createElement(a),a==="select"&&(_=n,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):n=_.createElementNS(n,a),n[Wn]=i,n[qo]=c,Hp(n,i,!1,!1),i.stateNode=n;e:{switch(_=Eo(a,c),a){case"dialog":He("cancel",n),He("close",n),d=c;break;case"iframe":case"object":case"embed":He("load",n),d=c;break;case"video":case"audio":for(d=0;d<zo.length;d++)He(zo[d],n);d=c;break;case"source":He("error",n),d=c;break;case"img":case"image":case"link":He("error",n),He("load",n),d=c;break;case"details":He("toggle",n),d=c;break;case"input":ts(n,c),d=gi(n,c),He("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=se({},c,{value:void 0}),He("invalid",n);break;case"textarea":rs(n,c),d=po(n,c),He("invalid",n);break;default:d=c}wo(a,d),I=d;for(m in I)if(I.hasOwnProperty(m)){var P=I[m];m==="style"?vo(n,P):m==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&go(n,P)):m==="children"?typeof P=="string"?(a!=="textarea"||P!=="")&&kr(n,P):typeof P=="number"&&kr(n,""+P):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?P!=null&&m==="onScroll"&&He("scroll",n):P!=null&&re(n,m,P,_))}switch(a){case"input":ir(n),Oa(n,c,!1);break;case"textarea":ir(n),mo(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Fe(c.value));break;case"select":n.multiple=!!c.multiple,m=c.value,m!=null?or(n,!!c.multiple,m,!1):c.defaultValue!=null&&or(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=hl)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Dt(i),null;case 6:if(n&&i.stateNode!=null)Kp(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(a=Fi(Qo.current),Fi(Kn.current),vl(i)){if(c=i.stateNode,a=i.memoizedProps,c[Wn]=i,(m=c.nodeValue!==a)&&(n=sn,n!==null))switch(n.tag){case 3:cl(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&cl(c.nodeValue,a,(n.mode&1)!==0)}m&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Wn]=i,i.stateNode=c}return Dt(i),null;case 13:if(We(Ye),c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Qe&&on!==null&&i.mode&1&&!(i.flags&128))Yf(),Os(),i.flags|=98560,m=!1;else if(m=vl(i),c!==null&&c.dehydrated!==null){if(n===null){if(!m)throw Error(t(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[Wn]=i}else Os(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;Dt(i),m=!1}else Vn!==null&&(yh(Vn),Vn=null),m=!0;if(!m)return i.flags&65536?i:null}return i.flags&128?(i.lanes=a,i):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(i.child.flags|=8192,i.mode&1&&(n===null||Ye.current&1?ft===0&&(ft=3):wh())),i.updateQueue!==null&&(i.flags|=4),Dt(i),null);case 4:return Us(),oh(n,i),n===null&&Bo(i.stateNode.containerInfo),Dt(i),null;case 10:return Lc(i.type._context),Dt(i),null;case 17:return Ht(i.type)&&fl(),Dt(i),null;case 19:if(We(Ye),m=i.memoizedState,m===null)return Dt(i),null;if(c=(i.flags&128)!==0,_=m.rendering,_===null)if(c)ea(m,!1);else{if(ft!==0||n!==null&&n.flags&128)for(n=i.child;n!==null;){if(_=Sl(n),_!==null){for(i.flags|=128,ea(m,!1),c=_.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)m=a,n=c,m.flags&=14680066,_=m.alternate,_===null?(m.childLanes=0,m.lanes=n,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=_.childLanes,m.lanes=_.lanes,m.child=_.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=_.memoizedProps,m.memoizedState=_.memoizedState,m.updateQueue=_.updateQueue,m.type=_.type,n=_.dependencies,m.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return qe(Ye,Ye.current&1|2),i.child}n=n.sibling}m.tail!==null&&$e()>qs&&(i.flags|=128,c=!0,ea(m,!1),i.lanes=4194304)}else{if(!c)if(n=Sl(_),n!==null){if(i.flags|=128,c=!0,a=n.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),ea(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!Qe)return Dt(i),null}else 2*$e()-m.renderingStartTime>qs&&a!==1073741824&&(i.flags|=128,c=!0,ea(m,!1),i.lanes=4194304);m.isBackwards?(_.sibling=i.child,i.child=_):(a=m.last,a!==null?a.sibling=_:i.child=_,m.last=_)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=$e(),i.sibling=null,a=Ye.current,qe(Ye,c?a&1|2:a&1),i):(Dt(i),null);case 22:case 23:return _h(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&i.mode&1?an&1073741824&&(Dt(i),i.subtreeFlags&6&&(i.flags|=8192)):Dt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function o0(n,i){switch(Pc(i),i.tag){case 1:return Ht(i.type)&&fl(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Us(),We(qt),We(Nt),zc(),n=i.flags,n&65536&&!(n&128)?(i.flags=n&-65537|128,i):null;case 5:return jc(i),null;case 13:if(We(Ye),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Os()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return We(Ye),null;case 4:return Us(),null;case 10:return Lc(i.type._context),null;case 22:case 23:return _h(),null;case 24:return null;default:return null}}var Dl=!1,Lt=!1,a0=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Bs(n,i){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){et(n,i,c)}else a.current=null}function ah(n,i,a){try{a()}catch(c){et(n,i,c)}}var Gp=!1;function l0(n,i){if(_c=Fr,n=Cf(),hc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,I=-1,P=-1,B=0,X=0,Z=n,Y=null;t:for(;;){for(var ie;Z!==a||d!==0&&Z.nodeType!==3||(I=_+d),Z!==m||c!==0&&Z.nodeType!==3||(P=_+c),Z.nodeType===3&&(_+=Z.nodeValue.length),(ie=Z.firstChild)!==null;)Y=Z,Z=ie;for(;;){if(Z===n)break t;if(Y===a&&++B===d&&(I=_),Y===m&&++X===c&&(P=_),(ie=Z.nextSibling)!==null)break;Z=Y,Y=Z.parentNode}Z=ie}a=I===-1||P===-1?null:{start:I,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(wc={focusedElem:n,selectionRange:a},Fr=!1,ae=i;ae!==null;)if(i=ae,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,ae=n;else for(;ae!==null;){i=ae;try{var ue=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var ce=ue.memoizedProps,rt=ue.memoizedState,b=i.stateNode,N=b.getSnapshotBeforeUpdate(i.elementType===i.type?ce:Dn(i.type,ce),rt);b.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var U=i.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ee){et(i,i.return,ee)}if(n=i.sibling,n!==null){n.return=i.return,ae=n;break}ae=i.return}return ue=Gp,Gp=!1,ue}function ta(n,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var m=d.destroy;d.destroy=void 0,m!==void 0&&ah(i,a,m)}d=d.next}while(d!==c)}}function Ll(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function lh(n){var i=n.ref;if(i!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof i=="function"?i(n):i.current=n}}function Qp(n){var i=n.alternate;i!==null&&(n.alternate=null,Qp(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Wn],delete i[qo],delete i[Sc],delete i[q_],delete i[H_])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Yp(n){return n.tag===5||n.tag===3||n.tag===4}function Xp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Yp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function uh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=hl));else if(c!==4&&(n=n.child,n!==null))for(uh(n,i,a),n=n.sibling;n!==null;)uh(n,i,a),n=n.sibling}function ch(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(ch(n,i,a),n=n.sibling;n!==null;)ch(n,i,a),n=n.sibling}var St=null,Ln=!1;function Wr(n,i,a){for(a=a.child;a!==null;)Jp(n,i,a),a=a.sibling}function Jp(n,i,a){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Ai,a)}catch{}switch(a.tag){case 5:Lt||Bs(a,i);case 6:var c=St,d=Ln;St=null,Wr(n,i,a),St=c,Ln=d,St!==null&&(Ln?(n=St,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):St.removeChild(a.stateNode));break;case 18:St!==null&&(Ln?(n=St,a=a.stateNode,n.nodeType===8?Ic(n.parentNode,a):n.nodeType===1&&Ic(n,a),kn(n)):Ic(St,a.stateNode));break;case 4:c=St,d=Ln,St=a.stateNode.containerInfo,Ln=!0,Wr(n,i,a),St=c,Ln=d;break;case 0:case 11:case 14:case 15:if(!Lt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var m=d,_=m.destroy;m=m.tag,_!==void 0&&(m&2||m&4)&&ah(a,i,_),d=d.next}while(d!==c)}Wr(n,i,a);break;case 1:if(!Lt&&(Bs(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(I){et(a,i,I)}Wr(n,i,a);break;case 21:Wr(n,i,a);break;case 22:a.mode&1?(Lt=(c=Lt)||a.memoizedState!==null,Wr(n,i,a),Lt=c):Wr(n,i,a);break;default:Wr(n,i,a)}}function Zp(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new a0),i.forEach(function(c){var d=y0.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}}function Mn(n,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var m=n,_=i,I=_;e:for(;I!==null;){switch(I.tag){case 5:St=I.stateNode,Ln=!1;break e;case 3:St=I.stateNode.containerInfo,Ln=!0;break e;case 4:St=I.stateNode.containerInfo,Ln=!0;break e}I=I.return}if(St===null)throw Error(t(160));Jp(m,_,d),St=null,Ln=!1;var P=d.alternate;P!==null&&(P.return=null),d.return=null}catch(B){et(d,i,B)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)em(i,n),i=i.sibling}function em(n,i){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Mn(i,n),Qn(n),c&4){try{ta(3,n,n.return),Ll(3,n)}catch(ce){et(n,n.return,ce)}try{ta(5,n,n.return)}catch(ce){et(n,n.return,ce)}}break;case 1:Mn(i,n),Qn(n),c&512&&a!==null&&Bs(a,a.return);break;case 5:if(Mn(i,n),Qn(n),c&512&&a!==null&&Bs(a,a.return),n.flags&32){var d=n.stateNode;try{kr(d,"")}catch(ce){et(n,n.return,ce)}}if(c&4&&(d=n.stateNode,d!=null)){var m=n.memoizedProps,_=a!==null?a.memoizedProps:m,I=n.type,P=n.updateQueue;if(n.updateQueue=null,P!==null)try{I==="input"&&m.type==="radio"&&m.name!=null&&ho(d,m),Eo(I,_);var B=Eo(I,m);for(_=0;_<P.length;_+=2){var X=P[_],Z=P[_+1];X==="style"?vo(d,Z):X==="dangerouslySetInnerHTML"?go(d,Z):X==="children"?kr(d,Z):re(d,X,Z,B)}switch(I){case"input":fo(d,m);break;case"textarea":is(d,m);break;case"select":var Y=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!m.multiple;var ie=m.value;ie!=null?or(d,!!m.multiple,ie,!1):Y!==!!m.multiple&&(m.defaultValue!=null?or(d,!!m.multiple,m.defaultValue,!0):or(d,!!m.multiple,m.multiple?[]:"",!1))}d[qo]=m}catch(ce){et(n,n.return,ce)}}break;case 6:if(Mn(i,n),Qn(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,m=n.memoizedProps;try{d.nodeValue=m}catch(ce){et(n,n.return,ce)}}break;case 3:if(Mn(i,n),Qn(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{kn(i.containerInfo)}catch(ce){et(n,n.return,ce)}break;case 4:Mn(i,n),Qn(n);break;case 13:Mn(i,n),Qn(n),d=n.child,d.flags&8192&&(m=d.memoizedState!==null,d.stateNode.isHidden=m,!m||d.alternate!==null&&d.alternate.memoizedState!==null||(fh=$e())),c&4&&Zp(n);break;case 22:if(X=a!==null&&a.memoizedState!==null,n.mode&1?(Lt=(B=Lt)||X,Mn(i,n),Lt=B):Mn(i,n),Qn(n),c&8192){if(B=n.memoizedState!==null,(n.stateNode.isHidden=B)&&!X&&n.mode&1)for(ae=n,X=n.child;X!==null;){for(Z=ae=X;ae!==null;){switch(Y=ae,ie=Y.child,Y.tag){case 0:case 11:case 14:case 15:ta(4,Y,Y.return);break;case 1:Bs(Y,Y.return);var ue=Y.stateNode;if(typeof ue.componentWillUnmount=="function"){c=Y,a=Y.return;try{i=c,ue.props=i.memoizedProps,ue.state=i.memoizedState,ue.componentWillUnmount()}catch(ce){et(c,a,ce)}}break;case 5:Bs(Y,Y.return);break;case 22:if(Y.memoizedState!==null){rm(Z);continue}}ie!==null?(ie.return=Y,ae=ie):rm(Z)}X=X.sibling}e:for(X=null,Z=n;;){if(Z.tag===5){if(X===null){X=Z;try{d=Z.stateNode,B?(m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(I=Z.stateNode,P=Z.memoizedProps.style,_=P!=null&&P.hasOwnProperty("display")?P.display:null,I.style.display=yo("display",_))}catch(ce){et(n,n.return,ce)}}}else if(Z.tag===6){if(X===null)try{Z.stateNode.nodeValue=B?"":Z.memoizedProps}catch(ce){et(n,n.return,ce)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===n)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===n)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===n)break e;X===Z&&(X=null),Z=Z.return}X===Z&&(X=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:Mn(i,n),Qn(n),c&4&&Zp(n);break;case 21:break;default:Mn(i,n),Qn(n)}}function Qn(n){var i=n.flags;if(i&2){try{e:{for(var a=n.return;a!==null;){if(Yp(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(kr(d,""),c.flags&=-33);var m=Xp(n);ch(n,m,d);break;case 3:case 4:var _=c.stateNode.containerInfo,I=Xp(n);uh(n,I,_);break;default:throw Error(t(161))}}catch(P){et(n,n.return,P)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function u0(n,i,a){ae=n,tm(n)}function tm(n,i,a){for(var c=(n.mode&1)!==0;ae!==null;){var d=ae,m=d.child;if(d.tag===22&&c){var _=d.memoizedState!==null||Dl;if(!_){var I=d.alternate,P=I!==null&&I.memoizedState!==null||Lt;I=Dl;var B=Lt;if(Dl=_,(Lt=P)&&!B)for(ae=d;ae!==null;)_=ae,P=_.child,_.tag===22&&_.memoizedState!==null?im(d):P!==null?(P.return=_,ae=P):im(d);for(;m!==null;)ae=m,tm(m),m=m.sibling;ae=d,Dl=I,Lt=B}nm(n)}else d.subtreeFlags&8772&&m!==null?(m.return=d,ae=m):nm(n)}}function nm(n){for(;ae!==null;){var i=ae;if(i.flags&8772){var a=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:Lt||Ll(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Lt)if(a===null)c.componentDidMount();else{var d=i.elementType===i.type?a.memoizedProps:Dn(i.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=i.updateQueue;m!==null&&rp(i,m,c);break;case 3:var _=i.updateQueue;if(_!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}rp(i,_,a)}break;case 5:var I=i.stateNode;if(a===null&&i.flags&4){a=I;var P=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&a.focus();break;case"img":P.src&&(a.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var B=i.alternate;if(B!==null){var X=B.memoizedState;if(X!==null){var Z=X.dehydrated;Z!==null&&kn(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Lt||i.flags&512&&lh(i)}catch(Y){et(i,i.return,Y)}}if(i===n){ae=null;break}if(a=i.sibling,a!==null){a.return=i.return,ae=a;break}ae=i.return}}function rm(n){for(;ae!==null;){var i=ae;if(i===n){ae=null;break}var a=i.sibling;if(a!==null){a.return=i.return,ae=a;break}ae=i.return}}function im(n){for(;ae!==null;){var i=ae;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Ll(4,i)}catch(P){et(i,a,P)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var d=i.return;try{c.componentDidMount()}catch(P){et(i,d,P)}}var m=i.return;try{lh(i)}catch(P){et(i,m,P)}break;case 5:var _=i.return;try{lh(i)}catch(P){et(i,_,P)}}}catch(P){et(i,i.return,P)}if(i===n){ae=null;break}var I=i.sibling;if(I!==null){I.return=i.return,ae=I;break}ae=i.return}}var c0=Math.ceil,Ml=fe.ReactCurrentDispatcher,hh=fe.ReactCurrentOwner,vn=fe.ReactCurrentBatchConfig,Le=0,_t=null,ot=null,At=0,an=0,$s=zr(0),ft=0,na=null,ji=0,Ol=0,dh=0,ra=null,Kt=null,fh=0,qs=1/0,Er=null,Fl=!1,ph=null,Kr=null,bl=!1,Gr=null,jl=0,ia=0,mh=null,Ul=-1,zl=0;function zt(){return Le&6?$e():Ul!==-1?Ul:Ul=$e()}function Qr(n){return n.mode&1?Le&2&&At!==0?At&-At:K_.transition!==null?(zl===0&&(zl=Ri()),zl):(n=Pe,n!==0||(n=window.event,n=n===void 0?16:Vo(n.type)),n):1}function On(n,i,a,c){if(50<ia)throw ia=0,mh=null,Error(t(185));Dr(n,a,c),(!(Le&2)||n!==_t)&&(n===_t&&(!(Le&2)&&(Ol|=a),ft===4&&Yr(n,At)),Gt(n,c),a===1&&Le===0&&!(i.mode&1)&&(qs=$e()+500,ml&&$r()))}function Gt(n,i){var a=n.callbackNode;ur(n,i);var c=Ci(n,n===_t?At:0);if(c===0)a!==null&&Ro(a),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(a!=null&&Ro(a),i===1)n.tag===0?W_(om.bind(null,n)):Hf(om.bind(null,n)),B_(function(){!(Le&6)&&$r()}),a=null;else{switch(Mr(c)){case 1:a=Si;break;case 4:a=xr;break;case 16:a=hn;break;case 536870912:a=za;break;default:a=hn}a=pm(a,sm.bind(null,n))}n.callbackPriority=i,n.callbackNode=a}}function sm(n,i){if(Ul=-1,zl=0,Le&6)throw Error(t(327));var a=n.callbackNode;if(Hs()&&n.callbackNode!==a)return null;var c=Ci(n,n===_t?At:0);if(c===0)return null;if(c&30||c&n.expiredLanes||i)i=Bl(n,c);else{i=c;var d=Le;Le|=2;var m=lm();(_t!==n||At!==i)&&(Er=null,qs=$e()+500,zi(n,i));do try{f0();break}catch(I){am(n,I)}while(!0);Dc(),Ml.current=m,Le=d,ot!==null?i=0:(_t=null,At=0,i=ft)}if(i!==0){if(i===2&&(d=tn(n),d!==0&&(c=d,i=gh(n,d))),i===1)throw a=na,zi(n,0),Yr(n,c),Gt(n,$e()),a;if(i===6)Yr(n,c);else{if(d=n.current.alternate,!(c&30)&&!h0(d)&&(i=Bl(n,c),i===2&&(m=tn(n),m!==0&&(c=m,i=gh(n,m))),i===1))throw a=na,zi(n,0),Yr(n,c),Gt(n,$e()),a;switch(n.finishedWork=d,n.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:Bi(n,Kt,Er);break;case 3:if(Yr(n,c),(c&130023424)===c&&(i=fh+500-$e(),10<i)){if(Ci(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){zt(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=Tc(Bi.bind(null,n,Kt,Er),i);break}Bi(n,Kt,Er);break;case 4:if(Yr(n,c),(c&4194240)===c)break;for(i=n.eventTimes,d=-1;0<c;){var _=31-bt(c);m=1<<_,_=i[_],_>d&&(d=_),c&=~m}if(c=d,c=$e()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*c0(c/1960))-c,10<c){n.timeoutHandle=Tc(Bi.bind(null,n,Kt,Er),c);break}Bi(n,Kt,Er);break;case 5:Bi(n,Kt,Er);break;default:throw Error(t(329))}}}return Gt(n,$e()),n.callbackNode===a?sm.bind(null,n):null}function gh(n,i){var a=ra;return n.current.memoizedState.isDehydrated&&(zi(n,i).flags|=256),n=Bl(n,i),n!==2&&(i=Kt,Kt=a,i!==null&&yh(i)),n}function yh(n){Kt===null?Kt=n:Kt.push.apply(Kt,n)}function h0(n){for(var i=n;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],m=d.getSnapshot;d=d.value;try{if(!Nn(m(),d))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Yr(n,i){for(i&=~dh,i&=~Ol,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var a=31-bt(i),c=1<<a;n[a]=-1,i&=~c}}function om(n){if(Le&6)throw Error(t(327));Hs();var i=Ci(n,0);if(!(i&1))return Gt(n,$e()),null;var a=Bl(n,i);if(n.tag!==0&&a===2){var c=tn(n);c!==0&&(i=c,a=gh(n,c))}if(a===1)throw a=na,zi(n,0),Yr(n,i),Gt(n,$e()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,Bi(n,Kt,Er),Gt(n,$e()),null}function vh(n,i){var a=Le;Le|=1;try{return n(i)}finally{Le=a,Le===0&&(qs=$e()+500,ml&&$r())}}function Ui(n){Gr!==null&&Gr.tag===0&&!(Le&6)&&Hs();var i=Le;Le|=1;var a=vn.transition,c=Pe;try{if(vn.transition=null,Pe=1,n)return n()}finally{Pe=c,vn.transition=a,Le=i,!(Le&6)&&$r()}}function _h(){an=$s.current,We($s)}function zi(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,z_(a)),ot!==null)for(a=ot.return;a!==null;){var c=a;switch(Pc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&fl();break;case 3:Us(),We(qt),We(Nt),zc();break;case 5:jc(c);break;case 4:Us();break;case 13:We(Ye);break;case 19:We(Ye);break;case 10:Lc(c.type._context);break;case 22:case 23:_h()}a=a.return}if(_t=n,ot=n=Xr(n.current,null),At=an=i,ft=0,na=null,dh=Ol=ji=0,Kt=ra=null,Oi!==null){for(i=0;i<Oi.length;i++)if(a=Oi[i],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,m=a.pending;if(m!==null){var _=m.next;m.next=d,c.next=_}a.pending=c}Oi=null}return n}function am(n,i){do{var a=ot;try{if(Dc(),Al.current=kl,Cl){for(var c=Xe.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Cl=!1}if(bi=0,vt=dt=Xe=null,Yo=!1,Xo=0,hh.current=null,a===null||a.return===null){ft=1,na=i,ot=null;break}e:{var m=n,_=a.return,I=a,P=i;if(i=At,I.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var B=P,X=I,Z=X.tag;if(!(X.mode&1)&&(Z===0||Z===11||Z===15)){var Y=X.alternate;Y?(X.updateQueue=Y.updateQueue,X.memoizedState=Y.memoizedState,X.lanes=Y.lanes):(X.updateQueue=null,X.memoizedState=null)}var ie=Vp(_);if(ie!==null){ie.flags&=-257,Dp(ie,_,I,m,i),ie.mode&1&&Np(m,B,i),i=ie,P=B;var ue=i.updateQueue;if(ue===null){var ce=new Set;ce.add(P),i.updateQueue=ce}else ue.add(P);break e}else{if(!(i&1)){Np(m,B,i),wh();break e}P=Error(t(426))}}else if(Qe&&I.mode&1){var rt=Vp(_);if(rt!==null){!(rt.flags&65536)&&(rt.flags|=256),Dp(rt,_,I,m,i),Nc(zs(P,I));break e}}m=P=zs(P,I),ft!==4&&(ft=2),ra===null?ra=[m]:ra.push(m),m=_;do{switch(m.tag){case 3:m.flags|=65536,i&=-i,m.lanes|=i;var b=kp(m,P,i);np(m,b);break e;case 1:I=P;var N=m.type,U=m.stateNode;if(!(m.flags&128)&&(typeof N.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Kr===null||!Kr.has(U)))){m.flags|=65536,i&=-i,m.lanes|=i;var ee=xp(m,I,i);np(m,ee);break e}}m=m.return}while(m!==null)}cm(a)}catch(he){i=he,ot===a&&a!==null&&(ot=a=a.return);continue}break}while(!0)}function lm(){var n=Ml.current;return Ml.current=kl,n===null?kl:n}function wh(){(ft===0||ft===3||ft===2)&&(ft=4),_t===null||!(ji&268435455)&&!(Ol&268435455)||Yr(_t,At)}function Bl(n,i){var a=Le;Le|=2;var c=lm();(_t!==n||At!==i)&&(Er=null,zi(n,i));do try{d0();break}catch(d){am(n,d)}while(!0);if(Dc(),Le=a,Ml.current=c,ot!==null)throw Error(t(261));return _t=null,At=0,ft}function d0(){for(;ot!==null;)um(ot)}function f0(){for(;ot!==null&&!ja();)um(ot)}function um(n){var i=fm(n.alternate,n,an);n.memoizedProps=n.pendingProps,i===null?cm(n):ot=i,hh.current=null}function cm(n){var i=n;do{var a=i.alternate;if(n=i.return,i.flags&32768){if(a=o0(a,i),a!==null){a.flags&=32767,ot=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ft=6,ot=null;return}}else if(a=s0(a,i,an),a!==null){ot=a;return}if(i=i.sibling,i!==null){ot=i;return}ot=i=n}while(i!==null);ft===0&&(ft=5)}function Bi(n,i,a){var c=Pe,d=vn.transition;try{vn.transition=null,Pe=1,p0(n,i,a,c)}finally{vn.transition=d,Pe=c}return null}function p0(n,i,a,c){do Hs();while(Gr!==null);if(Le&6)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var m=a.lanes|a.childLanes;if(ze(n,m),n===_t&&(ot=_t=null,At=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||bl||(bl=!0,pm(hn,function(){return Hs(),null})),m=(a.flags&15990)!==0,a.subtreeFlags&15990||m){m=vn.transition,vn.transition=null;var _=Pe;Pe=1;var I=Le;Le|=4,hh.current=null,l0(n,a),em(a,n),L_(wc),Fr=!!_c,wc=_c=null,n.current=a,u0(a),rc(),Le=I,Pe=_,vn.transition=m}else n.current=a;if(bl&&(bl=!1,Gr=n,jl=d),m=n.pendingLanes,m===0&&(Kr=null),Ba(a.stateNode),Gt(n,$e()),i!==null)for(c=n.onRecoverableError,a=0;a<i.length;a++)d=i[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(Fl)throw Fl=!1,n=ph,ph=null,n;return jl&1&&n.tag!==0&&Hs(),m=n.pendingLanes,m&1?n===mh?ia++:(ia=0,mh=n):ia=0,$r(),null}function Hs(){if(Gr!==null){var n=Mr(jl),i=vn.transition,a=Pe;try{if(vn.transition=null,Pe=16>n?16:n,Gr===null)var c=!1;else{if(n=Gr,Gr=null,jl=0,Le&6)throw Error(t(331));var d=Le;for(Le|=4,ae=n.current;ae!==null;){var m=ae,_=m.child;if(ae.flags&16){var I=m.deletions;if(I!==null){for(var P=0;P<I.length;P++){var B=I[P];for(ae=B;ae!==null;){var X=ae;switch(X.tag){case 0:case 11:case 15:ta(8,X,m)}var Z=X.child;if(Z!==null)Z.return=X,ae=Z;else for(;ae!==null;){X=ae;var Y=X.sibling,ie=X.return;if(Qp(X),X===B){ae=null;break}if(Y!==null){Y.return=ie,ae=Y;break}ae=ie}}}var ue=m.alternate;if(ue!==null){var ce=ue.child;if(ce!==null){ue.child=null;do{var rt=ce.sibling;ce.sibling=null,ce=rt}while(ce!==null)}}ae=m}}if(m.subtreeFlags&2064&&_!==null)_.return=m,ae=_;else e:for(;ae!==null;){if(m=ae,m.flags&2048)switch(m.tag){case 0:case 11:case 15:ta(9,m,m.return)}var b=m.sibling;if(b!==null){b.return=m.return,ae=b;break e}ae=m.return}}var N=n.current;for(ae=N;ae!==null;){_=ae;var U=_.child;if(_.subtreeFlags&2064&&U!==null)U.return=_,ae=U;else e:for(_=N;ae!==null;){if(I=ae,I.flags&2048)try{switch(I.tag){case 0:case 11:case 15:Ll(9,I)}}catch(he){et(I,I.return,he)}if(I===_){ae=null;break e}var ee=I.sibling;if(ee!==null){ee.return=I.return,ae=ee;break e}ae=I.return}}if(Le=d,$r(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Ai,n)}catch{}c=!0}return c}finally{Pe=a,vn.transition=i}}return!1}function hm(n,i,a){i=zs(a,i),i=kp(n,i,1),n=Hr(n,i,1),i=zt(),n!==null&&(Dr(n,1,i),Gt(n,i))}function et(n,i,a){if(n.tag===3)hm(n,n,a);else for(;i!==null;){if(i.tag===3){hm(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Kr===null||!Kr.has(c))){n=zs(a,n),n=xp(i,n,1),i=Hr(i,n,1),n=zt(),i!==null&&(Dr(i,1,n),Gt(i,n));break}}i=i.return}}function m0(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),i=zt(),n.pingedLanes|=n.suspendedLanes&a,_t===n&&(At&a)===a&&(ft===4||ft===3&&(At&130023424)===At&&500>$e()-fh?zi(n,0):dh|=a),Gt(n,i)}function dm(n,i){i===0&&(n.mode&1?(i=ps,ps<<=1,!(ps&130023424)&&(ps=4194304)):i=1);var a=zt();n=vr(n,i),n!==null&&(Dr(n,i,a),Gt(n,a))}function g0(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),dm(n,a)}function y0(n,i){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),dm(n,a)}var fm;fm=function(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps||qt.current)Wt=!0;else{if(!(n.lanes&a)&&!(i.flags&128))return Wt=!1,i0(n,i,a);Wt=!!(n.flags&131072)}else Wt=!1,Qe&&i.flags&1048576&&Wf(i,yl,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;Vl(n,i),n=i.pendingProps;var d=Ds(i,Nt.current);js(i,a),d=qc(null,i,c,n,d,a);var m=Hc();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Ht(c)?(m=!0,pl(i)):m=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Fc(i),d.updater=xl,i.stateNode=d,d._reactInternals=i,Xc(i,c,n,a),i=th(null,i,c,!0,m,a)):(i.tag=0,Qe&&m&&Rc(i),Ut(null,i,d,a),i=i.child),i;case 16:c=i.elementType;e:{switch(Vl(n,i),n=i.pendingProps,d=c._init,c=d(c._payload),i.type=c,d=i.tag=_0(c),n=Dn(c,n),d){case 0:i=eh(null,i,c,n,a);break e;case 1:i=jp(null,i,c,n,a);break e;case 11:i=Lp(null,i,c,n,a);break e;case 14:i=Mp(null,i,c,Dn(c.type,n),a);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Dn(c,d),eh(n,i,c,d,a);case 1:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Dn(c,d),jp(n,i,c,d,a);case 3:e:{if(Up(i),n===null)throw Error(t(387));c=i.pendingProps,m=i.memoizedState,d=m.element,tp(n,i),Il(i,c,null,a);var _=i.memoizedState;if(c=_.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){d=zs(Error(t(423)),i),i=zp(n,i,c,a,d);break e}else if(c!==d){d=zs(Error(t(424)),i),i=zp(n,i,c,a,d);break e}else for(on=Ur(i.stateNode.containerInfo.firstChild),sn=i,Qe=!0,Vn=null,a=Zf(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Os(),c===d){i=wr(n,i,a);break e}Ut(n,i,c,a)}i=i.child}return i;case 5:return ip(i),n===null&&xc(i),c=i.type,d=i.pendingProps,m=n!==null?n.memoizedProps:null,_=d.children,Ec(c,d)?_=null:m!==null&&Ec(c,m)&&(i.flags|=32),bp(n,i),Ut(n,i,_,a),i.child;case 6:return n===null&&xc(i),null;case 13:return Bp(n,i,a);case 4:return bc(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=Fs(i,null,c,a):Ut(n,i,c,a),i.child;case 11:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Dn(c,d),Lp(n,i,c,d,a);case 7:return Ut(n,i,i.pendingProps,a),i.child;case 8:return Ut(n,i,i.pendingProps.children,a),i.child;case 12:return Ut(n,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,d=i.pendingProps,m=i.memoizedProps,_=d.value,qe(wl,c._currentValue),c._currentValue=_,m!==null)if(Nn(m.value,_)){if(m.children===d.children&&!qt.current){i=wr(n,i,a);break e}}else for(m=i.child,m!==null&&(m.return=i);m!==null;){var I=m.dependencies;if(I!==null){_=m.child;for(var P=I.firstContext;P!==null;){if(P.context===c){if(m.tag===1){P=_r(-1,a&-a),P.tag=2;var B=m.updateQueue;if(B!==null){B=B.shared;var X=B.pending;X===null?P.next=P:(P.next=X.next,X.next=P),B.pending=P}}m.lanes|=a,P=m.alternate,P!==null&&(P.lanes|=a),Mc(m.return,a,i),I.lanes|=a;break}P=P.next}}else if(m.tag===10)_=m.type===i.type?null:m.child;else if(m.tag===18){if(_=m.return,_===null)throw Error(t(341));_.lanes|=a,I=_.alternate,I!==null&&(I.lanes|=a),Mc(_,a,i),_=m.sibling}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===i){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}Ut(n,i,d.children,a),i=i.child}return i;case 9:return d=i.type,c=i.pendingProps.children,js(i,a),d=gn(d),c=c(d),i.flags|=1,Ut(n,i,c,a),i.child;case 14:return c=i.type,d=Dn(c,i.pendingProps),d=Dn(c.type,d),Mp(n,i,c,d,a);case 15:return Op(n,i,i.type,i.pendingProps,a);case 17:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Dn(c,d),Vl(n,i),i.tag=1,Ht(c)?(n=!0,pl(i)):n=!1,js(i,a),Rp(i,c,d),Xc(i,c,d,a),th(null,i,c,!0,n,a);case 19:return qp(n,i,a);case 22:return Fp(n,i,a)}throw Error(t(156,i.tag))};function pm(n,i){return ds(n,i)}function v0(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(n,i,a,c){return new v0(n,i,a,c)}function Eh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function _0(n){if(typeof n=="function")return Eh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===O)return 11;if(n===kt)return 14}return 2}function Xr(n,i){var a=n.alternate;return a===null?(a=_n(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function $l(n,i,a,c,d,m){var _=2;if(c=n,typeof n=="function")Eh(n)&&(_=1);else if(typeof n=="string")_=5;else e:switch(n){case x:return $i(a.children,d,m,i);case T:_=8,d|=8;break;case C:return n=_n(12,a,i,d|2),n.elementType=C,n.lanes=m,n;case R:return n=_n(13,a,i,d),n.elementType=R,n.lanes=m,n;case tt:return n=_n(19,a,i,d),n.elementType=tt,n.lanes=m,n;case Ue:return ql(a,d,m,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case k:_=10;break e;case V:_=9;break e;case O:_=11;break e;case kt:_=14;break e;case xt:_=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=_n(_,a,i,d),i.elementType=n,i.type=c,i.lanes=m,i}function $i(n,i,a,c){return n=_n(7,n,c,i),n.lanes=a,n}function ql(n,i,a,c){return n=_n(22,n,c,i),n.elementType=Ue,n.lanes=a,n.stateNode={isHidden:!1},n}function Th(n,i,a){return n=_n(6,n,null,i),n.lanes=a,n}function Ih(n,i,a){return i=_n(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function w0(n,i,a,c,d){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vr(0),this.expirationTimes=Vr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vr(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Sh(n,i,a,c,d,m,_,I,P){return n=new w0(n,i,a,I,P),i===1?(i=1,m===!0&&(i|=8)):i=0,m=_n(3,null,null,i),n.current=m,m.stateNode=n,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fc(m),n}function E0(n,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Te,key:c==null?null:""+c,children:n,containerInfo:i,implementation:a}}function mm(n){if(!n)return Br;n=n._reactInternals;e:{if(Sn(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Ht(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Ht(a))return $f(n,a,i)}return i}function gm(n,i,a,c,d,m,_,I,P){return n=Sh(a,c,!0,n,d,m,_,I,P),n.context=mm(null),a=n.current,c=zt(),d=Qr(a),m=_r(c,d),m.callback=i??null,Hr(a,m,d),n.current.lanes=d,Dr(n,d,c),Gt(n,c),n}function Hl(n,i,a,c){var d=i.current,m=zt(),_=Qr(d);return a=mm(a),i.context===null?i.context=a:i.pendingContext=a,i=_r(m,_),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=Hr(d,i,_),n!==null&&(On(n,d,_,m),Tl(n,d,_)),_}function Wl(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function ym(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Ah(n,i){ym(n,i),(n=n.alternate)&&ym(n,i)}var vm=typeof reportError=="function"?reportError:function(n){console.error(n)};function Ch(n){this._internalRoot=n}Kl.prototype.render=Ch.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));Hl(n,i,null,null)},Kl.prototype.unmount=Ch.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Ui(function(){Hl(null,n,null,null)}),i[pr]=null}};function Kl(n){this._internalRoot=n}Kl.prototype.unstable_scheduleHydration=function(n){if(n){var i=Ka();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Bn.length&&i!==0&&i<Bn[a].priority;a++);Bn.splice(a,0,n),a===0&&Ya(n)}};function Rh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Gl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function _m(){}function T0(n,i,a,c,d){if(d){if(typeof c=="function"){var m=c;c=function(){var B=Wl(_);m.call(B)}}var _=gm(i,c,n,0,null,!1,!1,"",_m);return n._reactRootContainer=_,n[pr]=_.current,Bo(n.nodeType===8?n.parentNode:n),Ui(),_}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var I=c;c=function(){var B=Wl(P);I.call(B)}}var P=Sh(n,0,!1,null,null,!1,!1,"",_m);return n._reactRootContainer=P,n[pr]=P.current,Bo(n.nodeType===8?n.parentNode:n),Ui(function(){Hl(i,P,a,c)}),P}function Ql(n,i,a,c,d){var m=a._reactRootContainer;if(m){var _=m;if(typeof d=="function"){var I=d;d=function(){var P=Wl(_);I.call(P)}}Hl(i,_,n,d)}else _=T0(a,i,n,d,c);return Wl(_)}Ha=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var a=Nr(i.pendingLanes);a!==0&&(Lr(i,a|1),Gt(i,$e()),!(Le&6)&&(qs=$e()+500,$r()))}break;case 13:Ui(function(){var c=vr(n,1);if(c!==null){var d=zt();On(c,n,1,d)}}),Ah(n,1)}},ms=function(n){if(n.tag===13){var i=vr(n,134217728);if(i!==null){var a=zt();On(i,n,134217728,a)}Ah(n,134217728)}},Wa=function(n){if(n.tag===13){var i=Qr(n),a=vr(n,i);if(a!==null){var c=zt();On(a,n,i,c)}Ah(n,i)}},Ka=function(){return Pe},Ga=function(n,i){var a=Pe;try{return Pe=n,i()}finally{Pe=a}},os=function(n,i,a){switch(i){case"input":if(fo(n,a),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==n&&c.form===n.form){var d=dl(c);if(!d)throw Error(t(90));es(c),fo(c,d)}}}break;case"textarea":is(n,a);break;case"select":i=a.value,i!=null&&or(n,!!a.multiple,i,!1)}},wi=vh,Io=Ui;var I0={usingClientEntryPoint:!1,Events:[Ho,Ns,dl,Un,To,vh]},sa={findFiberByHostInstance:Vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},S0={bundleType:sa.bundleType,version:sa.version,rendererPackageName:sa.rendererPackageName,rendererConfig:sa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fe.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Co(n),n===null?null:n.stateNode},findFiberByHostInstance:sa.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yl.isDisabled&&Yl.supportsFiber)try{Ai=Yl.inject(S0),en=Yl}catch{}}return Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I0,Qt.createPortal=function(n,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rh(i))throw Error(t(200));return E0(n,i,null,a)},Qt.createRoot=function(n,i){if(!Rh(n))throw Error(t(299));var a=!1,c="",d=vm;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=Sh(n,1,!1,null,null,a,!1,c,d),n[pr]=i.current,Bo(n.nodeType===8?n.parentNode:n),new Ch(i)},Qt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Co(i),n=n===null?null:n.stateNode,n},Qt.flushSync=function(n){return Ui(n)},Qt.hydrate=function(n,i,a){if(!Gl(i))throw Error(t(200));return Ql(null,n,i,!0,a)},Qt.hydrateRoot=function(n,i,a){if(!Rh(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,m="",_=vm;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),i=gm(i,null,n,1,a??null,d,!1,m,_),n[pr]=i.current,Bo(n),c)for(n=0;n<c.length;n++)a=c[n],d=a._getVersion,d=d(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,d]:i.mutableSourceEagerHydrationData.push(a,d);return new Kl(i)},Qt.render=function(n,i,a){if(!Gl(i))throw Error(t(200));return Ql(null,n,i,!1,a)},Qt.unmountComponentAtNode=function(n){if(!Gl(n))throw Error(t(40));return n._reactRootContainer?(Ui(function(){Ql(null,null,n,!1,function(){n._reactRootContainer=null,n[pr]=null})}),!0):!1},Qt.unstable_batchedUpdates=vh,Qt.unstable_renderSubtreeIntoContainer=function(n,i,a,c){if(!Gl(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Ql(n,i,a,!1,c)},Qt.version="18.3.1-next-f1338f8080-20240426",Qt}var Rm;function V0(){if(Rm)return xh.exports;Rm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),xh.exports=N0(),xh.exports}var Pm;function D0(){if(Pm)return Xl;Pm=1;var r=V0();return Xl.createRoot=r.createRoot,Xl.hydrateRoot=r.hydrateRoot,Xl}var L0=D0(),aa={},km;function M0(){if(km)return aa;km=1,Object.defineProperty(aa,"__esModule",{value:!0}),aa.parse=h,aa.serialize=v;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function h(A,L){const j=new u,q=A.length;if(q<2)return j;const z=(L==null?void 0:L.decode)||w;let Q=0;do{const J=A.indexOf("=",Q);if(J===-1)break;const re=A.indexOf(";",Q),fe=re===-1?q:re;if(J>fe){Q=A.lastIndexOf(";",J-1)+1;continue}const Ce=f(A,Q,J),Te=g(A,J,Ce),x=A.slice(Ce,Te);if(j[x]===void 0){let T=f(A,J+1,fe),C=g(A,fe,T);const k=z(A.slice(T,C));j[x]=k}Q=fe+1}while(Q<q);return j}function f(A,L,j){do{const q=A.charCodeAt(L);if(q!==32&&q!==9)return L}while(++L<j);return j}function g(A,L,j){for(;L>j;){const q=A.charCodeAt(--L);if(q!==32&&q!==9)return L+1}return j}function v(A,L,j){const q=(j==null?void 0:j.encode)||encodeURIComponent;if(!r.test(A))throw new TypeError(`argument name is invalid: ${A}`);const z=q(L);if(!e.test(z))throw new TypeError(`argument val is invalid: ${L}`);let Q=A+"="+z;if(!j)return Q;if(j.maxAge!==void 0){if(!Number.isInteger(j.maxAge))throw new TypeError(`option maxAge is invalid: ${j.maxAge}`);Q+="; Max-Age="+j.maxAge}if(j.domain){if(!t.test(j.domain))throw new TypeError(`option domain is invalid: ${j.domain}`);Q+="; Domain="+j.domain}if(j.path){if(!s.test(j.path))throw new TypeError(`option path is invalid: ${j.path}`);Q+="; Path="+j.path}if(j.expires){if(!S(j.expires)||!Number.isFinite(j.expires.valueOf()))throw new TypeError(`option expires is invalid: ${j.expires}`);Q+="; Expires="+j.expires.toUTCString()}if(j.httpOnly&&(Q+="; HttpOnly"),j.secure&&(Q+="; Secure"),j.partitioned&&(Q+="; Partitioned"),j.priority)switch(typeof j.priority=="string"?j.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${j.priority}`)}if(j.sameSite)switch(typeof j.sameSite=="string"?j.sameSite.toLowerCase():j.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${j.sameSite}`)}return Q}function w(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function S(A){return o.call(A)==="[object Date]"}return aa}M0();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var xm="popstate";function O0(r={}){function e(s,o){let{pathname:u,search:h,hash:f}=s.location;return Kh("",{pathname:u,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:va(o)}return b0(e,t,null,r)}function Je(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function er(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function F0(){return Math.random().toString(36).substring(2,10)}function Nm(r,e){return{usr:r.state,key:r.key,idx:e}}function Kh(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?io(e):e,state:t,key:e&&e.key||s||F0()}}function va({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function io(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function b0(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,f="POP",g=null,v=w();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function w(){return(h.state||{idx:null}).idx}function S(){f="POP";let z=w(),Q=z==null?null:z-v;v=z,g&&g({action:f,location:q.location,delta:Q})}function A(z,Q){f="PUSH";let J=Kh(q.location,z,Q);v=w()+1;let re=Nm(J,v),fe=q.createHref(J);try{h.pushState(re,"",fe)}catch(Ce){if(Ce instanceof DOMException&&Ce.name==="DataCloneError")throw Ce;o.location.assign(fe)}u&&g&&g({action:f,location:q.location,delta:1})}function L(z,Q){f="REPLACE";let J=Kh(q.location,z,Q);v=w();let re=Nm(J,v),fe=q.createHref(J);h.replaceState(re,"",fe),u&&g&&g({action:f,location:q.location,delta:0})}function j(z){let Q=o.location.origin!=="null"?o.location.origin:o.location.href,J=typeof z=="string"?z:va(z);return J=J.replace(/ $/,"%20"),Je(Q,`No window.location.(origin|href) available to create URL for href: ${J}`),new URL(J,Q)}let q={get action(){return f},get location(){return r(o,h)},listen(z){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(xm,S),g=z,()=>{o.removeEventListener(xm,S),g=null}},createHref(z){return e(o,z)},createURL:j,encodeLocation(z){let Q=j(z);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:A,replace:L,go(z){return h.go(z)}};return q}function Zg(r,e,t="/"){return j0(r,e,t,!1)}function j0(r,e,t,s){let o=typeof e=="string"?io(e):e,u=si(o.pathname||"/",t);if(u==null)return null;let h=ey(r);U0(h);let f=null;for(let g=0;f==null&&g<h.length;++g){let v=X0(u);f=Q0(h[g],v,s)}return f}function ey(r,e=[],t=[],s=""){let o=(u,h,f)=>{let g={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(Je(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let v=Tr([s,g.relativePath]),w=t.concat(g);u.children&&u.children.length>0&&(Je(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),ey(u.children,e,w,v)),!(u.path==null&&!u.index)&&e.push({path:v,score:K0(v,u.index),routesMeta:w})};return r.forEach((u,h)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))o(u,h);else for(let g of ty(u.path))o(u,h,g)}),e}function ty(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=ty(s.join("/")),f=[];return f.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&f.push(...h),f.map(g=>r.startsWith("/")&&g===""?"/":g)}function U0(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:G0(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var z0=/^:[\w-]+$/,B0=3,$0=2,q0=1,H0=10,W0=-2,Vm=r=>r==="*";function K0(r,e){let t=r.split("/"),s=t.length;return t.some(Vm)&&(s+=W0),e&&(s+=$0),t.filter(o=>!Vm(o)).reduce((o,u)=>o+(z0.test(u)?B0:u===""?q0:H0),s)}function G0(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Q0(r,e,t=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let f=0;f<s.length;++f){let g=s[f],v=f===s.length-1,w=u==="/"?e:e.slice(u.length)||"/",S=fu({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},w),A=g.route;if(!S&&v&&t&&!s[s.length-1].route.index&&(S=fu({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},w)),!S)return null;Object.assign(o,S.params),h.push({params:o,pathname:Tr([u,S.pathname]),pathnameBase:tw(Tr([u,S.pathnameBase])),route:A}),S.pathnameBase!=="/"&&(u=Tr([u,S.pathnameBase]))}return h}function fu(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=Y0(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((v,{paramName:w,isOptional:S},A)=>{if(w==="*"){let j=f[A]||"";h=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const L=f[A];return S&&!L?v[w]=void 0:v[w]=(L||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:h,pattern:r}}function Y0(r,e=!1,t=!0){er(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,g)=>(s.push({paramName:f,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function X0(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return er(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function si(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function J0(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?io(r):r;return{pathname:t?t.startsWith("/")?t:Z0(t,e):e,search:nw(s),hash:rw(o)}}function Z0(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Dh(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ew(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ny(r){let e=ew(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function ry(r,e,t,s=!1){let o;typeof r=="string"?o=io(r):(o={...r},Je(!o.pathname||!o.pathname.includes("?"),Dh("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),Dh("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),Dh("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,f;if(h==null)f=t;else{let S=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),S-=1;o.pathname=A.join("/")}f=S>=0?e[S]:"/"}let g=J0(o,f),v=h&&h!=="/"&&h.endsWith("/"),w=(u||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(v||w)&&(g.pathname+="/"),g}var Tr=r=>r.join("/").replace(/\/\/+/g,"/"),tw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),nw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,rw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function iw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var iy=["POST","PUT","PATCH","DELETE"];new Set(iy);var sw=["GET",...iy];new Set(sw);var so=H.createContext(null);so.displayName="DataRouter";var Du=H.createContext(null);Du.displayName="DataRouterState";var sy=H.createContext({isTransitioning:!1});sy.displayName="ViewTransition";var ow=H.createContext(new Map);ow.displayName="Fetchers";var aw=H.createContext(null);aw.displayName="Await";var nr=H.createContext(null);nr.displayName="Navigation";var Ca=H.createContext(null);Ca.displayName="Location";var Rr=H.createContext({outlet:null,matches:[],isDataRoute:!1});Rr.displayName="Route";var _d=H.createContext(null);_d.displayName="RouteError";function lw(r,{relative:e}={}){Je(Ra(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=H.useContext(nr),{hash:o,pathname:u,search:h}=Pa(r,{relative:e}),f=u;return t!=="/"&&(f=u==="/"?t:Tr([t,u])),s.createHref({pathname:f,search:h,hash:o})}function Ra(){return H.useContext(Ca)!=null}function rr(){return Je(Ra(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(Ca).location}var oy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ay(r){H.useContext(nr).static||H.useLayoutEffect(r)}function ly(){let{isDataRoute:r}=H.useContext(Rr);return r?Ew():uw()}function uw(){Je(Ra(),"useNavigate() may be used only in the context of a <Router> component.");let r=H.useContext(so),{basename:e,navigator:t}=H.useContext(nr),{matches:s}=H.useContext(Rr),{pathname:o}=rr(),u=JSON.stringify(ny(s)),h=H.useRef(!1);return ay(()=>{h.current=!0}),H.useCallback((g,v={})=>{if(er(h.current,oy),!h.current)return;if(typeof g=="number"){t.go(g);return}let w=ry(g,JSON.parse(u),o,v.relative==="path");r==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Tr([e,w.pathname])),(v.replace?t.replace:t.push)(w,v.state,v)},[e,t,u,o,r])}H.createContext(null);function Pa(r,{relative:e}={}){let{matches:t}=H.useContext(Rr),{pathname:s}=rr(),o=JSON.stringify(ny(t));return H.useMemo(()=>ry(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function cw(r,e){return uy(r,e)}function uy(r,e,t,s){var Q;Je(Ra(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=H.useContext(nr),{matches:u}=H.useContext(Rr),h=u[u.length-1],f=h?h.params:{},g=h?h.pathname:"/",v=h?h.pathnameBase:"/",w=h&&h.route;{let J=w&&w.path||"";cy(g,!w||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let S=rr(),A;if(e){let J=typeof e=="string"?io(e):e;Je(v==="/"||((Q=J.pathname)==null?void 0:Q.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${J.pathname}" was given in the \`location\` prop.`),A=J}else A=S;let L=A.pathname||"/",j=L;if(v!=="/"){let J=v.replace(/^\//,"").split("/");j="/"+L.replace(/^\//,"").split("/").slice(J.length).join("/")}let q=Zg(r,{pathname:j});er(w||q!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),er(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=mw(q&&q.map(J=>Object.assign({},J,{params:Object.assign({},f,J.params),pathname:Tr([v,o.encodeLocation?o.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?v:Tr([v,o.encodeLocation?o.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),u,t,s);return e&&z?H.createElement(Ca.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},z):z}function hw(){let r=ww(),e=iw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=H.createElement(H.Fragment,null,H.createElement("p",null,"💿 Hey developer 👋"),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:u},"ErrorBoundary")," or"," ",H.createElement("code",{style:u},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:o},t):null,h)}var dw=H.createElement(hw,null),fw=class extends H.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?H.createElement(Rr.Provider,{value:this.props.routeContext},H.createElement(_d.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pw({routeContext:r,match:e,children:t}){let s=H.useContext(so);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(Rr.Provider,{value:r},t)}function mw(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,u=t==null?void 0:t.errors;if(u!=null){let g=o.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);Je(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,f=-1;if(t)for(let g=0;g<o.length;g++){let v=o[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=g),v.route.id){let{loaderData:w,errors:S}=t,A=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||A){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((g,v,w)=>{let S,A=!1,L=null,j=null;t&&(S=u&&v.route.id?u[v.route.id]:void 0,L=v.route.errorElement||dw,h&&(f<0&&w===0?(cy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,j=null):f===w&&(A=!0,j=v.route.hydrateFallbackElement||null)));let q=e.concat(o.slice(0,w+1)),z=()=>{let Q;return S?Q=L:A?Q=j:v.route.Component?Q=H.createElement(v.route.Component,null):v.route.element?Q=v.route.element:Q=g,H.createElement(pw,{match:v,routeContext:{outlet:g,matches:q,isDataRoute:t!=null},children:Q})};return t&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?H.createElement(fw,{location:t.location,revalidation:t.revalidation,component:L,error:S,children:z(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):z()},null)}function wd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gw(r){let e=H.useContext(so);return Je(e,wd(r)),e}function yw(r){let e=H.useContext(Du);return Je(e,wd(r)),e}function vw(r){let e=H.useContext(Rr);return Je(e,wd(r)),e}function Ed(r){let e=vw(r),t=e.matches[e.matches.length-1];return Je(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function _w(){return Ed("useRouteId")}function ww(){var s;let r=H.useContext(_d),e=yw("useRouteError"),t=Ed("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function Ew(){let{router:r}=gw("useNavigate"),e=Ed("useNavigate"),t=H.useRef(!1);return ay(()=>{t.current=!0}),H.useCallback(async(o,u={})=>{er(t.current,oy),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Dm={};function cy(r,e,t){!e&&!Dm[r]&&(Dm[r]=!0,er(!1,t))}H.memo(Tw);function Tw({routes:r,future:e,state:t}){return uy(r,void 0,t,e)}function qi(r){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Iw({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){Je(!Ra(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),f=H.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=io(t));let{pathname:g="/",search:v="",hash:w="",state:S=null,key:A="default"}=t,L=H.useMemo(()=>{let j=si(g,h);return j==null?null:{location:{pathname:j,search:v,hash:w,state:S,key:A},navigationType:s}},[h,g,v,w,S,A,s]);return er(L!=null,`<Router basename="${h}"> is not able to match the URL "${g}${v}${w}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:H.createElement(nr.Provider,{value:f},H.createElement(Ca.Provider,{children:e,value:L}))}function Sw({children:r,location:e}){return cw(Gh(r),e)}function Gh(r,e=[]){let t=[];return H.Children.forEach(r,(s,o)=>{if(!H.isValidElement(s))return;let u=[...e,o];if(s.type===H.Fragment){t.push.apply(t,Gh(s.props.children,u));return}Je(s.type===qi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Gh(s.props.children,u)),t.push(h)}),t}var su="get",ou="application/x-www-form-urlencoded";function Lu(r){return r!=null&&typeof r.tagName=="string"}function Aw(r){return Lu(r)&&r.tagName.toLowerCase()==="button"}function Cw(r){return Lu(r)&&r.tagName.toLowerCase()==="form"}function Rw(r){return Lu(r)&&r.tagName.toLowerCase()==="input"}function Pw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function kw(r,e){return r.button===0&&(!e||e==="_self")&&!Pw(r)}var Jl=null;function xw(){if(Jl===null)try{new FormData(document.createElement("form"),0),Jl=!1}catch{Jl=!0}return Jl}var Nw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lh(r){return r!=null&&!Nw.has(r)?(er(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ou}"`),null):r}function Vw(r,e){let t,s,o,u,h;if(Cw(r)){let f=r.getAttribute("action");s=f?si(f,e):null,t=r.getAttribute("method")||su,o=Lh(r.getAttribute("enctype"))||ou,u=new FormData(r)}else if(Aw(r)||Rw(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||f.getAttribute("action");if(s=g?si(g,e):null,t=r.getAttribute("formmethod")||f.getAttribute("method")||su,o=Lh(r.getAttribute("formenctype"))||Lh(f.getAttribute("enctype"))||ou,u=new FormData(f,r),!xw()){let{name:v,type:w,value:S}=r;if(w==="image"){let A=v?`${v}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else v&&u.append(v,S)}}else{if(Lu(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=su,s=null,o=ou,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function Td(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function Dw(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Lw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Mw(r,e,t){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await Dw(u,t);return h.links?h.links():[]}return[]}));return jw(s.flat(1).filter(Lw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Lm(r,e,t,s,o,u){let h=(g,v)=>t[v]?g.route.id!==t[v].route.id:!0,f=(g,v)=>{var w;return t[v].pathname!==g.pathname||((w=t[v].route.path)==null?void 0:w.endsWith("*"))&&t[v].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,v)=>h(g,v)||f(g,v)):u==="data"?e.filter((g,v)=>{var S;let w=s.routes[g.route.id];if(!w||!w.hasLoader)return!1;if(h(g,v)||f(g,v))return!0;if(g.route.shouldRevalidate){let A=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=t[0])==null?void 0:S.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function Ow(r,e){return Fw(r.map(t=>{let s=e.routes[t.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function Fw(r){return[...new Set(r)]}function bw(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function jw(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(bw(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function Uw(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function zw(){let r=H.useContext(so);return Td(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Bw(){let r=H.useContext(Du);return Td(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Id=H.createContext(void 0);Id.displayName="FrameworkContext";function hy(){let r=H.useContext(Id);return Td(r,"You must render this element inside a <HydratedRouter> element"),r}function $w(r,e){let t=H.useContext(Id),[s,o]=H.useState(!1),[u,h]=H.useState(!1),{onFocus:f,onBlur:g,onMouseEnter:v,onMouseLeave:w,onTouchStart:S}=e,A=H.useRef(null);H.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let q=Q=>{Q.forEach(J=>{h(J.isIntersecting)})},z=new IntersectionObserver(q,{threshold:.5});return A.current&&z.observe(A.current),()=>{z.disconnect()}}},[r]),H.useEffect(()=>{if(s){let q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(q)}}},[s]);let L=()=>{o(!0)},j=()=>{o(!1),h(!1)};return t?r!=="intent"?[u,A,{}]:[u,A,{onFocus:la(f,L),onBlur:la(g,j),onMouseEnter:la(v,L),onMouseLeave:la(w,j),onTouchStart:la(S,L)}]:[!1,A,{}]}function la(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function qw({page:r,...e}){let{router:t}=zw(),s=H.useMemo(()=>Zg(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?H.createElement(Ww,{page:r,matches:s,...e}):null}function Hw(r){let{manifest:e,routeModules:t}=hy(),[s,o]=H.useState([]);return H.useEffect(()=>{let u=!1;return Mw(r,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,t]),s}function Ww({page:r,matches:e,...t}){let s=rr(),{manifest:o,routeModules:u}=hy(),{loaderData:h,matches:f}=Bw(),g=H.useMemo(()=>Lm(r,e,f,o,s,"data"),[r,e,f,o,s]),v=H.useMemo(()=>Lm(r,e,f,o,s,"assets"),[r,e,f,o,s]),w=H.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let L=new Set,j=!1;if(e.forEach(z=>{var J;let Q=o.routes[z.route.id];!Q||!Q.hasLoader||(!g.some(re=>re.route.id===z.route.id)&&z.route.id in h&&((J=u[z.route.id])!=null&&J.shouldRevalidate)||Q.hasClientLoader?j=!0:L.add(z.route.id))}),L.size===0)return[];let q=Uw(r);return j&&L.size>0&&q.searchParams.set("_routes",e.filter(z=>L.has(z.route.id)).map(z=>z.route.id).join(",")),[q.pathname+q.search]},[h,s,o,g,e,r,u]),S=H.useMemo(()=>Ow(v,o),[v,o]),A=Hw(v);return H.createElement(H.Fragment,null,w.map(L=>H.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...t})),S.map(L=>H.createElement("link",{key:L,rel:"modulepreload",href:L,...t})),A.map(({key:L,link:j})=>H.createElement("link",{key:L,...j})))}function Kw(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var dy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dy&&(window.__reactRouterVersion="7.1.3")}catch{}function Gw({basename:r,children:e,window:t}){let s=H.useRef();s.current==null&&(s.current=O0({window:t,v5Compat:!0}));let o=s.current,[u,h]=H.useState({action:o.action,location:o.location}),f=H.useCallback(g=>{H.startTransition(()=>h(g))},[h]);return H.useLayoutEffect(()=>o.listen(f),[o,f]),H.createElement(Iw,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var fy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yt=H.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:f,target:g,to:v,preventScrollReset:w,viewTransition:S,...A},L){let{basename:j}=H.useContext(nr),q=typeof v=="string"&&fy.test(v),z,Q=!1;if(typeof v=="string"&&q&&(z=v,dy))try{let C=new URL(window.location.href),k=v.startsWith("//")?new URL(C.protocol+v):new URL(v),V=si(k.pathname,j);k.origin===C.origin&&V!=null?v=V+k.search+k.hash:Q=!0}catch{er(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=lw(v,{relative:o}),[re,fe,Ce]=$w(s,A),Te=Jw(v,{replace:h,state:f,target:g,preventScrollReset:w,relative:o,viewTransition:S});function x(C){e&&e(C),C.defaultPrevented||Te(C)}let T=H.createElement("a",{...A,...Ce,href:z||J,onClick:Q||u?e:x,ref:Kw(L,fe),target:g,"data-discover":!q&&t==="render"?"true":void 0});return re&&!q?H.createElement(H.Fragment,null,T,H.createElement(qw,{page:J})):T});Yt.displayName="Link";var Qw=H.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:f,children:g,...v},w){let S=Pa(h,{relative:v.relative}),A=rr(),L=H.useContext(Du),{navigator:j,basename:q}=H.useContext(nr),z=L!=null&&rE(S)&&f===!0,Q=j.encodeLocation?j.encodeLocation(S).pathname:S.pathname,J=A.pathname,re=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;t||(J=J.toLowerCase(),re=re?re.toLowerCase():null,Q=Q.toLowerCase()),re&&q&&(re=si(re,q)||re);const fe=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let Ce=J===Q||!o&&J.startsWith(Q)&&J.charAt(fe)==="/",Te=re!=null&&(re===Q||!o&&re.startsWith(Q)&&re.charAt(Q.length)==="/"),x={isActive:Ce,isPending:Te,isTransitioning:z},T=Ce?e:void 0,C;typeof s=="function"?C=s(x):C=[s,Ce?"active":null,Te?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(x):u;return H.createElement(Yt,{...v,"aria-current":T,className:C,ref:w,style:k,to:h,viewTransition:f},typeof g=="function"?g(x):g)});Qw.displayName="NavLink";var Yw=H.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=su,action:f,onSubmit:g,relative:v,preventScrollReset:w,viewTransition:S,...A},L)=>{let j=tE(),q=nE(f,{relative:v}),z=h.toLowerCase()==="get"?"get":"post",Q=typeof f=="string"&&fy.test(f),J=re=>{if(g&&g(re),re.defaultPrevented)return;re.preventDefault();let fe=re.nativeEvent.submitter,Ce=(fe==null?void 0:fe.getAttribute("formmethod"))||h;j(fe||re.currentTarget,{fetcherKey:e,method:Ce,navigate:t,replace:o,state:u,relative:v,preventScrollReset:w,viewTransition:S})};return H.createElement("form",{ref:L,method:z,action:q,onSubmit:s?g:J,...A,"data-discover":!Q&&r==="render"?"true":void 0})});Yw.displayName="Form";function Xw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function py(r){let e=H.useContext(so);return Je(e,Xw(r)),e}function Jw(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let f=ly(),g=rr(),v=Pa(r,{relative:u});return H.useCallback(w=>{if(kw(w,e)){w.preventDefault();let S=t!==void 0?t:va(g)===va(v);f(r,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[g,f,v,t,s,e,r,o,u,h])}var Zw=0,eE=()=>`__${String(++Zw)}__`;function tE(){let{router:r}=py("useSubmit"),{basename:e}=H.useContext(nr),t=_w();return H.useCallback(async(s,o={})=>{let{action:u,method:h,encType:f,formData:g,body:v}=Vw(s,e);if(o.navigate===!1){let w=o.fetcherKey||eE();await r.fetch(w,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:v,formMethod:o.method||h,formEncType:o.encType||f,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:v,formMethod:o.method||h,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function nE(r,{relative:e}={}){let{basename:t}=H.useContext(nr),s=H.useContext(Rr);Je(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Pa(r||".",{relative:e})},h=rr();if(r==null){u.search=h.search;let f=new URLSearchParams(u.search),g=f.getAll("index");if(g.some(w=>w==="")){f.delete("index"),g.filter(S=>S).forEach(S=>f.append("index",S));let w=f.toString();u.search=w?`?${w}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:Tr([t,u.pathname])),va(u)}function rE(r,e={}){let t=H.useContext(sy);Je(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=py("useViewTransitionState"),o=Pa(r,{relative:e.relative});if(!t.isTransitioning)return!1;let u=si(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=si(t.nextLocation.pathname,s)||t.nextLocation.pathname;return fu(o.pathname,h)!=null||fu(o.pathname,u)!=null}new TextEncoder;const Mu=H.createContext(),Ou=H.createContext();var Mm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},iE=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],h=r[t++],f=r[t++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},gy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,f=h?r[o+1]:0,g=o+2<r.length,v=g?r[o+2]:0,w=u>>2,S=(u&3)<<4|f>>4;let A=(f&15)<<2|v>>6,L=v&63;g||(L=64,h||(A=64)),s.push(t[w],t[S],t[A],t[L])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(my(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):iE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],f=o<r.length?t[r.charAt(o)]:0;++o;const v=o<r.length?t[r.charAt(o)]:64;++o;const S=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||f==null||v==null||S==null)throw new sE;const A=u<<2|f>>4;if(s.push(A),v!==64){const L=f<<4&240|v>>2;if(s.push(L),S!==64){const j=v<<6&192|S;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class sE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oE=function(r){const e=my(r);return gy.encodeByteArray(e,!0)},pu=function(r){return oE(r).replace(/\./g,"")},aE=function(r){try{return gy.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=()=>lE().__FIREBASE_DEFAULTS__,cE=()=>{if(typeof process>"u"||typeof Mm>"u")return;const r=Mm.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},hE=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&aE(r[1]);return e&&JSON.parse(e)},Sd=()=>{try{return uE()||cE()||hE()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},dE=r=>{var e,t;return(t=(e=Sd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},fE=r=>{const e=dE(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},yy=()=>{var r;return(r=Sd())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[pu(JSON.stringify(t)),pu(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yE(){var r;const e=(r=Sd())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vE(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function _E(){return!yE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vy(){try{return typeof indexedDB=="object"}catch{return!1}}function _y(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}function wE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="FirebaseError";class fi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=EE,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fu.prototype.create)}}class Fu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?TE(u,s):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new fi(o,f,s)}}function TE(r,e){return r.replace(IE,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const IE=/\{\$([^}]+)}/g;function mu(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(Om(u)&&Om(h)){if(!mu(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Om(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=1e3,AE=2,CE=4*60*60*1e3,RE=.5;function Fm(r,e=SE,t=AE){const s=e*Math.pow(t,r),o=Math.round(RE*s*(Math.random()-.5)*2);return Math.min(CE,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(r){return r&&r._delegate?r._delegate:r}class Ir{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new pE;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xE(e))try{this.getOrInitializeService({instanceIdentifier:Hi})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Hi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hi){return this.instances.has(e)}getOptions(e=Hi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(u);s===f&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:kE(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Hi){return this.component?this.component.multipleInstances?e:Hi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kE(r){return r===Hi?void 0:r}function xE(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new PE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(De||(De={}));const VE={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},DE=De.INFO,LE={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},ME=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=LE[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ad{constructor(e){this.name=e,this._logLevel=DE,this._logHandler=ME,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const OE=(r,e)=>e.some(t=>r instanceof t);let bm,jm;function FE(){return bm||(bm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bE(){return jm||(jm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wy=new WeakMap,Qh=new WeakMap,Ey=new WeakMap,Mh=new WeakMap,Cd=new WeakMap;function jE(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{t(ei(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&wy.set(t,r)}).catch(()=>{}),Cd.set(e,r),e}function UE(r){if(Qh.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Qh.set(r,e)}let Yh={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Qh.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Ey.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ei(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function zE(r){Yh=r(Yh)}function BE(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Oh(this),e,...t);return Ey.set(s,e.sort?e.sort():[e]),ei(s)}:bE().includes(r)?function(...e){return r.apply(Oh(this),e),ei(wy.get(this))}:function(...e){return ei(r.apply(Oh(this),e))}}function $E(r){return typeof r=="function"?BE(r):(r instanceof IDBTransaction&&UE(r),OE(r,FE())?new Proxy(r,Yh):r)}function ei(r){if(r instanceof IDBRequest)return jE(r);if(Mh.has(r))return Mh.get(r);const e=$E(r);return e!==r&&(Mh.set(r,e),Cd.set(e,r)),e}const Oh=r=>Cd.get(r);function Ty(r,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),f=ei(h);return s&&h.addEventListener("upgradeneeded",g=>{s(ei(h.result),g.oldVersion,g.newVersion,ei(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),f.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),f}const qE=["get","getKey","getAll","getAllKeys","count"],HE=["put","add","delete","clear"],Fh=new Map;function Um(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Fh.get(e))return Fh.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=HE.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||qE.includes(t)))return;const u=async function(h,...f){const g=this.transaction(h,o?"readwrite":"readonly");let v=g.store;return s&&(v=v.index(f.shift())),(await Promise.all([v[t](...f),o&&g.done]))[0]};return Fh.set(e,u),u}zE(r=>({...r,get:(e,t,s)=>Um(e,t)||r.get(e,t,s),has:(e,t)=>!!Um(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(KE(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function KE(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xh="@firebase/app",zm="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr=new Ad("@firebase/app"),GE="@firebase/app-compat",QE="@firebase/analytics-compat",YE="@firebase/analytics",XE="@firebase/app-check-compat",JE="@firebase/app-check",ZE="@firebase/auth",eT="@firebase/auth-compat",tT="@firebase/database",nT="@firebase/data-connect",rT="@firebase/database-compat",iT="@firebase/functions",sT="@firebase/functions-compat",oT="@firebase/installations",aT="@firebase/installations-compat",lT="@firebase/messaging",uT="@firebase/messaging-compat",cT="@firebase/performance",hT="@firebase/performance-compat",dT="@firebase/remote-config",fT="@firebase/remote-config-compat",pT="@firebase/storage",mT="@firebase/storage-compat",gT="@firebase/firestore",yT="@firebase/vertexai",vT="@firebase/firestore-compat",_T="firebase",wT="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh="[DEFAULT]",ET={[Xh]:"fire-core",[GE]:"fire-core-compat",[YE]:"fire-analytics",[QE]:"fire-analytics-compat",[JE]:"fire-app-check",[XE]:"fire-app-check-compat",[ZE]:"fire-auth",[eT]:"fire-auth-compat",[tT]:"fire-rtdb",[nT]:"fire-data-connect",[rT]:"fire-rtdb-compat",[iT]:"fire-fn",[sT]:"fire-fn-compat",[oT]:"fire-iid",[aT]:"fire-iid-compat",[lT]:"fire-fcm",[uT]:"fire-fcm-compat",[cT]:"fire-perf",[hT]:"fire-perf-compat",[dT]:"fire-rc",[fT]:"fire-rc-compat",[pT]:"fire-gcs",[mT]:"fire-gcs-compat",[gT]:"fire-fst",[vT]:"fire-fst-compat",[yT]:"fire-vertex","fire-js":"fire-js",[_T]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=new Map,TT=new Map,Zh=new Map;function Bm(r,e){try{r.container.addComponent(e)}catch(t){Sr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function oi(r){const e=r.name;if(Zh.has(e))return Sr.debug(`There were multiple attempts to register component ${e}.`),!1;Zh.set(e,r);for(const t of gu.values())Bm(t,r);for(const t of TT.values())Bm(t,r);return!0}function ka(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function IT(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ti=new Fu("app","Firebase",ST);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ir("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ti.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=wT;function Iy(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Jh,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ti.create("bad-app-name",{appName:String(o)});if(t||(t=yy()),!t)throw ti.create("no-options");const u=gu.get(o);if(u){if(mu(t,u.options)&&mu(s,u.config))return u;throw ti.create("duplicate-app",{appName:o})}const h=new NE(o);for(const g of Zh.values())h.addComponent(g);const f=new AT(t,s,h);return gu.set(o,f),f}function Sy(r=Jh){const e=gu.get(r);if(!e&&r===Jh&&yy())return Iy();if(!e)throw ti.create("no-app",{appName:r});return e}function Xn(r,e,t){var s;let o=(s=ET[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const f=[`Unable to register library "${o}" with version "${e}":`];u&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sr.warn(f.join(" "));return}oi(new Ir(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="firebase-heartbeat-database",PT=1,_a="firebase-heartbeat-store";let bh=null;function Ay(){return bh||(bh=Ty(RT,PT,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(_a)}catch(t){console.warn(t)}}}}).catch(r=>{throw ti.create("idb-open",{originalErrorMessage:r.message})})),bh}async function kT(r){try{const t=(await Ay()).transaction(_a),s=await t.objectStore(_a).get(Cy(r));return await t.done,s}catch(e){if(e instanceof fi)Sr.warn(e.message);else{const t=ti.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Sr.warn(t.message)}}}async function $m(r,e){try{const s=(await Ay()).transaction(_a,"readwrite");await s.objectStore(_a).put(e,Cy(r)),await s.done}catch(t){if(t instanceof fi)Sr.warn(t.message);else{const s=ti.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Sr.warn(s.message)}}}function Cy(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=1024,NT=30;class VT{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new LT(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=qm();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>NT){const h=MT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Sr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=qm(),{heartbeatsToSend:s,unsentEntries:o}=DT(this._heartbeatsCache.heartbeats),u=pu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Sr.warn(t),""}}}function qm(){return new Date().toISOString().substring(0,10)}function DT(r,e=xT){const t=[];let s=r.slice();for(const o of r){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Hm(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Hm(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class LT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vy()?_y().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await kT(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return $m(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return $m(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Hm(r){return pu(JSON.stringify({version:2,heartbeats:r})).length}function MT(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(r){oi(new Ir("platform-logger",e=>new WE(e),"PRIVATE")),oi(new Ir("heartbeat",e=>new VT(e),"PRIVATE")),Xn(Xh,zm,r),Xn(Xh,zm,"esm2017"),Xn("fire-js","")}OT("");var FT="firebase",bT="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn(FT,bT,"app");const Ry="@firebase/installations",Rd="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py=1e4,ky=`w:${Rd}`,xy="FIS_v2",jT="https://firebaseinstallations.googleapis.com/v1",UT=60*60*1e3,zT="installations",BT="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Gi=new Fu(zT,BT,$T);function Ny(r){return r instanceof fi&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy({projectId:r}){return`${jT}/projects/${r}/installations`}function Dy(r){return{token:r.token,requestStatus:2,expiresIn:HT(r.expiresIn),creationTime:Date.now()}}async function Ly(r,e){const s=(await e.json()).error;return Gi.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function My({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function qT(r,{refreshToken:e}){const t=My(r);return t.append("Authorization",WT(e)),t}async function Oy(r){const e=await r();return e.status>=500&&e.status<600?r():e}function HT(r){return Number(r.replace("s","000"))}function WT(r){return`${xy} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KT({appConfig:r,heartbeatServiceProvider:e},{fid:t}){const s=Vy(r),o=My(r),u=e.getImmediate({optional:!0});if(u){const v=await u.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const h={fid:t,authVersion:xy,appId:r.appId,sdkVersion:ky},f={method:"POST",headers:o,body:JSON.stringify(h)},g=await Oy(()=>fetch(s,f));if(g.ok){const v=await g.json();return{fid:v.fid||t,registrationStatus:2,refreshToken:v.refreshToken,authToken:Dy(v.authToken)}}else throw await Ly("Create Installation",g)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=/^[cdef][\w-]{21}$/,ed="";function YT(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const t=XT(r);return QT.test(t)?t:ed}catch{return ed}}function XT(r){return GT(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by=new Map;function jy(r,e){const t=bu(r);Uy(t,e),JT(t,e)}function Uy(r,e){const t=by.get(r);if(t)for(const s of t)s(e)}function JT(r,e){const t=ZT();t&&t.postMessage({key:r,fid:e}),e1()}let Wi=null;function ZT(){return!Wi&&"BroadcastChannel"in self&&(Wi=new BroadcastChannel("[Firebase] FID Change"),Wi.onmessage=r=>{Uy(r.data.key,r.data.fid)}),Wi}function e1(){by.size===0&&Wi&&(Wi.close(),Wi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="firebase-installations-database",n1=1,Qi="firebase-installations-store";let jh=null;function Pd(){return jh||(jh=Ty(t1,n1,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(Qi)}}})),jh}async function yu(r,e){const t=bu(r),o=(await Pd()).transaction(Qi,"readwrite"),u=o.objectStore(Qi),h=await u.get(t);return await u.put(e,t),await o.done,(!h||h.fid!==e.fid)&&jy(r,e.fid),e}async function zy(r){const e=bu(r),s=(await Pd()).transaction(Qi,"readwrite");await s.objectStore(Qi).delete(e),await s.done}async function ju(r,e){const t=bu(r),o=(await Pd()).transaction(Qi,"readwrite"),u=o.objectStore(Qi),h=await u.get(t),f=e(h);return f===void 0?await u.delete(t):await u.put(f,t),await o.done,f&&(!h||h.fid!==f.fid)&&jy(r,f.fid),f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kd(r){let e;const t=await ju(r.appConfig,s=>{const o=r1(s),u=i1(r,o);return e=u.registrationPromise,u.installationEntry});return t.fid===ed?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function r1(r){const e=r||{fid:YT(),registrationStatus:0};return By(e)}function i1(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Gi.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=s1(r,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:o1(r)}:{installationEntry:e}}async function s1(r,e){try{const t=await KT(r,e);return yu(r.appConfig,t)}catch(t){throw Ny(t)&&t.customData.serverCode===409?await zy(r.appConfig):await yu(r.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function o1(r){let e=await Wm(r.appConfig);for(;e.registrationStatus===1;)await Fy(100),e=await Wm(r.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await kd(r);return s||t}return e}function Wm(r){return ju(r,e=>{if(!e)throw Gi.create("installation-not-found");return By(e)})}function By(r){return a1(r)?{fid:r.fid,registrationStatus:0}:r}function a1(r){return r.registrationStatus===1&&r.registrationTime+Py<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l1({appConfig:r,heartbeatServiceProvider:e},t){const s=u1(r,t),o=qT(r,t),u=e.getImmediate({optional:!0});if(u){const v=await u.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const h={installation:{sdkVersion:ky,appId:r.appId}},f={method:"POST",headers:o,body:JSON.stringify(h)},g=await Oy(()=>fetch(s,f));if(g.ok){const v=await g.json();return Dy(v)}else throw await Ly("Generate Auth Token",g)}function u1(r,{fid:e}){return`${Vy(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xd(r,e=!1){let t;const s=await ju(r.appConfig,u=>{if(!$y(u))throw Gi.create("not-registered");const h=u.authToken;if(!e&&d1(h))return u;if(h.requestStatus===1)return t=c1(r,e),u;{if(!navigator.onLine)throw Gi.create("app-offline");const f=p1(u);return t=h1(r,f),f}});return t?await t:s.authToken}async function c1(r,e){let t=await Km(r.appConfig);for(;t.authToken.requestStatus===1;)await Fy(100),t=await Km(r.appConfig);const s=t.authToken;return s.requestStatus===0?xd(r,e):s}function Km(r){return ju(r,e=>{if(!$y(e))throw Gi.create("not-registered");const t=e.authToken;return m1(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function h1(r,e){try{const t=await l1(r,e),s=Object.assign(Object.assign({},e),{authToken:t});return await yu(r.appConfig,s),t}catch(t){if(Ny(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await zy(r.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await yu(r.appConfig,s)}throw t}}function $y(r){return r!==void 0&&r.registrationStatus===2}function d1(r){return r.requestStatus===2&&!f1(r)}function f1(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+UT}function p1(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function m1(r){return r.requestStatus===1&&r.requestTime+Py<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g1(r){const e=r,{installationEntry:t,registrationPromise:s}=await kd(e);return s?s.catch(console.error):xd(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y1(r,e=!1){const t=r;return await v1(t),(await xd(t,e)).token}async function v1(r){const{registrationPromise:e}=await kd(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(r){if(!r||!r.options)throw Uh("App Configuration");if(!r.name)throw Uh("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!r.options[t])throw Uh(t);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Uh(r){return Gi.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="installations",w1="installations-internal",E1=r=>{const e=r.getProvider("app").getImmediate(),t=_1(e),s=ka(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},T1=r=>{const e=r.getProvider("app").getImmediate(),t=ka(e,qy).getImmediate();return{getId:()=>g1(t),getToken:o=>y1(t,o)}};function I1(){oi(new Ir(qy,E1,"PUBLIC")),oi(new Ir(w1,T1,"PRIVATE"))}I1();Xn(Ry,Rd);Xn(Ry,Rd,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu="analytics",S1="firebase_id",A1="origin",C1=60*1e3,R1="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Nd="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt=new Ad("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},un=new Fu("analytics","Analytics",P1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(r){if(!r.startsWith(Nd)){const e=un.create("invalid-gtag-resource",{gtagURL:r});return Zt.warn(e.message),""}return r}function Hy(r){return Promise.all(r.map(e=>e.catch(t=>t)))}function x1(r,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(r,e)),t}function N1(r,e){const t=x1("firebase-js-sdk-policy",{createScriptURL:k1}),s=document.createElement("script"),o=`${Nd}?l=${r}&id=${e}`;s.src=t?t==null?void 0:t.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function V1(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function D1(r,e,t,s,o,u){const h=s[o];try{if(h)await e[h];else{const g=(await Hy(t)).find(v=>v.measurementId===o);g&&await e[g.appId]}}catch(f){Zt.error(f)}r("config",o,u)}async function L1(r,e,t,s,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const f=await Hy(t);for(const g of h){const v=f.find(S=>S.measurementId===g),w=v&&e[v.appId];if(w)u.push(w);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),r("event",s,o||{})}catch(u){Zt.error(u)}}function M1(r,e,t,s){async function o(u,...h){try{if(u==="event"){const[f,g]=h;await L1(r,e,t,f,g)}else if(u==="config"){const[f,g]=h;await D1(r,e,t,s,f,g)}else if(u==="consent"){const[f,g]=h;r("consent",f,g)}else if(u==="get"){const[f,g,v]=h;r("get",f,g,v)}else if(u==="set"){const[f]=h;r("set",f)}else r(u,...h)}catch(f){Zt.error(f)}}return o}function O1(r,e,t,s,o){let u=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=M1(u,r,e,t),{gtagCore:u,wrappedGtag:window[o]}}function F1(r){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Nd)&&t.src.includes(r))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=30,j1=1e3;class U1{constructor(e={},t=j1){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Wy=new U1;function z1(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function B1(r){var e;const{appId:t,apiKey:s}=r,o={method:"GET",headers:z1(s)},u=R1.replace("{app-id}",t),h=await fetch(u,o);if(h.status!==200&&h.status!==304){let f="";try{const g=await h.json();!((e=g.error)===null||e===void 0)&&e.message&&(f=g.error.message)}catch{}throw un.create("config-fetch-failed",{httpStatus:h.status,responseMessage:f})}return h.json()}async function $1(r,e=Wy,t){const{appId:s,apiKey:o,measurementId:u}=r.options;if(!s)throw un.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw un.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new W1;return setTimeout(async()=>{f.abort()},C1),Ky({appId:s,apiKey:o,measurementId:u},h,f,e)}async function Ky(r,{throttleEndTimeMillis:e,backoffCount:t},s,o=Wy){var u;const{appId:h,measurementId:f}=r;try{await q1(s,e)}catch(g){if(f)return Zt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:f};throw g}try{const g=await B1(r);return o.deleteThrottleMetadata(h),g}catch(g){const v=g;if(!H1(v)){if(o.deleteThrottleMetadata(h),f)return Zt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:h,measurementId:f};throw g}const w=Number((u=v==null?void 0:v.customData)===null||u===void 0?void 0:u.httpStatus)===503?Fm(t,o.intervalMillis,b1):Fm(t,o.intervalMillis),S={throttleEndTimeMillis:Date.now()+w,backoffCount:t+1};return o.setThrottleMetadata(h,S),Zt.debug(`Calling attemptFetch again in ${w} millis`),Ky(r,S,s,o)}}function q1(r,e){return new Promise((t,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(t,o);r.addEventListener(()=>{clearTimeout(u),s(un.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function H1(r){if(!(r instanceof fi)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class W1{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function K1(r,e,t,s,o){if(o&&o.global){r("event",t,s);return}else{const u=await e,h=Object.assign(Object.assign({},s),{send_to:u});r("event",t,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G1(){if(vy())try{await _y()}catch(r){return Zt.warn(un.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return Zt.warn(un.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Q1(r,e,t,s,o,u,h){var f;const g=$1(r);g.then(L=>{t[L.measurementId]=L.appId,r.options.measurementId&&L.measurementId!==r.options.measurementId&&Zt.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${L.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(L=>Zt.error(L)),e.push(g);const v=G1().then(L=>{if(L)return s.getId()}),[w,S]=await Promise.all([g,v]);F1(u)||N1(u,w.measurementId),o("js",new Date);const A=(f=h==null?void 0:h.config)!==null&&f!==void 0?f:{};return A[A1]="firebase",A.update=!0,S!=null&&(A[S1]=S),o("config",w.measurementId,A),w.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e){this.app=e}_delete(){return delete da[this.app.options.appId],Promise.resolve()}}let da={},Gm=[];const Qm={};let zh="dataLayer",X1="gtag",Ym,Gy,Xm=!1;function J1(){const r=[];if(vE()&&r.push("This is a browser extension environment."),wE()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),t=un.create("invalid-analytics-context",{errorInfo:e});Zt.warn(t.message)}}function Z1(r,e,t){J1();const s=r.options.appId;if(!s)throw un.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)Zt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw un.create("no-api-key");if(da[s]!=null)throw un.create("already-exists",{id:s});if(!Xm){V1(zh);const{wrappedGtag:u,gtagCore:h}=O1(da,Gm,Qm,zh,X1);Gy=u,Ym=h,Xm=!0}return da[s]=Q1(r,Gm,Qm,e,Ym,zh,t),new Y1(r)}function eI(r=Sy()){r=En(r);const e=ka(r,vu);return e.isInitialized()?e.getImmediate():tI(r)}function tI(r,e={}){const t=ka(r,vu);if(t.isInitialized()){const o=t.getImmediate();if(mu(e,t.getOptions()))return o;throw un.create("already-initialized")}return t.initialize({options:e})}function nI(r,e,t,s){r=En(r),K1(Gy,da[r.app.options.appId],e,t,s).catch(o=>Zt.error(o))}const Jm="@firebase/analytics",Zm="0.10.11";function rI(){oi(new Ir(vu,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return Z1(s,o,t)},"PUBLIC")),oi(new Ir("analytics-internal",r,"PRIVATE")),Xn(Jm,Zm),Xn(Jm,Zm,"esm2017");function r(e){try{const t=e.getProvider(vu).getImmediate();return{logEvent:(s,o,u)=>nI(t,s,o,u)}}catch(t){throw un.create("interop-component-reg-failed",{reason:t})}}}rI();var eg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ni,Qy;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,T){function C(){}C.prototype=T.prototype,x.D=T.prototype,x.prototype=new C,x.prototype.constructor=x,x.C=function(k,V,O){for(var R=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)R[tt-2]=arguments[tt];return T.prototype[V].apply(k,R)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,T,C){C||(C=0);var k=Array(16);if(typeof T=="string")for(var V=0;16>V;++V)k[V]=T.charCodeAt(C++)|T.charCodeAt(C++)<<8|T.charCodeAt(C++)<<16|T.charCodeAt(C++)<<24;else for(V=0;16>V;++V)k[V]=T[C++]|T[C++]<<8|T[C++]<<16|T[C++]<<24;T=x.g[0],C=x.g[1],V=x.g[2];var O=x.g[3],R=T+(O^C&(V^O))+k[0]+3614090360&4294967295;T=C+(R<<7&4294967295|R>>>25),R=O+(V^T&(C^V))+k[1]+3905402710&4294967295,O=T+(R<<12&4294967295|R>>>20),R=V+(C^O&(T^C))+k[2]+606105819&4294967295,V=O+(R<<17&4294967295|R>>>15),R=C+(T^V&(O^T))+k[3]+3250441966&4294967295,C=V+(R<<22&4294967295|R>>>10),R=T+(O^C&(V^O))+k[4]+4118548399&4294967295,T=C+(R<<7&4294967295|R>>>25),R=O+(V^T&(C^V))+k[5]+1200080426&4294967295,O=T+(R<<12&4294967295|R>>>20),R=V+(C^O&(T^C))+k[6]+2821735955&4294967295,V=O+(R<<17&4294967295|R>>>15),R=C+(T^V&(O^T))+k[7]+4249261313&4294967295,C=V+(R<<22&4294967295|R>>>10),R=T+(O^C&(V^O))+k[8]+1770035416&4294967295,T=C+(R<<7&4294967295|R>>>25),R=O+(V^T&(C^V))+k[9]+2336552879&4294967295,O=T+(R<<12&4294967295|R>>>20),R=V+(C^O&(T^C))+k[10]+4294925233&4294967295,V=O+(R<<17&4294967295|R>>>15),R=C+(T^V&(O^T))+k[11]+2304563134&4294967295,C=V+(R<<22&4294967295|R>>>10),R=T+(O^C&(V^O))+k[12]+1804603682&4294967295,T=C+(R<<7&4294967295|R>>>25),R=O+(V^T&(C^V))+k[13]+4254626195&4294967295,O=T+(R<<12&4294967295|R>>>20),R=V+(C^O&(T^C))+k[14]+2792965006&4294967295,V=O+(R<<17&4294967295|R>>>15),R=C+(T^V&(O^T))+k[15]+1236535329&4294967295,C=V+(R<<22&4294967295|R>>>10),R=T+(V^O&(C^V))+k[1]+4129170786&4294967295,T=C+(R<<5&4294967295|R>>>27),R=O+(C^V&(T^C))+k[6]+3225465664&4294967295,O=T+(R<<9&4294967295|R>>>23),R=V+(T^C&(O^T))+k[11]+643717713&4294967295,V=O+(R<<14&4294967295|R>>>18),R=C+(O^T&(V^O))+k[0]+3921069994&4294967295,C=V+(R<<20&4294967295|R>>>12),R=T+(V^O&(C^V))+k[5]+3593408605&4294967295,T=C+(R<<5&4294967295|R>>>27),R=O+(C^V&(T^C))+k[10]+38016083&4294967295,O=T+(R<<9&4294967295|R>>>23),R=V+(T^C&(O^T))+k[15]+3634488961&4294967295,V=O+(R<<14&4294967295|R>>>18),R=C+(O^T&(V^O))+k[4]+3889429448&4294967295,C=V+(R<<20&4294967295|R>>>12),R=T+(V^O&(C^V))+k[9]+568446438&4294967295,T=C+(R<<5&4294967295|R>>>27),R=O+(C^V&(T^C))+k[14]+3275163606&4294967295,O=T+(R<<9&4294967295|R>>>23),R=V+(T^C&(O^T))+k[3]+4107603335&4294967295,V=O+(R<<14&4294967295|R>>>18),R=C+(O^T&(V^O))+k[8]+1163531501&4294967295,C=V+(R<<20&4294967295|R>>>12),R=T+(V^O&(C^V))+k[13]+2850285829&4294967295,T=C+(R<<5&4294967295|R>>>27),R=O+(C^V&(T^C))+k[2]+4243563512&4294967295,O=T+(R<<9&4294967295|R>>>23),R=V+(T^C&(O^T))+k[7]+1735328473&4294967295,V=O+(R<<14&4294967295|R>>>18),R=C+(O^T&(V^O))+k[12]+2368359562&4294967295,C=V+(R<<20&4294967295|R>>>12),R=T+(C^V^O)+k[5]+4294588738&4294967295,T=C+(R<<4&4294967295|R>>>28),R=O+(T^C^V)+k[8]+2272392833&4294967295,O=T+(R<<11&4294967295|R>>>21),R=V+(O^T^C)+k[11]+1839030562&4294967295,V=O+(R<<16&4294967295|R>>>16),R=C+(V^O^T)+k[14]+4259657740&4294967295,C=V+(R<<23&4294967295|R>>>9),R=T+(C^V^O)+k[1]+2763975236&4294967295,T=C+(R<<4&4294967295|R>>>28),R=O+(T^C^V)+k[4]+1272893353&4294967295,O=T+(R<<11&4294967295|R>>>21),R=V+(O^T^C)+k[7]+4139469664&4294967295,V=O+(R<<16&4294967295|R>>>16),R=C+(V^O^T)+k[10]+3200236656&4294967295,C=V+(R<<23&4294967295|R>>>9),R=T+(C^V^O)+k[13]+681279174&4294967295,T=C+(R<<4&4294967295|R>>>28),R=O+(T^C^V)+k[0]+3936430074&4294967295,O=T+(R<<11&4294967295|R>>>21),R=V+(O^T^C)+k[3]+3572445317&4294967295,V=O+(R<<16&4294967295|R>>>16),R=C+(V^O^T)+k[6]+76029189&4294967295,C=V+(R<<23&4294967295|R>>>9),R=T+(C^V^O)+k[9]+3654602809&4294967295,T=C+(R<<4&4294967295|R>>>28),R=O+(T^C^V)+k[12]+3873151461&4294967295,O=T+(R<<11&4294967295|R>>>21),R=V+(O^T^C)+k[15]+530742520&4294967295,V=O+(R<<16&4294967295|R>>>16),R=C+(V^O^T)+k[2]+3299628645&4294967295,C=V+(R<<23&4294967295|R>>>9),R=T+(V^(C|~O))+k[0]+4096336452&4294967295,T=C+(R<<6&4294967295|R>>>26),R=O+(C^(T|~V))+k[7]+1126891415&4294967295,O=T+(R<<10&4294967295|R>>>22),R=V+(T^(O|~C))+k[14]+2878612391&4294967295,V=O+(R<<15&4294967295|R>>>17),R=C+(O^(V|~T))+k[5]+4237533241&4294967295,C=V+(R<<21&4294967295|R>>>11),R=T+(V^(C|~O))+k[12]+1700485571&4294967295,T=C+(R<<6&4294967295|R>>>26),R=O+(C^(T|~V))+k[3]+2399980690&4294967295,O=T+(R<<10&4294967295|R>>>22),R=V+(T^(O|~C))+k[10]+4293915773&4294967295,V=O+(R<<15&4294967295|R>>>17),R=C+(O^(V|~T))+k[1]+2240044497&4294967295,C=V+(R<<21&4294967295|R>>>11),R=T+(V^(C|~O))+k[8]+1873313359&4294967295,T=C+(R<<6&4294967295|R>>>26),R=O+(C^(T|~V))+k[15]+4264355552&4294967295,O=T+(R<<10&4294967295|R>>>22),R=V+(T^(O|~C))+k[6]+2734768916&4294967295,V=O+(R<<15&4294967295|R>>>17),R=C+(O^(V|~T))+k[13]+1309151649&4294967295,C=V+(R<<21&4294967295|R>>>11),R=T+(V^(C|~O))+k[4]+4149444226&4294967295,T=C+(R<<6&4294967295|R>>>26),R=O+(C^(T|~V))+k[11]+3174756917&4294967295,O=T+(R<<10&4294967295|R>>>22),R=V+(T^(O|~C))+k[2]+718787259&4294967295,V=O+(R<<15&4294967295|R>>>17),R=C+(O^(V|~T))+k[9]+3951481745&4294967295,x.g[0]=x.g[0]+T&4294967295,x.g[1]=x.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+V&4294967295,x.g[3]=x.g[3]+O&4294967295}s.prototype.u=function(x,T){T===void 0&&(T=x.length);for(var C=T-this.blockSize,k=this.B,V=this.h,O=0;O<T;){if(V==0)for(;O<=C;)o(this,x,O),O+=this.blockSize;if(typeof x=="string"){for(;O<T;)if(k[V++]=x.charCodeAt(O++),V==this.blockSize){o(this,k),V=0;break}}else for(;O<T;)if(k[V++]=x[O++],V==this.blockSize){o(this,k),V=0;break}}this.h=V,this.o+=T},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var T=1;T<x.length-8;++T)x[T]=0;var C=8*this.o;for(T=x.length-8;T<x.length;++T)x[T]=C&255,C/=256;for(this.u(x),x=Array(16),T=C=0;4>T;++T)for(var k=0;32>k;k+=8)x[C++]=this.g[T]>>>k&255;return x};function u(x,T){var C=f;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=T(x)}function h(x,T){this.h=T;for(var C=[],k=!0,V=x.length-1;0<=V;V--){var O=x[V]|0;k&&O==T||(C[V]=O,k=!1)}this.g=C}var f={};function g(x){return-128<=x&&128>x?u(x,function(T){return new h([T|0],0>T?-1:0)}):new h([x|0],0>x?-1:0)}function v(x){if(isNaN(x)||!isFinite(x))return S;if(0>x)return z(v(-x));for(var T=[],C=1,k=0;x>=C;k++)T[k]=x/C|0,C*=4294967296;return new h(T,0)}function w(x,T){if(x.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(x.charAt(0)=="-")return z(w(x.substring(1),T));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=v(Math.pow(T,8)),k=S,V=0;V<x.length;V+=8){var O=Math.min(8,x.length-V),R=parseInt(x.substring(V,V+O),T);8>O?(O=v(Math.pow(T,O)),k=k.j(O).add(v(R))):(k=k.j(C),k=k.add(v(R)))}return k}var S=g(0),A=g(1),L=g(16777216);r=h.prototype,r.m=function(){if(q(this))return-z(this).m();for(var x=0,T=1,C=0;C<this.g.length;C++){var k=this.i(C);x+=(0<=k?k:4294967296+k)*T,T*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(j(this))return"0";if(q(this))return"-"+z(this).toString(x);for(var T=v(Math.pow(x,6)),C=this,k="";;){var V=fe(C,T).g;C=Q(C,V.j(T));var O=((0<C.g.length?C.g[0]:C.h)>>>0).toString(x);if(C=V,j(C))return O+k;for(;6>O.length;)O="0"+O;k=O+k}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function j(x){if(x.h!=0)return!1;for(var T=0;T<x.g.length;T++)if(x.g[T]!=0)return!1;return!0}function q(x){return x.h==-1}r.l=function(x){return x=Q(this,x),q(x)?-1:j(x)?0:1};function z(x){for(var T=x.g.length,C=[],k=0;k<T;k++)C[k]=~x.g[k];return new h(C,~x.h).add(A)}r.abs=function(){return q(this)?z(this):this},r.add=function(x){for(var T=Math.max(this.g.length,x.g.length),C=[],k=0,V=0;V<=T;V++){var O=k+(this.i(V)&65535)+(x.i(V)&65535),R=(O>>>16)+(this.i(V)>>>16)+(x.i(V)>>>16);k=R>>>16,O&=65535,R&=65535,C[V]=R<<16|O}return new h(C,C[C.length-1]&-2147483648?-1:0)};function Q(x,T){return x.add(z(T))}r.j=function(x){if(j(this)||j(x))return S;if(q(this))return q(x)?z(this).j(z(x)):z(z(this).j(x));if(q(x))return z(this.j(z(x)));if(0>this.l(L)&&0>x.l(L))return v(this.m()*x.m());for(var T=this.g.length+x.g.length,C=[],k=0;k<2*T;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(var V=0;V<x.g.length;V++){var O=this.i(k)>>>16,R=this.i(k)&65535,tt=x.i(V)>>>16,kt=x.i(V)&65535;C[2*k+2*V]+=R*kt,J(C,2*k+2*V),C[2*k+2*V+1]+=O*kt,J(C,2*k+2*V+1),C[2*k+2*V+1]+=R*tt,J(C,2*k+2*V+1),C[2*k+2*V+2]+=O*tt,J(C,2*k+2*V+2)}for(k=0;k<T;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=T;k<2*T;k++)C[k]=0;return new h(C,0)};function J(x,T){for(;(x[T]&65535)!=x[T];)x[T+1]+=x[T]>>>16,x[T]&=65535,T++}function re(x,T){this.g=x,this.h=T}function fe(x,T){if(j(T))throw Error("division by zero");if(j(x))return new re(S,S);if(q(x))return T=fe(z(x),T),new re(z(T.g),z(T.h));if(q(T))return T=fe(x,z(T)),new re(z(T.g),T.h);if(30<x.g.length){if(q(x)||q(T))throw Error("slowDivide_ only works with positive integers.");for(var C=A,k=T;0>=k.l(x);)C=Ce(C),k=Ce(k);var V=Te(C,1),O=Te(k,1);for(k=Te(k,2),C=Te(C,2);!j(k);){var R=O.add(k);0>=R.l(x)&&(V=V.add(C),O=R),k=Te(k,1),C=Te(C,1)}return T=Q(x,V.j(T)),new re(V,T)}for(V=S;0<=x.l(T);){for(C=Math.max(1,Math.floor(x.m()/T.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),O=v(C),R=O.j(T);q(R)||0<R.l(x);)C-=k,O=v(C),R=O.j(T);j(O)&&(O=A),V=V.add(O),x=Q(x,R)}return new re(V,x)}r.A=function(x){return fe(this,x).h},r.and=function(x){for(var T=Math.max(this.g.length,x.g.length),C=[],k=0;k<T;k++)C[k]=this.i(k)&x.i(k);return new h(C,this.h&x.h)},r.or=function(x){for(var T=Math.max(this.g.length,x.g.length),C=[],k=0;k<T;k++)C[k]=this.i(k)|x.i(k);return new h(C,this.h|x.h)},r.xor=function(x){for(var T=Math.max(this.g.length,x.g.length),C=[],k=0;k<T;k++)C[k]=this.i(k)^x.i(k);return new h(C,this.h^x.h)};function Ce(x){for(var T=x.g.length+1,C=[],k=0;k<T;k++)C[k]=x.i(k)<<1|x.i(k-1)>>>31;return new h(C,x.h)}function Te(x,T){var C=T>>5;T%=32;for(var k=x.g.length-C,V=[],O=0;O<k;O++)V[O]=0<T?x.i(O+C)>>>T|x.i(O+C+1)<<32-T:x.i(O+C);return new h(V,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Qy=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=w,ni=h}).apply(typeof eg<"u"?eg:typeof self<"u"?self:typeof window<"u"?window:{});var Zl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yy,ua,Xy,au,td,Jy,Zy,ev;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,p,y){return l==Array.prototype||l==Object.prototype||(l[p]=y.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zl=="object"&&Zl];for(var p=0;p<l.length;++p){var y=l[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=t(this);function o(l,p){if(p)e:{var y=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var F=l[E];if(!(F in y))break e;y=y[F]}l=l[l.length-1],E=y[l],p=p(E),p!=E&&p!=null&&e(y,l,{configurable:!0,writable:!0,value:p})}}function u(l,p){l instanceof String&&(l+="");var y=0,E=!1,F={next:function(){if(!E&&y<l.length){var $=y++;return{value:p($,l[$]),done:!1}}return E=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(l){return l||function(){return u(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function g(l){var p=typeof l;return p=p!="object"?p:l?Array.isArray(l)?"array":p:"null",p=="array"||p=="object"&&typeof l.length=="number"}function v(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function w(l,p,y){return l.call.apply(l.bind,arguments)}function S(l,p,y){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,E),l.apply(p,F)}}return function(){return l.apply(p,arguments)}}function A(l,p,y){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:S,A.apply(null,arguments)}function L(l,p){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function j(l,p){function y(){}y.prototype=p.prototype,l.aa=p.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(E,F,$){for(var te=Array(arguments.length-2),je=2;je<arguments.length;je++)te[je-2]=arguments[je];return p.prototype[F].apply(E,te)}}function q(l){const p=l.length;if(0<p){const y=Array(p);for(let E=0;E<p;E++)y[E]=l[E];return y}return[]}function z(l,p){for(let y=1;y<arguments.length;y++){const E=arguments[y];if(g(E)){const F=l.length||0,$=E.length||0;l.length=F+$;for(let te=0;te<$;te++)l[F+te]=E[te]}else l.push(E)}}class Q{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function J(l){return/^[\s\xa0]*$/.test(l)}function re(){var l=f.navigator;return l&&(l=l.userAgent)?l:""}function fe(l){return fe[" "](l),l}fe[" "]=function(){};var Ce=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function Te(l,p,y){for(const E in l)p.call(y,l[E],E,l)}function x(l,p){for(const y in l)p.call(void 0,l[y],y,l)}function T(l){const p={};for(const y in l)p[y]=l[y];return p}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,p){let y,E;for(let F=1;F<arguments.length;F++){E=arguments[F];for(y in E)l[y]=E[y];for(let $=0;$<C.length;$++)y=C[$],Object.prototype.hasOwnProperty.call(E,y)&&(l[y]=E[y])}}function V(l){var p=1;l=l.split(":");const y=[];for(;0<p&&l.length;)y.push(l.shift()),p--;return l.length&&y.push(l.join(":")),y}function O(l){f.setTimeout(()=>{throw l},0)}function R(){var l=me;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class tt{constructor(){this.h=this.g=null}add(p,y){const E=kt.get();E.set(p,y),this.h?this.h.next=E:this.g=E,this.h=E}}var kt=new Q(()=>new xt,l=>l.reset());class xt{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Ue,ne=!1,me=new tt,se=()=>{const l=f.Promise.resolve(void 0);Ue=()=>{l.then(M)}};var M=()=>{for(var l;l=R();){try{l.h.call(l.g)}catch(y){O(y)}var p=kt;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}ne=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};f.addEventListener("test",y,p),f.removeEventListener("test",y,p)}catch{}return l}();function Se(l,p){if(de.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(Ce){e:{try{fe(p.nodeName);var F=!0;break e}catch{}F=!1}F||(p=null)}}else y=="mouseover"?p=l.fromElement:y=="mouseout"&&(p=l.toElement);this.relatedTarget=p,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:xe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Se.aa.h.call(this)}}j(Se,de);var xe={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function Be(l,p,y,E,F){this.listener=l,this.proxy=null,this.src=p,this.type=y,this.capture=!!E,this.ha=F,this.key=++Fe,this.da=this.fa=!1}function gt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ir(l){this.src=l,this.g={},this.h=0}ir.prototype.add=function(l,p,y,E,F){var $=l.toString();l=this.g[$],l||(l=this.g[$]=[],this.h++);var te=Pr(l,p,E,F);return-1<te?(p=l[te],y||(p.fa=!1)):(p=new Be(p,this.src,$,!!E,F),p.fa=y,l.push(p)),p};function es(l,p){var y=p.type;if(y in l.g){var E=l.g[y],F=Array.prototype.indexOf.call(E,p,void 0),$;($=0<=F)&&Array.prototype.splice.call(E,F,1),$&&(gt(p),l.g[y].length==0&&(delete l.g[y],l.h--))}}function Pr(l,p,y,E){for(var F=0;F<l.length;++F){var $=l[F];if(!$.da&&$.listener==p&&$.capture==!!y&&$.ha==E)return F}return-1}var gi="closure_lm_"+(1e6*Math.random()|0),ts={};function ho(l,p,y,E,F){if(Array.isArray(p)){for(var $=0;$<p.length;$++)ho(l,p[$],y,E,F);return null}return y=mo(y),l&&l[Oe]?l.K(p,y,v(E)?!!E.capture:!!E,F):fo(l,p,y,!1,E,F)}function fo(l,p,y,E,F,$){if(!p)throw Error("Invalid event type");var te=v(F)?!!F.capture:!!F,je=rs(l);if(je||(l[gi]=je=new ir(l)),y=je.add(p,y,E,te,$),y.proxy)return y;if(E=Oa(),y.proxy=E,E.src=l,E.listener=y,l.addEventListener)Ie||(F=te),F===void 0&&(F=!1),l.addEventListener(p.toString(),E,F);else if(l.attachEvent)l.attachEvent(or(p.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Oa(){function l(y){return p.call(l.src,l.listener,y)}const p=po;return l}function ns(l,p,y,E,F){if(Array.isArray(p))for(var $=0;$<p.length;$++)ns(l,p[$],y,E,F);else E=v(E)?!!E.capture:!!E,y=mo(y),l&&l[Oe]?(l=l.i,p=String(p).toString(),p in l.g&&($=l.g[p],y=Pr($,y,E,F),-1<y&&(gt($[y]),Array.prototype.splice.call($,y,1),$.length==0&&(delete l.g[p],l.h--)))):l&&(l=rs(l))&&(p=l.g[p.toString()],l=-1,p&&(l=Pr(p,y,E,F)),(y=-1<l?p[l]:null)&&sr(y))}function sr(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[Oe])es(p.i,l);else{var y=l.type,E=l.proxy;p.removeEventListener?p.removeEventListener(y,E,l.capture):p.detachEvent?p.detachEvent(or(y),E):p.addListener&&p.removeListener&&p.removeListener(E),(y=rs(p))?(es(y,l),y.h==0&&(y.src=null,p[gi]=null)):gt(l)}}}function or(l){return l in ts?ts[l]:ts[l]="on"+l}function po(l,p){if(l.da)l=!0;else{p=new Se(p,this);var y=l.listener,E=l.ha||l.src;l.fa&&sr(l),l=y.call(E,p)}return l}function rs(l){return l=l[gi],l instanceof ir?l:null}var is="__closure_events_fn_"+(1e9*Math.random()>>>0);function mo(l){return typeof l=="function"?l:(l[is]||(l[is]=function(p){return l.handleEvent(p)}),l[is])}function ut(){K.call(this),this.i=new ir(this),this.M=this,this.F=null}j(ut,K),ut.prototype[Oe]=!0,ut.prototype.removeEventListener=function(l,p,y,E){ns(this,l,p,y,E)};function ct(l,p){var y,E=l.F;if(E)for(y=[];E;E=E.F)y.push(E);if(l=l.M,E=p.type||p,typeof p=="string")p=new de(p,l);else if(p instanceof de)p.target=p.target||l;else{var F=p;p=new de(E,l),k(p,F)}if(F=!0,y)for(var $=y.length-1;0<=$;$--){var te=p.g=y[$];F=ar(te,E,!0,p)&&F}if(te=p.g=l,F=ar(te,E,!0,p)&&F,F=ar(te,E,!1,p)&&F,y)for($=0;$<y.length;$++)te=p.g=y[$],F=ar(te,E,!1,p)&&F}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var l=this.i,p;for(p in l.g){for(var y=l.g[p],E=0;E<y.length;E++)gt(y[E]);delete l.g[p],l.h--}}this.F=null},ut.prototype.K=function(l,p,y,E){return this.i.add(String(l),p,!1,y,E)},ut.prototype.L=function(l,p,y,E){return this.i.add(String(l),p,!0,y,E)};function ar(l,p,y,E){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();for(var F=!0,$=0;$<p.length;++$){var te=p[$];if(te&&!te.da&&te.capture==y){var je=te.listener,ht=te.ha||te.src;te.fa&&es(l.i,te),F=je.call(ht,E)!==!1&&F}}return F&&!E.defaultPrevented}function go(l,p,y){if(typeof l=="function")y&&(l=A(l,y));else if(l&&typeof l.handleEvent=="function")l=A(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:f.setTimeout(l,p||0)}function kr(l){l.g=go(()=>{l.g=null,l.i&&(l.i=!1,kr(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class yi extends K{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:kr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vi(l){K.call(this),this.h=l,this.g={}}j(vi,K);var yo=[];function vo(l){Te(l.g,function(p,y){this.g.hasOwnProperty(y)&&sr(p)},l),l.g={}}vi.prototype.N=function(){vi.aa.N.call(this),vo(this)},vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _o=f.JSON.stringify,wo=f.JSON.parse,Eo=class{stringify(l){return f.JSON.stringify(l,void 0)}parse(l){return f.JSON.parse(l,void 0)}};function _i(){}_i.prototype.h=null;function ss(l){return l.h||(l.h=l.i())}function os(){}var cn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jn(){de.call(this,"d")}j(jn,de);function as(){de.call(this,"c")}j(as,de);var Un={},To=null;function wi(){return To=To||new ut}Un.La="serverreachability";function Io(l){de.call(this,Un.La,l)}j(Io,de);function lr(l){const p=wi();ct(p,new Io(p))}Un.STAT_EVENT="statevent";function So(l,p){de.call(this,Un.STAT_EVENT,l),this.stat=p}j(So,de);function nt(l){const p=wi();ct(p,new So(p,l))}Un.Ma="timingevent";function ls(l,p){de.call(this,Un.Ma,l),this.size=p}j(ls,de);function Tn(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){l()},p)}function Ei(){this.g=!0}Ei.prototype.xa=function(){this.g=!1};function Ti(l,p,y,E,F,$){l.info(function(){if(l.g)if($)for(var te="",je=$.split("&"),ht=0;ht<je.length;ht++){var Ne=je[ht].split("=");if(1<Ne.length){var yt=Ne[0];Ne=Ne[1];var st=yt.split("_");te=2<=st.length&&st[1]=="type"?te+(yt+"="+Ne+"&"):te+(yt+"=redacted&")}}else te=null;else te=$;return"XMLHTTP REQ ("+E+") [attempt "+F+"]: "+p+`
`+y+`
`+te})}function us(l,p,y,E,F,$,te){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+F+"]: "+p+`
`+y+`
`+$+" "+te})}function In(l,p,y,E){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+nc(l,y)+(E?" "+E:"")})}function Ao(l,p){l.info(function(){return"TIMEOUT: "+p})}Ei.prototype.info=function(){};function nc(l,p){if(!l.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var E=y[l];if(!(2>E.length)){var F=E[1];if(Array.isArray(F)&&!(1>F.length)){var $=F[0];if($!="noop"&&$!="stop"&&$!="close")for(var te=1;te<F.length;te++)F[te]=""}}}}return _o(y)}catch{return p}}var cs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sn;function Ii(){}j(Ii,_i),Ii.prototype.g=function(){return new XMLHttpRequest},Ii.prototype.i=function(){return{}},Sn=new Ii;function An(l,p,y,E){this.j=l,this.i=p,this.l=y,this.R=E||1,this.U=new vi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ba}function ba(){this.i=null,this.g="",this.h=!1}var Co={},hs={};function ds(l,p,y){l.L=1,l.v=Lr(tn(p)),l.m=y,l.P=!0,Ro(l,null)}function Ro(l,p){l.F=Date.now(),$e(l),l.A=tn(l.v);var y=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),Or(y.i,"t",E),l.C=0,y=l.j.J,l.h=new ba,l.g=nl(l.j,y?p:null,!l.m),0<l.O&&(l.M=new yi(A(l.Y,l,l.g),l.O)),p=l.U,y=l.g,E=l.ca;var F="readystatechange";Array.isArray(F)||(F&&(yo[0]=F.toString()),F=yo);for(var $=0;$<F.length;$++){var te=ho(y,F[$],E||p.handleEvent,!1,p.h||p);if(!te)break;p.g[te.key]=te}p=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),lr(),Ti(l.i,l.u,l.A,l.l,l.R,l.m)}An.prototype.ca=function(l){l=l.target;const p=this.M;p&&$t(l)==3?p.j():this.Y(l)},An.prototype.Y=function(l){try{if(l==this.g)e:{const st=$t(this.g);var p=this.g.Ba();const fn=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||Do(this.g)))){this.J||st!=4||p==7||(p==8||0>=fn?lr(3):lr(2)),Si(this);var y=this.g.Z();this.X=y;t:if(ja(this)){var E=Do(this.g);l="";var F=E.length,$=$t(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hn(this),xr(this);var te="";break t}this.h.i=new f.TextDecoder}for(p=0;p<F;p++)this.h.h=!0,l+=this.h.i.decode(E[p],{stream:!($&&p==F-1)});E.length=0,this.h.g+=l,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=y==200,us(this.i,this.u,this.A,this.l,this.R,st,y),this.o){if(this.T&&!this.K){t:{if(this.g){var je,ht=this.g;if((je=ht.g?ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(je)){var Ne=je;break t}}Ne=null}if(y=Ne)In(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Po(this,y);else{this.o=!1,this.s=3,nt(12),hn(this),xr(this);break e}}if(this.P){y=!0;let rn;for(;!this.J&&this.C<te.length;)if(rn=rc(this,te),rn==hs){st==4&&(this.s=4,nt(14),y=!1),In(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==Co){this.s=4,nt(15),In(this.i,this.l,te,"[Invalid Chunk]"),y=!1;break}else In(this.i,this.l,rn,null),Po(this,rn);if(ja(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||te.length!=0||this.h.h||(this.s=1,nt(16),y=!1),this.o=this.o&&y,!y)In(this.i,this.l,te,"[Invalid Chunked Response]"),hn(this),xr(this);else if(0<te.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),Mo(yt),yt.M=!0,nt(11))}}else In(this.i,this.l,te,null),Po(this,te);st==4&&hn(this),this.o&&!this.J&&(st==4?Is(this.j,this):(this.o=!1,$e(this)))}else vs(this.g),y==400&&0<te.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),hn(this),xr(this)}}}catch{}finally{}};function ja(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function rc(l,p){var y=l.C,E=p.indexOf(`
`,y);return E==-1?hs:(y=Number(p.substring(y,E)),isNaN(y)?Co:(E+=1,E+y>p.length?hs:(p=p.slice(E,E+y),l.C=E+y,p)))}An.prototype.cancel=function(){this.J=!0,hn(this)};function $e(l){l.S=Date.now()+l.I,Ua(l,l.I)}function Ua(l,p){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Tn(A(l.ba,l),p)}function Si(l){l.B&&(f.clearTimeout(l.B),l.B=null)}An.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Ao(this.i,this.A),this.L!=2&&(lr(),nt(17)),hn(this),this.s=2,xr(this)):Ua(this,this.S-l)};function xr(l){l.j.G==0||l.J||Is(l.j,l)}function hn(l){Si(l);var p=l.M;p&&typeof p.ma=="function"&&p.ma(),l.M=null,vo(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function Po(l,p){try{var y=l.j;if(y.G!=0&&(y.g==l||bt(y.h,l))){if(!l.K&&bt(y.h,l)&&y.G==3){try{var E=y.Da.g.parse(p)}catch{E=null}if(Array.isArray(E)&&E.length==3){var F=E;if(F[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)Ts(y),xn(y);else break e;Es(y),nt(18)}}else y.za=F[1],0<y.za-y.T&&37500>F[2]&&y.F&&y.v==0&&!y.C&&(y.C=Tn(A(y.Za,y),6e3));if(1>=Ba(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else fr(y,11)}else if((l.K||y.g==l)&&Ts(y),!J(p))for(F=y.Da.g.parse(p),p=0;p<F.length;p++){let Ne=F[p];if(y.T=Ne[0],Ne=Ne[1],y.G==2)if(Ne[0]=="c"){y.K=Ne[1],y.ia=Ne[2];const yt=Ne[3];yt!=null&&(y.la=yt,y.j.info("VER="+y.la));const st=Ne[4];st!=null&&(y.Aa=st,y.j.info("SVER="+y.Aa));const fn=Ne[5];fn!=null&&typeof fn=="number"&&0<fn&&(E=1.5*fn,y.L=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const rn=l.g;if(rn){const Ni=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ni){var $=E.h;$.g||Ni.indexOf("spdy")==-1&&Ni.indexOf("quic")==-1&&Ni.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(ko($,$.h),$.h=null))}if(E.D){const As=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;As&&(E.ya=As,ze(E.I,E.D,As))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),E=y;var te=l;if(E.qa=tl(E,E.J?E.ia:null,E.W),te.K){$a(E.h,te);var je=te,ht=E.L;ht&&(je.I=ht),je.B&&(Si(je),$e(je)),E.g=te}else xi(E);0<y.i.length&&qn(y)}else Ne[0]!="stop"&&Ne[0]!="close"||fr(y,7);else y.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?fr(y,7):It(y):Ne[0]!="noop"&&y.l&&y.l.ta(Ne),y.v=0)}}lr(4)}catch{}}var za=class{constructor(l,p){this.g=l,this.map=p}};function Ai(l){this.l=l||10,f.PerformanceNavigationTiming?(l=f.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function en(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ba(l){return l.h?1:l.g?l.g.size:0}function bt(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function ko(l,p){l.g?l.g.add(p):l.h=p}function $a(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}Ai.prototype.cancel=function(){if(this.i=qa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function qa(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const y of l.g.values())p=p.concat(y.D);return p}return q(l.i)}function fs(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var p=[],y=l.length,E=0;E<y;E++)p.push(l[E]);return p}p=[],y=0;for(E in l)p[y++]=l[E];return p}function ps(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var p=[];l=l.length;for(var y=0;y<l;y++)p.push(y);return p}p=[],y=0;for(const E in l)p[y++]=E;return p}}}function Nr(l,p){if(l.forEach&&typeof l.forEach=="function")l.forEach(p,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,p,void 0);else for(var y=ps(l),E=fs(l),F=E.length,$=0;$<F;$++)p.call(void 0,E[$],y&&y[$],l)}var Ci=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ic(l,p){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var E=l[y].indexOf("="),F=null;if(0<=E){var $=l[y].substring(0,E);F=l[y].substring(E+1)}else $=l[y];p($,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function ur(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ur){this.h=l.h,Ri(this,l.j),this.o=l.o,this.g=l.g,Vr(this,l.s),this.l=l.l;var p=l.i,y=new zn;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),Dr(this,y),this.m=l.m}else l&&(p=String(l).match(Ci))?(this.h=!1,Ri(this,p[1]||"",!0),this.o=Pe(p[2]||""),this.g=Pe(p[3]||"",!0),Vr(this,p[4]),this.l=Pe(p[5]||"",!0),Dr(this,p[6]||"",!0),this.m=Pe(p[7]||"")):(this.h=!1,this.i=new zn(null,this.h))}ur.prototype.toString=function(){var l=[],p=this.j;p&&l.push(Mr(p,ms,!0),":");var y=this.g;return(y||p=="file")&&(l.push("//"),(p=this.o)&&l.push(Mr(p,ms,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Mr(y,y.charAt(0)=="/"?Ka:Wa,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Mr(y,xo)),l.join("")};function tn(l){return new ur(l)}function Ri(l,p,y){l.j=y?Pe(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function Vr(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function Dr(l,p,y){p instanceof zn?(l.i=p,Bn(l.i,l.h)):(y||(p=Mr(p,Ga)),l.i=new zn(p,l.h))}function ze(l,p,y){l.i.set(p,y)}function Lr(l){return ze(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Pe(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Mr(l,p,y){return typeof l=="string"?(l=encodeURI(l).replace(p,Ha),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Ha(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var ms=/[#\/\?@]/g,Wa=/[#\?:]/g,Ka=/[#\?]/g,Ga=/[#\?@]/g,xo=/#/g;function zn(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function Tt(l){l.g||(l.g=new Map,l.h=0,l.i&&ic(l.i,function(p,y){l.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}r=zn.prototype,r.add=function(l,p){Tt(this),this.i=null,l=dn(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(p),this.h+=1,this};function Cn(l,p){Tt(l),p=dn(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function Rn(l,p){return Tt(l),p=dn(l,p),l.g.has(p)}r.forEach=function(l,p){Tt(this),this.g.forEach(function(y,E){y.forEach(function(F){l.call(p,F,E,this)},this)},this)},r.na=function(){Tt(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let E=0;E<p.length;E++){const F=l[E];for(let $=0;$<F.length;$++)y.push(p[E])}return y},r.V=function(l){Tt(this);let p=[];if(typeof l=="string")Rn(this,l)&&(p=p.concat(this.g.get(dn(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)p=p.concat(l[y])}return p},r.set=function(l,p){return Tt(this),this.i=null,l=dn(this,l),Rn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},r.get=function(l,p){return l?(l=this.V(l),0<l.length?String(l[0]):p):p};function Or(l,p,y){Cn(l,p),0<y.length&&(l.i=null,l.g.set(dn(l,p),q(y)),l.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var E=p[y];const $=encodeURIComponent(String(E)),te=this.V(E);for(E=0;E<te.length;E++){var F=$;te[E]!==""&&(F+="="+encodeURIComponent(String(te[E]))),l.push(F)}}return this.i=l.join("&")};function dn(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function Bn(l,p){p&&!l.j&&(Tt(l),l.i=null,l.g.forEach(function(y,E){var F=E.toLowerCase();E!=F&&(Cn(this,E),Or(this,F,y))},l)),l.j=p}function sc(l,p){const y=new Ei;if(f.Image){const E=new Image;E.onload=L(Bt,y,"TestLoadImage: loaded",!0,p,E),E.onerror=L(Bt,y,"TestLoadImage: error",!1,p,E),E.onabort=L(Bt,y,"TestLoadImage: abort",!1,p,E),E.ontimeout=L(Bt,y,"TestLoadImage: timeout",!1,p,E),f.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else p(!1)}function Qa(l,p){const y=new Ei,E=new AbortController,F=setTimeout(()=>{E.abort(),Bt(y,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:E.signal}).then($=>{clearTimeout(F),$.ok?Bt(y,"TestPingServer: ok",!0,p):Bt(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(F),Bt(y,"TestPingServer: error",!1,p)})}function Bt(l,p,y,E,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),E(y)}catch{}}function oc(){this.g=new Eo}function Ya(l,p,y){const E=y||"";try{Nr(l,function(F,$){let te=F;v(F)&&(te=_o(F)),p.push(E+$+"="+encodeURIComponent(te))})}catch(F){throw p.push(E+"type="+encodeURIComponent("_badmap")),F}}function cr(l){this.l=l.Ub||null,this.j=l.eb||!1}j(cr,_i),cr.prototype.g=function(){return new Pi(this.l,this.j)},cr.prototype.i=function(l){return function(){return l}}({});function Pi(l,p){ut.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(Pi,ut),r=Pi.prototype,r.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,kn(this)},r.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||f).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pn(this)),this.readyState=0},r.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,kn(this)),this.g&&(this.readyState=3,kn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xa(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xa(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}r.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?Pn(this):kn(this),this.readyState==3&&Xa(this)}},r.Ra=function(l){this.g&&(this.response=this.responseText=l,Pn(this))},r.Qa=function(l){this.g&&(this.response=l,Pn(this))},r.ga=function(){this.g&&Pn(this)};function Pn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,kn(l)}r.setRequestHeader=function(l,p){this.u.append(l,p)},r.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=p.next();return l.join(`\r
`)};function kn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function hr(l){let p="";return Te(l,function(y,E){p+=E,p+=":",p+=y,p+=`\r
`}),p}function Fr(l,p,y){e:{for(E in y){var E=!1;break e}E=!0}E||(y=hr(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):ze(l,p,y))}function Ge(l){ut.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(Ge,ut);var ac=/^https?$/i,No=["POST","PUT"];r=Ge.prototype,r.Ha=function(l){this.J=l},r.ea=function(l,p,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sn.g(),this.v=this.o?ss(this.o):ss(Sn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch($){ki(this,$);return}if(l=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var F in E)y.set(F,E[F]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const $ of E.keys())y.set($,E.get($));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find($=>$.toLowerCase()=="content-type"),F=f.FormData&&l instanceof f.FormData,!(0<=Array.prototype.indexOf.call(No,p,void 0))||E||F||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,te]of y)this.g.setRequestHeader($,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ys(this),this.u=!0,this.g.send(l),this.u=!1}catch($){ki(this,$)}};function ki(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,gs(l),nn(l)}function gs(l){l.A||(l.A=!0,ct(l,"complete"),ct(l,"error"))}r.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ct(this,"complete"),ct(this,"abort"),nn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nn(this,!0)),Ge.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Vo(this):this.bb())},r.bb=function(){Vo(this)};function Vo(l){if(l.h&&typeof h<"u"&&(!l.v[1]||$t(l)!=4||l.Z()!=2)){if(l.u&&$t(l)==4)go(l.Ea,0,l);else if(ct(l,"readystatechange"),$t(l)==4){l.h=!1;try{const te=l.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var E;if(E=te===0){var F=String(l.D).match(Ci)[1]||null;!F&&f.self&&f.self.location&&(F=f.self.location.protocol.slice(0,-1)),E=!ac.test(F?F.toLowerCase():"")}y=E}if(y)ct(l,"complete"),ct(l,"success");else{l.m=6;try{var $=2<$t(l)?l.g.statusText:""}catch{$=""}l.l=$+" ["+l.Z()+"]",gs(l)}}finally{nn(l)}}}}function nn(l,p){if(l.g){ys(l);const y=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||ct(l,"ready");try{y.onreadystatechange=E}catch{}}}function ys(l){l.I&&(f.clearTimeout(l.I),l.I=null)}r.isActive=function(){return!!this.g};function $t(l){return l.g?l.g.readyState:0}r.Z=function(){try{return 2<$t(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),wo(p)}};function Do(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function vs(l){const p={};l=(l.g&&2<=$t(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(J(l[E]))continue;var y=V(l[E]);const F=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const $=p[F]||[];p[F]=$,$.push(y)}x(p,function(E){return E.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $n(l,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||p}function Lo(l){this.Aa=0,this.i=[],this.j=new Ei,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$n("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$n("baseRetryDelayMs",5e3,l),this.cb=$n("retryDelaySeedMs",1e4,l),this.Wa=$n("forwardChannelMaxRetries",2,l),this.wa=$n("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Ai(l&&l.concurrentRequestLimit),this.Da=new oc,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Lo.prototype,r.la=8,r.G=1,r.connect=function(l,p,y,E){nt(0),this.W=l,this.H=p||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.I=tl(this,null,this.W),qn(this)};function It(l){if(_s(l),l.G==3){var p=l.U++,y=tn(l.I);if(ze(y,"SID",l.K),ze(y,"RID",p),ze(y,"TYPE","terminate"),dr(l,y),p=new An(l,l.j,p),p.L=2,p.v=Lr(tn(y)),y=!1,f.navigator&&f.navigator.sendBeacon)try{y=f.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&f.Image&&(new Image().src=p.v,y=!0),y||(p.g=nl(p.j,null),p.g.ea(p.v)),p.F=Date.now(),$e(p)}el(l)}function xn(l){l.g&&(Mo(l),l.g.cancel(),l.g=null)}function _s(l){xn(l),l.u&&(f.clearTimeout(l.u),l.u=null),Ts(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&f.clearTimeout(l.s),l.s=null)}function qn(l){if(!en(l.h)&&!l.s){l.s=!0;var p=l.Ga;Ue||se(),ne||(Ue(),ne=!0),me.add(p,l),l.B=0}}function lc(l,p){return Ba(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=p.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Tn(A(l.Ga,l,p),Za(l,l.B)),l.B++,!0)}r.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const F=new An(this,this.j,l);let $=this.o;if(this.S&&($?($=T($),k($,this.S)):$=this.S),this.m!==null||this.O||(F.H=$,$=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(p+=E,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=br(this,F,p),y=tn(this.I),ze(y,"RID",l),ze(y,"CVER",22),this.D&&ze(y,"X-HTTP-Session-Id",this.D),dr(this,y),$&&(this.O?p="headers="+encodeURIComponent(String(hr($)))+"&"+p:this.m&&Fr(y,this.m,$)),ko(this.h,F),this.Ua&&ze(y,"TYPE","init"),this.P?(ze(y,"$req",p),ze(y,"SID","null"),F.T=!0,ds(F,y,null)):ds(F,y,p),this.G=2}}else this.G==3&&(l?ws(this,l):this.i.length==0||en(this.h)||ws(this))};function ws(l,p){var y;p?y=p.l:y=l.U++;const E=tn(l.I);ze(E,"SID",l.K),ze(E,"RID",y),ze(E,"AID",l.T),dr(l,E),l.m&&l.o&&Fr(E,l.m,l.o),y=new An(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),p&&(l.i=p.D.concat(l.i)),p=br(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),ko(l.h,y),ds(y,E,p)}function dr(l,p){l.H&&Te(l.H,function(y,E){ze(p,E,y)}),l.l&&Nr({},function(y,E){ze(p,E,y)})}function br(l,p,y){y=Math.min(l.i.length,y);var E=l.l?A(l.l.Na,l.l,l):null;e:{var F=l.i;let $=-1;for(;;){const te=["count="+y];$==-1?0<y?($=F[0].g,te.push("ofs="+$)):$=0:te.push("ofs="+$);let je=!0;for(let ht=0;ht<y;ht++){let Ne=F[ht].g;const yt=F[ht].map;if(Ne-=$,0>Ne)$=Math.max(0,F[ht].g-100),je=!1;else try{Ya(yt,te,"req"+Ne+"_")}catch{E&&E(yt)}}if(je){E=te.join("&");break e}}}return l=l.i.splice(0,y),p.D=l,E}function xi(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;Ue||se(),ne||(Ue(),ne=!0),me.add(p,l),l.v=0}}function Es(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Tn(A(l.Fa,l),Za(l,l.v)),l.v++,!0)}r.Fa=function(){if(this.u=null,Ja(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Tn(A(this.ab,this),l)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),xn(this),Ja(this))};function Mo(l){l.A!=null&&(f.clearTimeout(l.A),l.A=null)}function Ja(l){l.g=new An(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var p=tn(l.qa);ze(p,"RID","rpc"),ze(p,"SID",l.K),ze(p,"AID",l.T),ze(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&ze(p,"TO",l.ja),ze(p,"TYPE","xmlhttp"),dr(l,p),l.m&&l.o&&Fr(p,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=Lr(tn(p)),y.m=null,y.P=!0,Ro(y,l)}r.Za=function(){this.C!=null&&(this.C=null,xn(this),Es(this),nt(19))};function Ts(l){l.C!=null&&(f.clearTimeout(l.C),l.C=null)}function Is(l,p){var y=null;if(l.g==p){Ts(l),Mo(l),l.g=null;var E=2}else if(bt(l.h,p))y=p.D,$a(l.h,p),E=1;else return;if(l.G!=0){if(p.o)if(E==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var F=l.B;E=wi(),ct(E,new ls(E,y)),qn(l)}else xi(l);else if(F=p.s,F==3||F==0&&0<p.X||!(E==1&&lc(l,p)||E==2&&Es(l)))switch(y&&0<y.length&&(p=l.h,p.i=p.i.concat(y)),F){case 1:fr(l,5);break;case 4:fr(l,10);break;case 3:fr(l,6);break;default:fr(l,2)}}}function Za(l,p){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*p}function fr(l,p){if(l.j.info("Error code "+p),p==2){var y=A(l.fb,l),E=l.Xa;const F=!E;E=new ur(E||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ri(E,"https"),Lr(E),F?sc(E.toString(),y):Qa(E.toString(),y)}else nt(2);l.G=0,l.l&&l.l.sa(p),el(l),_s(l)}r.fb=function(l){l?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function el(l){if(l.G=0,l.ka=[],l.l){const p=qa(l.h);(p.length!=0||l.i.length!=0)&&(z(l.ka,p),z(l.ka,l.i),l.h.i.length=0,q(l.i),l.i.length=0),l.l.ra()}}function tl(l,p,y){var E=y instanceof ur?tn(y):new ur(y);if(E.g!="")p&&(E.g=p+"."+E.g),Vr(E,E.s);else{var F=f.location;E=F.protocol,p=p?p+"."+F.hostname:F.hostname,F=+F.port;var $=new ur(null);E&&Ri($,E),p&&($.g=p),F&&Vr($,F),y&&($.l=y),E=$}return y=l.D,p=l.ya,y&&p&&ze(E,y,p),ze(E,"VER",l.la),dr(l,E),E}function nl(l,p,y){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Ca&&!l.pa?new Ge(new cr({eb:y})):new Ge(l.pa),p.Ha(l.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oo(){}r=Oo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ss(){}Ss.prototype.g=function(l,p){return new jt(l,p)};function jt(l,p){ut.call(this),this.g=new Lo(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!J(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!J(p)&&(this.g.D=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new Hn(this)}j(jt,ut),jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jt.prototype.close=function(){It(this.g)},jt.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=_o(l),l=y);p.i.push(new za(p.Ya++,l)),p.G==3&&qn(p)},jt.prototype.N=function(){this.g.l=null,delete this.j,It(this.g),delete this.g,jt.aa.N.call(this)};function rl(l){jn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const y in p){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}j(rl,jn);function il(){as.call(this),this.status=1}j(il,as);function Hn(l){this.g=l}j(Hn,Oo),Hn.prototype.ua=function(){ct(this.g,"a")},Hn.prototype.ta=function(l){ct(this.g,new rl(l))},Hn.prototype.sa=function(l){ct(this.g,new il)},Hn.prototype.ra=function(){ct(this.g,"b")},Ss.prototype.createWebChannel=Ss.prototype.g,jt.prototype.send=jt.prototype.o,jt.prototype.open=jt.prototype.m,jt.prototype.close=jt.prototype.close,ev=function(){return new Ss},Zy=function(){return wi()},Jy=Un,td={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cs.NO_ERROR=0,cs.TIMEOUT=8,cs.HTTP_ERROR=6,au=cs,Fa.COMPLETE="complete",Xy=Fa,os.EventType=cn,cn.OPEN="a",cn.CLOSE="b",cn.ERROR="c",cn.MESSAGE="d",ut.prototype.listen=ut.prototype.K,ua=os,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,Yy=Ge}).apply(typeof Zl<"u"?Zl:typeof self<"u"?self:typeof window<"u"?window:{});const tg="@firebase/firestore",ng="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oo="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=new Ad("@firebase/firestore");function Ws(){return Yi.logLevel}function oe(r,...e){if(Yi.logLevel<=De.DEBUG){const t=e.map(Vd);Yi.debug(`Firestore (${oo}): ${r}`,...t)}}function Ar(r,...e){if(Yi.logLevel<=De.ERROR){const t=e.map(Vd);Yi.error(`Firestore (${oo}): ${r}`,...t)}}function Xs(r,...e){if(Yi.logLevel<=De.WARN){const t=e.map(Vd);Yi.warn(`Firestore (${oo}): ${r}`,...t)}}function Vd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(r="Unexpected state"){const e=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: `+r;throw Ar(e),new Error(e)}function be(r,e){r||ve()}function Ee(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends fi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ot.UNAUTHENTICATED))}shutdown(){}}class sI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class oI{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){be(this.o===void 0);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let u=new ri;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ri,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},f=g=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>f(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ri)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(be(typeof s.accessToken=="string"),new tv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string"),new Ot(e)}}class aI{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class lI{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new aI(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uI{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,IT(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){be(this.o===void 0);const s=u=>{u.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,oe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new rg(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(be(typeof t.token=="string"),this.R=t.token,new rg(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=cI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function ke(r,e){return r<e?-1:r>e?1:0}function Js(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig=-62135596800,sg=1e6;class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*sg);return new pt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new le(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new le(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ig)throw new le(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sg}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ig;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new pt(0,0))}static max(){return new we(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="__name__";class Yn{constructor(e,t,s){t===void 0?t=0:t>e.length&&ve(),s===void 0?s=e.length-t:s>e.length-t&&ve(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Yn.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yn?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Yn.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=Yn.isNumericId(e),o=Yn.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Yn.extractNumericId(e).compare(Yn.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ni.fromString(e.substring(4,e.length-2))}}class Ke extends Yn{construct(e,t,s){return new Ke(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(G.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new Ke(t)}static emptyPath(){return new Ke([])}}const hI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends Yn{construct(e,t,s){return new Rt(e,t,s)}static isValidIdentifier(e){return hI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===og}static keyField(){return new Rt([og])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new le(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new le(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(s+=f,o++):(u(),o++)}if(u(),h)throw new le(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(t)}static emptyPath(){return new Rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Ke.fromString(e))}static fromName(e){return new pe(Ke.fromString(e).popFirst(5))}static empty(){return new pe(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ke.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Ke(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=-1;function dI(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new pt(t+1,0):new pt(t,s));return new ai(o,pe.empty(),e)}function fI(r){return new ai(r.readTime,r.key,wa)}class ai{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new ai(we.min(),pe.empty(),wa)}static max(){return new ai(we.max(),pe.empty(),wa)}}function pI(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=pe.comparator(r.documentKey,e.documentKey),t!==0?t:ke(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(r){if(r.code!==G.FAILED_PRECONDITION||r.message!==mI)throw r;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new W((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof W?t:W.resolve(t)}catch(t){return W.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):W.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):W.reject(t)}static resolve(e){return new W((t,s)=>{t(e)})}static reject(e){return new W((t,s)=>{s(e)})}static waitFor(e){return new W((t,s)=>{let o=0,u=0,h=!1;e.forEach(f=>{++o,f.next(()=>{++u,h&&u===o&&t()},g=>s(g))}),h=!0,u===o&&t()})}static or(e){let t=W.resolve(!1);for(const s of e)t=t.next(o=>o?W.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new W((s,o)=>{const u=e.length,h=new Array(u);let f=0;for(let g=0;g<u;g++){const v=g;t(e[v]).next(w=>{h[v]=w,++f,f===u&&s(h)},w=>o(w))}})}static doWhile(e,t){return new W((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function yI(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function lo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Uu.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd=-1;function zu(r){return r==null}function _u(r){return r===0&&1/r==-1/0}function vI(r){return typeof r=="number"&&Number.isInteger(r)&&!_u(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="";function _I(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=ag(e)),e=wI(r.get(t),e);return ag(e)}function wI(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case rv:t+="";break;default:t+=u}}return t}function ag(r){return r+rv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function pi(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function iv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,t){this.comparator=e,this.root=t||Ct.EMPTY}insert(e,t){return new Ze(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eu(this.root,e,this.comparator,!1)}getReverseIterator(){return new eu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eu(this.root,e,this.comparator,!0)}}class eu{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ct{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Ct.RED,this.left=o??Ct.EMPTY,this.right=u??Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Ct(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ct.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1;Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,t,s,o,u){return this}insert(e,t,s){return new Ct(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ug(this.data.getIterator())}getIteratorFrom(e){return new ug(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new mt(this.comparator);return t.data=e,t}}class ug{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new ln([])}unionWith(e){let t=new mt(Rt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new ln(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Js(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new sv("Invalid base64 string: "+u):u}}(e);return new Pt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Pt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const EI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function li(r){if(be(!!r),typeof r=="string"){let e=0;const t=EI.exec(r);if(be(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:it(r.seconds),nanos:it(r.nanos)}}function it(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ui(r){return typeof r=="string"?Pt.fromBase64String(r):Pt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="server_timestamp",av="__type__",lv="__previous_value__",uv="__local_write_time__";function Ld(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[av])===null||t===void 0?void 0:t.stringValue)===ov}function Bu(r){const e=r.mapValue.fields[lv];return Ld(e)?Bu(e):e}function Ea(r){const e=li(r.mapValue.fields[uv].timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,t,s,o,u,h,f,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=g,this.useFetchStreams=v}}const wu="(default)";class Ta{constructor(e,t){this.projectId=e,this.database=t||wu}static empty(){return new Ta("","")}get isDefaultDatabase(){return this.database===wu}isEqual(e){return e instanceof Ta&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="__type__",hv="__max__",tu={mapValue:{fields:{__type__:{stringValue:hv}}}},dv="__vector__",Eu="value";function ci(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ld(r)?4:SI(r)?9007199254740991:II(r)?10:11:ve()}function tr(r,e){if(r===e)return!0;const t=ci(r);if(t!==ci(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ea(r).isEqual(Ea(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=li(o.timestampValue),f=li(u.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return ui(o.bytesValue).isEqual(ui(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return it(o.geoPointValue.latitude)===it(u.geoPointValue.latitude)&&it(o.geoPointValue.longitude)===it(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return it(o.integerValue)===it(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=it(o.doubleValue),f=it(u.doubleValue);return h===f?_u(h)===_u(f):isNaN(h)&&isNaN(f)}return!1}(r,e);case 9:return Js(r.arrayValue.values||[],e.arrayValue.values||[],tr);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},f=u.mapValue.fields||{};if(lg(h)!==lg(f))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(f[g]===void 0||!tr(h[g],f[g])))return!1;return!0}(r,e);default:return ve()}}function Ia(r,e){return(r.values||[]).find(t=>tr(t,e))!==void 0}function Zs(r,e){if(r===e)return 0;const t=ci(r),s=ci(e);if(t!==s)return ke(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(r.booleanValue,e.booleanValue);case 2:return function(u,h){const f=it(u.integerValue||u.doubleValue),g=it(h.integerValue||h.doubleValue);return f<g?-1:f>g?1:f===g?0:isNaN(f)?isNaN(g)?0:-1:1}(r,e);case 3:return cg(r.timestampValue,e.timestampValue);case 4:return cg(Ea(r),Ea(e));case 5:return ke(r.stringValue,e.stringValue);case 6:return function(u,h){const f=ui(u),g=ui(h);return f.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const f=u.split("/"),g=h.split("/");for(let v=0;v<f.length&&v<g.length;v++){const w=ke(f[v],g[v]);if(w!==0)return w}return ke(f.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const f=ke(it(u.latitude),it(h.latitude));return f!==0?f:ke(it(u.longitude),it(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return hg(r.arrayValue,e.arrayValue);case 10:return function(u,h){var f,g,v,w;const S=u.fields||{},A=h.fields||{},L=(f=S[Eu])===null||f===void 0?void 0:f.arrayValue,j=(g=A[Eu])===null||g===void 0?void 0:g.arrayValue,q=ke(((v=L==null?void 0:L.values)===null||v===void 0?void 0:v.length)||0,((w=j==null?void 0:j.values)===null||w===void 0?void 0:w.length)||0);return q!==0?q:hg(L,j)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===tu.mapValue&&h===tu.mapValue)return 0;if(u===tu.mapValue)return 1;if(h===tu.mapValue)return-1;const f=u.fields||{},g=Object.keys(f),v=h.fields||{},w=Object.keys(v);g.sort(),w.sort();for(let S=0;S<g.length&&S<w.length;++S){const A=ke(g[S],w[S]);if(A!==0)return A;const L=Zs(f[g[S]],v[w[S]]);if(L!==0)return L}return ke(g.length,w.length)}(r.mapValue,e.mapValue);default:throw ve()}}function cg(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ke(r,e);const t=li(r),s=li(e),o=ke(t.seconds,s.seconds);return o!==0?o:ke(t.nanos,s.nanos)}function hg(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=Zs(t[o],s[o]);if(u)return u}return ke(t.length,s.length)}function eo(r){return nd(r)}function nd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=li(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return ui(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return pe.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=nd(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${nd(t.fields[h])}`;return o+"}"}(r.mapValue):ve()}function lu(r){switch(ci(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bu(r);return e?16+lu(e):16;case 5:return 2*r.stringValue.length;case 6:return ui(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+lu(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return pi(s.fields,(u,h)=>{o+=u.length+lu(h)}),o}(r.mapValue);default:throw ve()}}function dg(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function rd(r){return!!r&&"integerValue"in r}function Md(r){return!!r&&"arrayValue"in r}function fg(r){return!!r&&"nullValue"in r}function pg(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function uu(r){return!!r&&"mapValue"in r}function II(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[cv])===null||t===void 0?void 0:t.stringValue)===dv}function fa(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return pi(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=fa(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=fa(r.arrayValue.values[t]);return e}return Object.assign({},r)}function SI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===hv}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.value=e}static empty(){return new Jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!uu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fa(t)}setAll(e){let t=Rt.emptyPath(),s={},o=[];e.forEach((h,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=f.popLast()}h?s[f.lastSegment()]=fa(h):o.push(f.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());uu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return tr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];uu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){pi(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Jt(fa(this.value))}}function fv(r){const e=[];return pi(r.fields,(t,s)=>{const o=new Rt([t]);if(uu(s)){const u=fv(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,t,s,o,u,h,f){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=f}static newInvalidDocument(e){return new Ft(e,0,we.min(),we.min(),we.min(),Jt.empty(),0)}static newFoundDocument(e,t,s,o){return new Ft(e,1,t,we.min(),s,o,0)}static newNoDocument(e,t){return new Ft(e,2,t,we.min(),we.min(),Jt.empty(),0)}static newUnknownDocument(e,t){return new Ft(e,3,t,we.min(),we.min(),Jt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,t){this.position=e,this.inclusive=t}}function mg(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(h.referenceValue),t.key):s=Zs(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function gg(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!tr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,t="asc"){this.field=e,this.dir=t}}function AI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{}class lt extends pv{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new RI(e,t,s):t==="array-contains"?new xI(e,s):t==="in"?new NI(e,s):t==="not-in"?new VI(e,s):t==="array-contains-any"?new DI(e,s):new lt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new PI(e,s):new kI(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Zs(t,this.value)):t!==null&&ci(this.value)===ci(t)&&this.matchesComparison(Zs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bn extends pv{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new bn(e,t)}matches(e){return mv(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function mv(r){return r.op==="and"}function gv(r){return CI(r)&&mv(r)}function CI(r){for(const e of r.filters)if(e instanceof bn)return!1;return!0}function id(r){if(r instanceof lt)return r.field.canonicalString()+r.op.toString()+eo(r.value);if(gv(r))return r.filters.map(e=>id(e)).join(",");{const e=r.filters.map(t=>id(t)).join(",");return`${r.op}(${e})`}}function yv(r,e){return r instanceof lt?function(s,o){return o instanceof lt&&s.op===o.op&&s.field.isEqual(o.field)&&tr(s.value,o.value)}(r,e):r instanceof bn?function(s,o){return o instanceof bn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,f)=>u&&yv(h,o.filters[f]),!0):!1}(r,e):void ve()}function vv(r){return r instanceof lt?function(t){return`${t.field.canonicalString()} ${t.op} ${eo(t.value)}`}(r):r instanceof bn?function(t){return t.op.toString()+" {"+t.getFilters().map(vv).join(" ,")+"}"}(r):"Filter"}class RI extends lt{constructor(e,t,s){super(e,t,s),this.key=pe.fromName(s.referenceValue)}matches(e){const t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class PI extends lt{constructor(e,t){super(e,"in",t),this.keys=_v("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class kI extends lt{constructor(e,t){super(e,"not-in",t),this.keys=_v("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function _v(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>pe.fromName(s.referenceValue))}class xI extends lt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Md(t)&&Ia(t.arrayValue,this.value)}}class NI extends lt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ia(this.value.arrayValue,t)}}class VI extends lt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ia(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ia(this.value.arrayValue,t)}}class DI extends lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Md(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Ia(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,t=null,s=[],o=[],u=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=f,this.le=null}}function yg(r,e=null,t=[],s=[],o=null,u=null,h=null){return new LI(r,e,t,s,o,u,h)}function Od(r){const e=Ee(r);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>id(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),zu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>eo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>eo(s)).join(",")),e.le=t}return e.le}function Fd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!AI(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!yv(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!gg(r.startAt,e.startAt)&&gg(r.endAt,e.endAt)}function sd(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,t=null,s=[],o=[],u=null,h="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=f,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function MI(r,e,t,s,o,u,h,f){return new xa(r,e,t,s,o,u,h,f)}function wv(r){return new xa(r)}function vg(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Ev(r){return r.collectionGroup!==null}function pa(r){const e=Ee(r);if(e.he===null){e.he=[];const t=new Set;for(const u of e.explicitOrderBy)e.he.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new mt(Rt.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(v=>{v.isInequality()&&(f=f.add(v.field))})}),f})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.he.push(new Iu(u,s))}),t.has(Rt.keyField().canonicalString())||e.he.push(new Iu(Rt.keyField(),s))}return e.he}function Jn(r){const e=Ee(r);return e.Pe||(e.Pe=OI(e,pa(r))),e.Pe}function OI(r,e){if(r.limitType==="F")return yg(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Iu(o.field,u)});const t=r.endAt?new Tu(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Tu(r.startAt.position,r.startAt.inclusive):null;return yg(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function od(r,e){const t=r.filters.concat([e]);return new xa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function ad(r,e,t){return new xa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function $u(r,e){return Fd(Jn(r),Jn(e))&&r.limitType===e.limitType}function Tv(r){return`${Od(Jn(r))}|lt:${r.limitType}`}function Ks(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>vv(o)).join(", ")}]`),zu(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>eo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>eo(o)).join(",")),`Target(${s})`}(Jn(r))}; limitType=${r.limitType})`}function qu(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of pa(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,f,g){const v=mg(h,f,g);return h.inclusive?v<=0:v<0}(s.startAt,pa(s),o)||s.endAt&&!function(h,f,g){const v=mg(h,f,g);return h.inclusive?v>=0:v>0}(s.endAt,pa(s),o))}(r,e)}function FI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Iv(r){return(e,t)=>{let s=!1;for(const o of pa(r)){const u=bI(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function bI(r,e,t){const s=r.field.isKeyField()?pe.comparator(e.key,t.key):function(u,h,f){const g=h.data.field(u),v=f.data.field(u);return g!==null&&v!==null?Zs(g,v):ve()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){pi(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return iv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=new Ze(pe.comparator);function Cr(){return jI}const Sv=new Ze(pe.comparator);function ca(...r){let e=Sv;for(const t of r)e=e.insert(t.key,t);return e}function Av(r){let e=Sv;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Ki(){return ma()}function Cv(){return ma()}function ma(){return new Ji(r=>r.toString(),(r,e)=>r.isEqual(e))}const UI=new Ze(pe.comparator),zI=new mt(pe.comparator);function Re(...r){let e=zI;for(const t of r)e=e.add(t);return e}const BI=new mt(ke);function $I(){return BI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_u(e)?"-0":e}}function Rv(r){return{integerValue:""+r}}function qI(r,e){return vI(e)?Rv(e):bd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(){this._=void 0}}function HI(r,e,t){return r instanceof Su?function(o,u){const h={fields:{[av]:{stringValue:ov},[uv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ld(u)&&(u=Bu(u)),u&&(h.fields[lv]=u),{mapValue:h}}(t,e):r instanceof Sa?kv(r,e):r instanceof Aa?xv(r,e):function(o,u){const h=Pv(o,u),f=_g(h)+_g(o.Ie);return rd(h)&&rd(o.Ie)?Rv(f):bd(o.serializer,f)}(r,e)}function WI(r,e,t){return r instanceof Sa?kv(r,e):r instanceof Aa?xv(r,e):t}function Pv(r,e){return r instanceof Au?function(s){return rd(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Su extends Hu{}class Sa extends Hu{constructor(e){super(),this.elements=e}}function kv(r,e){const t=Nv(e);for(const s of r.elements)t.some(o=>tr(o,s))||t.push(s);return{arrayValue:{values:t}}}class Aa extends Hu{constructor(e){super(),this.elements=e}}function xv(r,e){let t=Nv(e);for(const s of r.elements)t=t.filter(o=>!tr(o,s));return{arrayValue:{values:t}}}class Au extends Hu{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function _g(r){return it(r.integerValue||r.doubleValue)}function Nv(r){return Md(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function KI(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Sa&&o instanceof Sa||s instanceof Aa&&o instanceof Aa?Js(s.elements,o.elements,tr):s instanceof Au&&o instanceof Au?tr(s.Ie,o.Ie):s instanceof Su&&o instanceof Su}(r.transform,e.transform)}class GI{constructor(e,t){this.version=e,this.transformResults=t}}class Fn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Wu{}function Vv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new jd(r.key,Fn.none()):new Na(r.key,r.data,Fn.none());{const t=r.data,s=Jt.empty();let o=new mt(Rt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new mi(r.key,s,new ln(o.toArray()),Fn.none())}}function QI(r,e,t){r instanceof Na?function(o,u,h){const f=o.value.clone(),g=Eg(o.fieldTransforms,u,h.transformResults);f.setAll(g),u.convertToFoundDocument(h.version,f).setHasCommittedMutations()}(r,e,t):r instanceof mi?function(o,u,h){if(!cu(o.precondition,u))return void u.convertToUnknownDocument(h.version);const f=Eg(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(Dv(o)),g.setAll(f),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(r,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function ga(r,e,t,s){return r instanceof Na?function(u,h,f,g){if(!cu(u.precondition,h))return f;const v=u.value.clone(),w=Tg(u.fieldTransforms,g,h);return v.setAll(w),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null}(r,e,t,s):r instanceof mi?function(u,h,f,g){if(!cu(u.precondition,h))return f;const v=Tg(u.fieldTransforms,g,h),w=h.data;return w.setAll(Dv(u)),w.setAll(v),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),f===null?null:f.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(r,e,t,s):function(u,h,f){return cu(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f}(r,e,t)}function YI(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Pv(s.transform,o||null);u!=null&&(t===null&&(t=Jt.empty()),t.set(s.field,u))}return t||null}function wg(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Js(s,o,(u,h)=>KI(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Na extends Wu{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class mi extends Wu{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Dv(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function Eg(r,e,t){const s=new Map;be(r.length===t.length);for(let o=0;o<t.length;o++){const u=r[o],h=u.transform,f=e.data.field(u.field);s.set(u.field,WI(h,f,t[o]))}return s}function Tg(r,e,t){const s=new Map;for(const o of r){const u=o.transform,h=t.data.field(o.field);s.set(o.field,HI(u,h,e))}return s}class jd extends Wu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XI extends Wu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&QI(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=ga(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=ga(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Cv();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let f=this.applyToLocalView(h,u.mutatedFields);f=t.has(o.key)?null:f;const g=Vv(h,f);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Re())}isEqual(e){return this.batchId===e.batchId&&Js(this.mutations,e.mutations,(t,s)=>wg(t,s))&&Js(this.baseMutations,e.baseMutations,(t,s)=>wg(t,s))}}class Ud{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){be(e.mutations.length===s.length);let o=function(){return UI}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Ud(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,Ve;function tS(r){switch(r){case G.OK:return ve();case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return ve()}}function Lv(r){if(r===void 0)return Ar("GRPC error has no .code"),G.UNKNOWN;switch(r){case at.OK:return G.OK;case at.CANCELLED:return G.CANCELLED;case at.UNKNOWN:return G.UNKNOWN;case at.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case at.INTERNAL:return G.INTERNAL;case at.UNAVAILABLE:return G.UNAVAILABLE;case at.UNAUTHENTICATED:return G.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case at.NOT_FOUND:return G.NOT_FOUND;case at.ALREADY_EXISTS:return G.ALREADY_EXISTS;case at.PERMISSION_DENIED:return G.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case at.ABORTED:return G.ABORTED;case at.OUT_OF_RANGE:return G.OUT_OF_RANGE;case at.UNIMPLEMENTED:return G.UNIMPLEMENTED;case at.DATA_LOSS:return G.DATA_LOSS;default:return ve()}}(Ve=at||(at={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=new ni([4294967295,4294967295],0);function Ig(r){const e=nS().encode(r),t=new Qy;return t.update(e),new Uint8Array(t.digest())}function Sg(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ni([t,s],0),new ni([o,u],0)]}class zd{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new ha(`Invalid padding: ${t}`);if(s<0)throw new ha(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ha(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new ha(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=ni.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(ni.fromNumber(s)));return o.compare(rS)===1&&(o=new ni([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Ig(e),[s,o]=Sg(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);if(!this.Re(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new zd(u,o,t);return s.forEach(f=>h.insert(f)),h}insert(e){if(this.Ee===0)return;const t=Ig(e),[s,o]=Sg(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class ha extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Va.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Ku(we.min(),o,new Ze(ke),Cr(),Re())}}class Va{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Va(s,t,Re(),Re(),Re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class Mv{constructor(e,t){this.targetId=e,this.ge=t}}class Ov{constructor(e,t,s=Pt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Ag{constructor(){this.pe=0,this.ye=Cg(),this.we=Pt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Re(),t=Re(),s=Re();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:ve()}}),new Va(this.we,this.Se,e,t,s)}Me(){this.be=!1,this.ye=Cg()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,be(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class iS{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Cr(),this.$e=nu(),this.Ke=nu(),this.Ue=new Ze(ke)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:ve()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const u=o.target;if(sd(u))if(s===0){const h=new pe(u.path);this.ze(t,h,Ft.newNoDocument(h,we.min()))}else be(s===1);else{const h=this.et(t);if(h!==s){const f=this.tt(e),g=f?this.nt(f,e,h):1;if(g!==0){this.Ye(t);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,v)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,f;try{h=ui(s).toUint8Array()}catch(g){if(g instanceof sv)return Xs("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{f=new zd(h,o,u)}catch(g){return Xs(g instanceof ha?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return f.Ee===0?null:f}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.ke.it(),f=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(f)||(this.ze(t,u,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((u,h)=>{const f=this.Xe(h);if(f){if(u.current&&sd(f.target)){const g=new pe(f.target.path);this._t(g).has(h)||this.ut(h,g)||this.ze(h,g,Ft.newNoDocument(g,e))}u.ve&&(t.set(h,u.Fe()),u.Me())}});let s=Re();this.Ke.forEach((u,h)=>{let f=!0;h.forEachWhile(g=>{const v=this.Xe(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(s=s.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const o=new Ku(e,t,this.Ue,this.Qe,s);return this.Qe=Cr(),this.$e=nu(),this.Ke=nu(),this.Ue=new Ze(ke),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Ag,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new mt(ke),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new mt(ke),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||oe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Ag),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function nu(){return new Ze(pe.comparator)}function Cg(){return new Ze(pe.comparator)}const sS={asc:"ASCENDING",desc:"DESCENDING"},oS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aS={and:"AND",or:"OR"};class lS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ld(r,e){return r.useProto3Json||zu(e)?e:{value:e}}function Cu(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function uS(r,e){return Cu(r,e.toTimestamp())}function Zn(r){return be(!!r),we.fromTimestamp(function(t){const s=li(t);return new pt(s.seconds,s.nanos)}(r))}function Bd(r,e){return ud(r,e).canonicalString()}function ud(r,e){const t=function(o){return new Ke(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function bv(r){const e=Ke.fromString(r);return be($v(e)),e}function cd(r,e){return Bd(r.databaseId,e.path)}function Bh(r,e){const t=bv(e);if(t.get(1)!==r.databaseId.projectId)throw new le(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new le(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new pe(Uv(t))}function jv(r,e){return Bd(r.databaseId,e)}function cS(r){const e=bv(r);return e.length===4?Ke.emptyPath():Uv(e)}function hd(r){return new Ke(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Uv(r){return be(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Rg(r,e,t){return{name:cd(r,e),fields:t.value.mapValue.fields}}function hS(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(v,w){return v.useProto3Json?(be(w===void 0||typeof w=="string"),Pt.fromBase64String(w||"")):(be(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Pt.fromUint8Array(w||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&function(v){const w=v.code===void 0?G.UNKNOWN:Lv(v.code);return new le(w,v.message||"")}(h);t=new Ov(s,o,u,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Bh(r,s.document.name),u=Zn(s.document.updateTime),h=s.document.createTime?Zn(s.document.createTime):we.min(),f=new Jt({mapValue:{fields:s.document.fields}}),g=Ft.newFoundDocument(o,u,h,f),v=s.targetIds||[],w=s.removedTargetIds||[];t=new hu(v,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Bh(r,s.document),u=s.readTime?Zn(s.readTime):we.min(),h=Ft.newNoDocument(o,u),f=s.removedTargetIds||[];t=new hu([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Bh(r,s.document),u=s.removedTargetIds||[];t=new hu([],u,o,null)}else{if(!("filter"in e))return ve();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new eS(o,u),f=s.targetId;t=new Mv(f,h)}}return t}function dS(r,e){let t;if(e instanceof Na)t={update:Rg(r,e.key,e.value)};else if(e instanceof jd)t={delete:cd(r,e.key)};else if(e instanceof mi)t={update:Rg(r,e.key,e.data),updateMask:ES(e.fieldMask)};else{if(!(e instanceof XI))return ve();t={verify:cd(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const f=h.transform;if(f instanceof Su)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Sa)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Aa)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Au)return{fieldPath:h.field.canonicalString(),increment:f.Ie};throw ve()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:uS(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve()}(r,e.precondition)),t}function fS(r,e){return r&&r.length>0?(be(e!==void 0),r.map(t=>function(o,u){let h=o.updateTime?Zn(o.updateTime):Zn(u);return h.isEqual(we.min())&&(h=Zn(u)),new GI(h,o.transformResults||[])}(t,e))):[]}function pS(r,e){return{documents:[jv(r,e.path)]}}function mS(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=jv(r,o);const u=function(v){if(v.length!==0)return Bv(bn.create(v,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(v){if(v.length!==0)return v.map(w=>function(A){return{field:Gs(A.field),direction:vS(A.dir)}}(w))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=ld(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ht:t,parent:o}}function gS(r){let e=cS(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){be(s===1);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let u=[];t.where&&(u=function(S){const A=zv(S);return A instanceof bn&&gv(A)?A.getFilters():[A]}(t.where));let h=[];t.orderBy&&(h=function(S){return S.map(A=>function(j){return new Iu(Qs(j.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(A))}(t.orderBy));let f=null;t.limit&&(f=function(S){let A;return A=typeof S=="object"?S.value:S,zu(A)?null:A}(t.limit));let g=null;t.startAt&&(g=function(S){const A=!!S.before,L=S.values||[];return new Tu(L,A)}(t.startAt));let v=null;return t.endAt&&(v=function(S){const A=!S.before,L=S.values||[];return new Tu(L,A)}(t.endAt)),MI(e,o,h,u,f,"F",g,v)}function yS(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function zv(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Qs(t.unaryFilter.field);return lt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Qs(t.unaryFilter.field);return lt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Qs(t.unaryFilter.field);return lt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Qs(t.unaryFilter.field);return lt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(r):r.fieldFilter!==void 0?function(t){return lt.create(Qs(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return bn.create(t.compositeFilter.filters.map(s=>zv(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve()}}(t.compositeFilter.op))}(r):ve()}function vS(r){return sS[r]}function _S(r){return oS[r]}function wS(r){return aS[r]}function Gs(r){return{fieldPath:r.canonicalString()}}function Qs(r){return Rt.fromServerFormat(r.fieldPath)}function Bv(r){return r instanceof lt?function(t){if(t.op==="=="){if(pg(t.value))return{unaryFilter:{field:Gs(t.field),op:"IS_NAN"}};if(fg(t.value))return{unaryFilter:{field:Gs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(pg(t.value))return{unaryFilter:{field:Gs(t.field),op:"IS_NOT_NAN"}};if(fg(t.value))return{unaryFilter:{field:Gs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gs(t.field),op:_S(t.op),value:t.value}}}(r):r instanceof bn?function(t){const s=t.getFilters().map(o=>Bv(o));return s.length===1?s[0]:{compositeFilter:{op:wS(t.op),filters:s}}}(r):ve()}function ES(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function $v(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,t,s,o,u=we.min(),h=we.min(),f=Pt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=g}withSequenceNumber(e){return new Zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e){this.Tt=e}}function IS(r){const e=gS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ad(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(){this.Tn=new AS}addToCollectionParentIndex(e,t){return this.Tn.add(t),W.resolve()}getCollectionParents(e,t){return W.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return W.resolve()}deleteFieldIndex(e,t){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,t){return W.resolve()}getDocumentsMatchingTarget(e,t){return W.resolve(null)}getIndexType(e,t){return W.resolve(0)}getFieldIndexes(e,t){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,t){return W.resolve(ai.min())}getMinOffsetFromCollectionGroup(e,t){return W.resolve(ai.min())}updateCollectionGroup(e,t,s){return W.resolve()}updateIndexEntries(e,t){return W.resolve()}}class AS{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new mt(Ke.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new mt(Ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qv=41943040;class Xt{static withCacheSize(e){return new Xt(e,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xt.DEFAULT_COLLECTION_PERCENTILE=10,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xt.DEFAULT=new Xt(qv,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xt.DISABLED=new Xt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new to(0)}static Un(){return new to(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg="LruGarbageCollector",CS=1048576;function xg([r,e],[t,s]){const o=ke(r,t);return o===0?ke(e,s):o}class RS{constructor(e){this.Hn=e,this.buffer=new mt(xg),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();xg(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class PS{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){oe(kg,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){lo(t)?oe(kg,"Ignoring IndexedDB error during garbage collection: ",t):await ao(t)}await this.er(3e5)})}}class kS{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return W.resolve(Uu.ae);const s=new RS(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(Pg)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Pg):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,u,h,f,g,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,f=Date.now(),this.removeTargets(e,s,t))).next(S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(v=Date.now(),Ws()<=De.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${o} in `+(f-h)+`ms
	Removed ${u} targets in `+(g-f)+`ms
	Removed ${S} documents in `+(v-g)+`ms
Total Duration: ${v-w}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function xS(r,e){return new kS(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(){this.changes=new Ji(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?W.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&ga(s.mutation,o,ln.empty(),pt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Re()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Re()){const o=Ki();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=ca();return u.forEach((f,g)=>{h=h.insert(f,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Ki();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Re()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,f)=>{t.set(h,f)})})}computeViews(e,t,s,o){let u=Cr();const h=ma(),f=function(){return ma()}();return t.forEach((g,v)=>{const w=s.get(v.key);o.has(v.key)&&(w===void 0||w.mutation instanceof mi)?u=u.insert(v.key,v):w!==void 0?(h.set(v.key,w.mutation.getFieldMask()),ga(w.mutation,v,w.mutation.getFieldMask(),pt.now())):h.set(v.key,ln.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((v,w)=>h.set(v,w)),t.forEach((v,w)=>{var S;return f.set(v,new VS(w,(S=h.get(v))!==null&&S!==void 0?S:null))}),f))}recalculateAndSaveOverlays(e,t){const s=ma();let o=new Ze((h,f)=>h-f),u=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const f of h)f.keys().forEach(g=>{const v=t.get(g);if(v===null)return;let w=s.get(g)||ln.empty();w=f.applyToLocalView(v,w),s.set(g,w);const S=(o.get(f.batchId)||Re()).add(g);o=o.insert(f.batchId,S)})}).next(()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),v=g.key,w=g.value,S=Cv();w.forEach(A=>{if(!u.has(A)){const L=Vv(t.get(A),s.get(A));L!==null&&S.set(A,L),u=u.add(A)}}),h.push(this.documentOverlayCache.saveOverlays(e,v,S))}return W.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return pe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ev(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):W.resolve(Ki());let f=wa,g=u;return h.next(v=>W.forEach(v,(w,S)=>(f<S.largestBatchId&&(f=S.largestBatchId),u.get(w)?W.resolve():this.remoteDocumentCache.getEntry(e,w).next(A=>{g=g.insert(w,A)}))).next(()=>this.populateOverlays(e,v,u)).next(()=>this.computeViews(e,g,v,Re())).next(w=>({batchId:f,changes:Av(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next(s=>{let o=ca();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=ca();return this.indexManager.getCollectionParents(e,u).next(f=>W.forEach(f,g=>{const v=function(S,A){return new xa(A,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next(w=>{w.forEach((S,A)=>{h=h.insert(S,A)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((g,v)=>{const w=v.getKey();h.get(w)===null&&(h=h.insert(w,Ft.newInvalidDocument(w)))});let f=ca();return h.forEach((g,v)=>{const w=u.get(g);w!==void 0&&ga(w.mutation,v,ln.empty(),pt.now()),qu(t,v)&&(f=f.insert(g,v))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return W.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Zn(o.createTime)}}(t)),W.resolve()}getNamedQuery(e,t){return W.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:IS(o.bundledQuery),readTime:Zn(o.readTime)}}(t)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.overlays=new Ze(pe.comparator),this.Rr=new Map}getOverlay(e,t){return W.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ki();return W.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.Et(e,t,u)}),W.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),W.resolve()}getOverlaysForCollection(e,t,s){const o=Ki(),u=t.length+1,h=new pe(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const g=f.getNext().value,v=g.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return W.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new Ze((v,w)=>v-w);const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>s){let w=u.get(v.largestBatchId);w===null&&(w=Ki(),u=u.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const f=Ki(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,w)=>f.set(v,w)),!(f.size()>=o)););return W.resolve(f)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new ZI(t,s));let u=this.Rr.get(t);u===void 0&&(u=Re(),this.Rr.set(t,u)),this.Rr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(){this.Vr=new mt(Et.mr),this.gr=new mt(Et.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new Et(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new Et(e,t))}Sr(e,t){e.forEach(s=>this.removeReference(s,t))}br(e){const t=new pe(new Ke([])),s=new Et(t,e),o=new Et(t,e+1),u=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new pe(new Ke([])),s=new Et(t,e),o=new Et(t,e+1);let u=Re();return this.gr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Et(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Et{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return pe.comparator(e.key,t.key)||ke(e.Cr,t.Cr)}static pr(e,t){return ke(e.Cr,t.Cr)||pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new mt(Et.mr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new JI(u,t,s,o);this.mutationQueue.push(h);for(const f of o)this.Mr=this.Mr.add(new Et(f.key,u)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return W.resolve(h)}lookupMutationBatch(e,t){return W.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Dd:this.Fr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Et(t,0),o=new Et(t,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],h=>{const f=this.Or(h.Cr);u.push(f)}),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new mt(ke);return t.forEach(o=>{const u=new Et(o,0),h=new Et(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],f=>{s=s.add(f.Cr)})}),W.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const h=new Et(new pe(u),0);let f=new mt(ke);return this.Mr.forEachWhile(g=>{const v=g.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(f=f.add(g.Cr)),!0)},h),W.resolve(this.Br(f))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){be(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return W.forEach(t.mutations,o=>{const u=new Et(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new Et(t,0),o=this.Mr.firstAfterOrEqual(s);return W.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e){this.kr=e,this.docs=function(){return new Ze(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return W.resolve(s?s.document.mutableCopy():Ft.newInvalidDocument(t))}getEntries(e,t){let s=Cr();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Ft.newInvalidDocument(o))}),W.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=Cr();const h=t.path,f=new pe(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:v,value:{document:w}}=g.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||pI(fI(w),s)<=0||(o.has(w.key)||qu(t,w))&&(u=u.insert(w.key,w.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,t,s,o){ve()}qr(e,t){return W.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new jS(this)}getSize(e){return W.resolve(this.size)}}class jS extends NS{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),W.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e){this.persistence=e,this.Qr=new Ji(t=>Od(t),Fd),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.$r=0,this.Kr=new $d,this.targetCount=0,this.Ur=to.Kn()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),W.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new to(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,W.resolve()}updateTargetData(e,t){return this.zn(t),W.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Qr.forEach((h,f)=>{f.sequenceNumber<=t&&s.get(f.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),W.waitFor(u).next(()=>o)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return W.resolve(s)}addMatchingKeys(e,t,s){return this.Kr.yr(t,s),W.resolve()}removeMatchingKeys(e,t,s){this.Kr.Sr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),W.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),W.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Kr.vr(t);return W.resolve(s)}containsKey(e,t){return W.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Uu(0),this.zr=!1,this.zr=!0,this.jr=new OS,this.referenceDelegate=e(this),this.Hr=new US(this),this.indexManager=new SS,this.remoteDocumentCache=function(o){return new bS(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new TS(t),this.Yr=new LS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new MS,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new FS(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){oe("MemoryPersistence","Starting transaction:",e);const o=new zS(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,t){return W.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class zS extends gI{constructor(e){super(),this.currentSequenceNumber=e}}class qd{constructor(e){this.persistence=e,this.ti=new $d,this.ni=null}static ri(e){return new qd(e)}get ii(){if(this.ni)return this.ni;throw ve()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),W.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),W.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ii,s=>{const o=pe.fromPath(s);return this.si(e,o).next(u=>{u||t.removeEntry(o,we.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return W.or([()=>W.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Ru{constructor(e,t){this.persistence=e,this.oi=new Ji(s=>_I(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=xS(this,t)}static ri(e,t){return new Ru(e,t)}Zr(){}Xr(e){return W.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return W.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?W.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,t).next(f=>{f||(s++,u.removeEntry(h,we.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),W.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),W.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=lu(e.data.value)),t}ar(e,t,s){return W.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=Re(),o=Re();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Hd(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return _E()?8:yI(gE())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.rs(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new BS;return this._s(e,t,h).next(f=>{if(u.result=f,this.Xi)return this.us(e,t,h,f.size)})}).next(()=>u.result)}us(e,t,s,o){return s.documentReadCount<this.es?(Ws()<=De.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Ks(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),W.resolve()):(Ws()<=De.DEBUG&&oe("QueryEngine","Query:",Ks(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Ws()<=De.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Ks(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jn(t))):W.resolve())}rs(e,t){if(vg(t))return W.resolve(null);let s=Jn(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=ad(t,null,"F"),s=Jn(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Re(...u);return this.ns.getDocuments(e,h).next(f=>this.indexManager.getMinOffset(e,s).next(g=>{const v=this.cs(t,f);return this.ls(t,v,h,g.readTime)?this.rs(e,ad(t,null,"F")):this.hs(e,v,t,g)}))})))}ss(e,t,s,o){return vg(t)||o.isEqual(we.min())?W.resolve(null):this.ns.getDocuments(e,s).next(u=>{const h=this.cs(t,u);return this.ls(t,h,s,o)?W.resolve(null):(Ws()<=De.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ks(t)),this.hs(e,h,t,dI(o,wa)).next(f=>f))})}cs(e,t){let s=new mt(Iv(e));return t.forEach((o,u)=>{qu(e,u)&&(s=s.add(u))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,t,s){return Ws()<=De.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Ks(t)),this.ns.getDocumentsMatchingQuery(e,t,ai.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="LocalStore",qS=3e8;class HS{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new Ze(ke),this.Is=new Ji(u=>Od(u),Fd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DS(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function WS(r,e,t,s){return new HS(r,e,t,s)}async function Wv(r,e){const t=Ee(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],f=[];let g=Re();for(const v of o){h.push(v.batchId);for(const w of v.mutations)g=g.add(w.key)}for(const v of u){f.push(v.batchId);for(const w of v.mutations)g=g.add(w.key)}return t.localDocuments.getDocuments(s,g).next(v=>({Rs:v,removedBatchIds:h,addedBatchIds:f}))})})}function KS(r,e){const t=Ee(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.ds.newChangeBuffer({trackRemovals:!0});return function(f,g,v,w){const S=v.batch,A=S.keys();let L=W.resolve();return A.forEach(j=>{L=L.next(()=>w.getEntry(g,j)).next(q=>{const z=v.docVersions.get(j);be(z!==null),q.version.compareTo(z)<0&&(S.applyToRemoteDocument(q,v),q.isValidDocument()&&(q.setReadTime(v.commitVersion),w.addEntry(q)))})}),L.next(()=>f.mutationQueue.removeMutationBatch(g,S))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let g=Re();for(let v=0;v<f.mutationResults.length;++v)f.mutationResults[v].transformResults.length>0&&(g=g.add(f.batch.mutations[v].key));return g}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function Kv(r){const e=Ee(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function GS(r,e){const t=Ee(r),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const f=[];e.targetChanges.forEach((w,S)=>{const A=o.get(S);if(!A)return;f.push(t.Hr.removeMatchingKeys(u,w.removedDocuments,S).next(()=>t.Hr.addMatchingKeys(u,w.addedDocuments,S)));let L=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?L=L.withResumeToken(Pt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):w.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(w.resumeToken,s)),o=o.insert(S,L),function(q,z,Q){return q.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=qS?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(A,L,w)&&f.push(t.Hr.updateTargetData(u,L))});let g=Cr(),v=Re();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(u,w))}),f.push(QS(u,h,e.documentUpdates).next(w=>{g=w.Vs,v=w.fs})),!s.isEqual(we.min())){const w=t.Hr.getLastRemoteSnapshotVersion(u).next(S=>t.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));f.push(w)}return W.waitFor(f).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,g,v)).next(()=>g)}).then(u=>(t.Ts=o,u))}function QS(r,e,t){let s=Re(),o=Re();return t.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let h=Cr();return t.forEach((f,g)=>{const v=u.get(f);g.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(f)),g.isNoDocument()&&g.version.isEqual(we.min())?(e.removeEntry(f,g.readTime),h=h.insert(f,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),h=h.insert(f,g)):oe(Wd,"Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",g.version)}),{Vs:h,fs:o}})}function YS(r,e){const t=Ee(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Dd),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function XS(r,e){const t=Ee(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(u=>u?(o=u,W.resolve(o)):t.Hr.allocateTargetId(s).next(h=>(o=new Zr(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function dd(r,e,t){const s=Ee(r),o=s.Ts.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!lo(h))throw h;oe(Wd,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function Ng(r,e,t){const s=Ee(r);let o=we.min(),u=Re();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,v,w){const S=Ee(g),A=S.Is.get(w);return A!==void 0?W.resolve(S.Ts.get(A)):S.Hr.getTargetData(v,w)}(s,h,Jn(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,f.targetId).next(g=>{u=g})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,t?o:we.min(),t?u:Re())).next(f=>(JS(s,FI(e),f),{documents:f,gs:u})))}function JS(r,e,t){let s=r.Es.get(e)||we.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class Vg{constructor(){this.activeTargetIds=$I()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZS{constructor(){this.ho=new Vg,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Vg,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="ConnectivityMonitor";class Lg{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){oe(Dg,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){oe(Dg,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ru=null;function fd(){return ru===null?ru=function(){return 268435456+Math.round(2147483648*Math.random())}():ru++,"0x"+ru.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h="RestConnection",tA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nA{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===wu?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,t,s,o,u){const h=fd(),f=this.bo(e,t.toUriEncodedString());oe($h,`Sending RPC '${e}' ${h}:`,f,s);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,o,u),this.vo(e,f,g,s).then(v=>(oe($h,`Received RPC '${e}' ${h}: `,v),v),v=>{throw Xs($h,`RPC '${e}' ${h} failed with error: `,v,"url: ",f,"request:",s),v})}Co(e,t,s,o,u,h){return this.So(e,t,s,o,u)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+oo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,t){const s=tA[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class iA extends nA{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const u=fd();return new Promise((h,f)=>{const g=new Yy;g.setWithCredentials(!0),g.listenOnce(Xy.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case au.NO_ERROR:const w=g.getResponseJson();oe(Mt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),h(w);break;case au.TIMEOUT:oe(Mt,`RPC '${e}' ${u} timed out`),f(new le(G.DEADLINE_EXCEEDED,"Request time out"));break;case au.HTTP_ERROR:const S=g.getStatus();if(oe(Mt,`RPC '${e}' ${u} failed with status:`,S,"response text:",g.getResponseText()),S>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const L=A==null?void 0:A.error;if(L&&L.status&&L.message){const j=function(z){const Q=z.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(Q)>=0?Q:G.UNKNOWN}(L.status);f(new le(j,L.message))}else f(new le(G.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new le(G.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{oe(Mt,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(o);oe(Mt,`RPC '${e}' ${u} sending request:`,o),g.send(t,"POST",v,s,15)})}Wo(e,t,s){const o=fd(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=ev(),f=Zy(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const w=u.join("");oe(Mt,`Creating RPC '${e}' stream ${o}: ${w}`,g);const S=h.createWebChannel(w,g);let A=!1,L=!1;const j=new rA({Fo:z=>{L?oe(Mt,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(A||(oe(Mt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),A=!0),oe(Mt,`RPC '${e}' stream ${o} sending:`,z),S.send(z))},Mo:()=>S.close()}),q=(z,Q,J)=>{z.listen(Q,re=>{try{J(re)}catch(fe){setTimeout(()=>{throw fe},0)}})};return q(S,ua.EventType.OPEN,()=>{L||(oe(Mt,`RPC '${e}' stream ${o} transport opened.`),j.Qo())}),q(S,ua.EventType.CLOSE,()=>{L||(L=!0,oe(Mt,`RPC '${e}' stream ${o} transport closed`),j.Ko())}),q(S,ua.EventType.ERROR,z=>{L||(L=!0,Xs(Mt,`RPC '${e}' stream ${o} transport errored:`,z),j.Ko(new le(G.UNAVAILABLE,"The operation could not be completed")))}),q(S,ua.EventType.MESSAGE,z=>{var Q;if(!L){const J=z.data[0];be(!!J);const re=J,fe=(re==null?void 0:re.error)||((Q=re[0])===null||Q===void 0?void 0:Q.error);if(fe){oe(Mt,`RPC '${e}' stream ${o} received error:`,fe);const Ce=fe.status;let Te=function(C){const k=at[C];if(k!==void 0)return Lv(k)}(Ce),x=fe.message;Te===void 0&&(Te=G.INTERNAL,x="Unknown error status: "+Ce+" with message "+fe.message),L=!0,j.Ko(new le(Te,x)),S.close()}else oe(Mt,`RPC '${e}' stream ${o} received:`,J),j.Uo(J)}}),q(f,Jy.STAT_EVENT,z=>{z.stat===td.PROXY?oe(Mt,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===td.NOPROXY&&oe(Mt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{j.$o()},0),j}}function qh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(r){return new lS(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="PersistentStream";class Qv{constructor(e,t,s,o,u,h,f,g){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Gv(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===G.RESOURCE_EXHAUSTED?(Ar(t.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new le(G.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return oe(Mg,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(oe(Mg,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sA extends Qv{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=hS(this.serializer,e),s=function(u){if(!("targetChange"in u))return we.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?Zn(h.readTime):we.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=hd(this.serializer),t.addTarget=function(u,h){let f;const g=h.target;if(f=sd(g)?{documents:pS(u,g)}:{query:mS(u,g).ht},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=Fv(u,h.resumeToken);const v=ld(u,h.expectedCount);v!==null&&(f.expectedCount=v)}else if(h.snapshotVersion.compareTo(we.min())>0){f.readTime=Cu(u,h.snapshotVersion.toTimestamp());const v=ld(u,h.expectedCount);v!==null&&(f.expectedCount=v)}return f}(this.serializer,e);const s=yS(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=hd(this.serializer),t.removeTarget=e,this.I_(t)}}class oA extends Qv{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return be(!!e.streamToken),this.lastStreamToken=e.streamToken,be(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=fS(e.writeResults,e.commitTime),s=Zn(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=hd(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>dS(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{}class lA extends aA{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new le(G.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.So(e,ud(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(G.UNKNOWN,u.toString())})}Co(e,t,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,f])=>this.connection.Co(e,ud(t,s),o,h,f,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new le(G.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class uA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ar(t),this.N_=!1):oe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi="RemoteStore";class cA{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{s.enqueueAndForget(async()=>{Zi(this)&&(oe(Xi,"Restarting streams for network reachability change."),await async function(g){const v=Ee(g);v.W_.add(4),await Da(v),v.j_.set("Unknown"),v.W_.delete(4),await Qu(v)}(this))})}),this.j_=new uA(s,o)}}async function Qu(r){if(Zi(r))for(const e of r.G_)await e(!0)}async function Da(r){for(const e of r.G_)await e(!1)}function Yv(r,e){const t=Ee(r);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Yd(t)?Qd(t):uo(t).c_()&&Gd(t,e))}function Kd(r,e){const t=Ee(r),s=uo(t);t.U_.delete(e),s.c_()&&Xv(t,e),t.U_.size===0&&(s.c_()?s.P_():Zi(t)&&t.j_.set("Unknown"))}function Gd(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}uo(r).y_(e)}function Xv(r,e){r.H_.Ne(e),uo(r).w_(e)}function Qd(r){r.H_=new iS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),uo(r).start(),r.j_.B_()}function Yd(r){return Zi(r)&&!uo(r).u_()&&r.U_.size>0}function Zi(r){return Ee(r).W_.size===0}function Jv(r){r.H_=void 0}async function hA(r){r.j_.set("Online")}async function dA(r){r.U_.forEach((e,t)=>{Gd(r,e)})}async function fA(r,e){Jv(r),Yd(r)?(r.j_.q_(e),Qd(r)):r.j_.set("Unknown")}async function pA(r,e,t){if(r.j_.set("Online"),e instanceof Ov&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const f of u.targetIds)o.U_.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.U_.delete(f),o.H_.removeTarget(f))}(r,e)}catch(s){oe(Xi,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Pu(r,s)}else if(e instanceof hu?r.H_.We(e):e instanceof Mv?r.H_.Ze(e):r.H_.je(e),!t.isEqual(we.min()))try{const s=await Kv(r.localStore);t.compareTo(s)>=0&&await function(u,h){const f=u.H_.ot(h);return f.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const w=u.U_.get(v);w&&u.U_.set(v,w.withResumeToken(g.resumeToken,h))}}),f.targetMismatches.forEach((g,v)=>{const w=u.U_.get(g);if(!w)return;u.U_.set(g,w.withResumeToken(Pt.EMPTY_BYTE_STRING,w.snapshotVersion)),Xv(u,g);const S=new Zr(w.target,g,v,w.sequenceNumber);Gd(u,S)}),u.remoteSyncer.applyRemoteEvent(f)}(r,t)}catch(s){oe(Xi,"Failed to raise snapshot:",s),await Pu(r,s)}}async function Pu(r,e,t){if(!lo(e))throw e;r.W_.add(1),await Da(r),r.j_.set("Offline"),t||(t=()=>Kv(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{oe(Xi,"Retrying IndexedDB access"),await t(),r.W_.delete(1),await Qu(r)})}function Zv(r,e){return e().catch(t=>Pu(r,t,e))}async function Yu(r){const e=Ee(r),t=hi(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:Dd;for(;mA(e);)try{const o=await YS(e.localStore,s);if(o===null){e.K_.length===0&&t.P_();break}s=o.batchId,gA(e,o)}catch(o){await Pu(e,o)}e_(e)&&t_(e)}function mA(r){return Zi(r)&&r.K_.length<10}function gA(r,e){r.K_.push(e);const t=hi(r);t.c_()&&t.S_&&t.b_(e.mutations)}function e_(r){return Zi(r)&&!hi(r).u_()&&r.K_.length>0}function t_(r){hi(r).start()}async function yA(r){hi(r).C_()}async function vA(r){const e=hi(r);for(const t of r.K_)e.b_(t.mutations)}async function _A(r,e,t){const s=r.K_.shift(),o=Ud.from(s,e,t);await Zv(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Yu(r)}async function wA(r,e){e&&hi(r).S_&&await async function(s,o){if(function(h){return tS(h)&&h!==G.ABORTED}(o.code)){const u=s.K_.shift();hi(s).h_(),await Zv(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Yu(s)}}(r,e),e_(r)&&t_(r)}async function Og(r,e){const t=Ee(r);t.asyncQueue.verifyOperationInProgress(),oe(Xi,"RemoteStore received new credentials");const s=Zi(t);t.W_.add(3),await Da(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Qu(t)}async function EA(r,e){const t=Ee(r);e?(t.W_.delete(2),await Qu(t)):e||(t.W_.add(2),await Da(t),t.j_.set("Unknown"))}function uo(r){return r.J_||(r.J_=function(t,s,o){const u=Ee(t);return u.M_(),new sA(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:hA.bind(null,r),No:dA.bind(null,r),Lo:fA.bind(null,r),p_:pA.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Yd(r)?Qd(r):r.j_.set("Unknown")):(await r.J_.stop(),Jv(r))})),r.J_}function hi(r){return r.Y_||(r.Y_=function(t,s,o){const u=Ee(t);return u.M_(),new oA(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:yA.bind(null,r),Lo:wA.bind(null,r),D_:vA.bind(null,r),v_:_A.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Yu(r)):(await r.Y_.stop(),r.K_.length>0&&(oe(Xi,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,f=new Xd(e,t,h,o,u);return f.start(s),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jd(r,e){if(Ar("AsyncQueue",`${e}: ${r}`),lo(r))return new le(G.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{static emptySet(e){return new Ys(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||pe.comparator(t.key,s.key):(t,s)=>pe.comparator(t.key,s.key),this.keyedMap=ca(),this.sortedSet=new Ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ys)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Ys;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(){this.Z_=new Ze(pe.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):ve():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class no{constructor(e,t,s,o,u,h,f,g,v){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(f=>{h.push({type:0,doc:f})}),new no(e,t,Ys.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$u(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class IA{constructor(){this.queries=bg(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=Ee(t),u=o.queries;o.queries=bg(),u.forEach((h,f)=>{for(const g of f.ta)g.onError(s)})})(this,new le(G.ABORTED,"Firestore shutting down"))}}function bg(){return new Ji(r=>Tv(r),$u)}async function SA(r,e){const t=Ee(r);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new TA,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await t.onListen(o,!0);break;case 1:u.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=Jd(h,`Initialization of query '${Ks(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,u),u.ta.push(e),e.sa(t.onlineState),u.ea&&e.oa(u.ea)&&Zd(t)}async function AA(r,e){const t=Ee(r),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function CA(r,e){const t=Ee(r);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const f of h.ta)f.oa(o)&&(s=!0);h.ea=o}}s&&Zd(t)}function RA(r,e,t){const s=Ee(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(t);s.queries.delete(e)}function Zd(r){r.ia.forEach(e=>{e.next()})}var pd,jg;(jg=pd||(pd={}))._a="default",jg.Cache="cache";class PA{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new no(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=no.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==pd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e){this.key=e}}class r_{constructor(e){this.key=e}}class kA{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Re(),this.mutatedKeys=Re(),this.ya=Iv(e),this.wa=new Ys(this.ya)}get Sa(){return this.fa}ba(e,t){const s=t?t.Da:new Fg,o=t?t.wa:this.wa;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((w,S)=>{const A=o.get(w),L=qu(this.query,S)?S:null,j=!!A&&this.mutatedKeys.has(A.key),q=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let z=!1;A&&L?A.data.isEqual(L.data)?j!==q&&(s.track({type:3,doc:L}),z=!0):this.va(A,L)||(s.track({type:2,doc:L}),z=!0,(g&&this.ya(L,g)>0||v&&this.ya(L,v)<0)&&(f=!0)):!A&&L?(s.track({type:0,doc:L}),z=!0):A&&!L&&(s.track({type:1,doc:A}),z=!0,(g||v)&&(f=!0)),z&&(L?(h=h.add(L),u=q?u.add(w):u.delete(w)):(h=h.delete(w),u=u.delete(w)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),u=u.delete(w.key),s.track({type:1,doc:w})}return{wa:h,Da:s,ls:f,mutatedKeys:u}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((w,S)=>function(L,j){const q=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return q(L)-q(j)}(w.type,S.type)||this.ya(w.doc,S.doc)),this.Ca(s),o=o!=null&&o;const f=t&&!o?this.Fa():[],g=this.pa.size===0&&this.current&&!o?1:0,v=g!==this.ga;return this.ga=g,h.length!==0||v?{snapshot:new no(this.query,e.wa,u,h,e.mutatedKeys,g===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Fg,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Re(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new r_(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new n_(s))}),t}Oa(e){this.fa=e.gs,this.pa=Re();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return no.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const ef="SyncEngine";class xA{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class NA{constructor(e){this.key=e,this.Ba=!1}}class VA{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new Ji(f=>Tv(f),$u),this.qa=new Map,this.Qa=new Set,this.$a=new Ze(pe.comparator),this.Ka=new Map,this.Ua=new $d,this.Wa={},this.Ga=new Map,this.za=to.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function DA(r,e,t=!0){const s=u_(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await i_(s,e,t,!0),o}async function LA(r,e){const t=u_(r);await i_(t,e,!0,!1)}async function i_(r,e,t,s){const o=await XS(r.localStore,Jn(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,t);let f;return s&&(f=await MA(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&Yv(r.remoteStore,o),f}async function MA(r,e,t,s,o){r.Ha=(S,A,L)=>async function(q,z,Q,J){let re=z.view.ba(Q);re.ls&&(re=await Ng(q.localStore,z.query,!1).then(({documents:x})=>z.view.ba(x,re)));const fe=J&&J.targetChanges.get(z.targetId),Ce=J&&J.targetMismatches.get(z.targetId)!=null,Te=z.view.applyChanges(re,q.isPrimaryClient,fe,Ce);return zg(q,z.targetId,Te.Ma),Te.snapshot}(r,S,A,L);const u=await Ng(r.localStore,e,!0),h=new kA(e,u.gs),f=h.ba(u.documents),g=Va.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),v=h.applyChanges(f,r.isPrimaryClient,g);zg(r,t,v.Ma);const w=new xA(e,t,h);return r.ka.set(e,w),r.qa.has(t)?r.qa.get(t).push(e):r.qa.set(t,[e]),v.snapshot}async function OA(r,e,t){const s=Ee(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(h=>!$u(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await dd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Kd(s.remoteStore,o.targetId),md(s,o.targetId)}).catch(ao)):(md(s,o.targetId),await dd(s.localStore,o.targetId,!0))}async function FA(r,e){const t=Ee(r),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Kd(t.remoteStore,s.targetId))}async function bA(r,e,t){const s=HA(r);try{const o=await function(h,f){const g=Ee(h),v=pt.now(),w=f.reduce((L,j)=>L.add(j.key),Re());let S,A;return g.persistence.runTransaction("Locally write mutations","readwrite",L=>{let j=Cr(),q=Re();return g.ds.getEntries(L,w).next(z=>{j=z,j.forEach((Q,J)=>{J.isValidDocument()||(q=q.add(Q))})}).next(()=>g.localDocuments.getOverlayedDocuments(L,j)).next(z=>{S=z;const Q=[];for(const J of f){const re=YI(J,S.get(J.key).overlayedDocument);re!=null&&Q.push(new mi(J.key,re,fv(re.value.mapValue),Fn.exists(!0)))}return g.mutationQueue.addMutationBatch(L,v,Q,f)}).next(z=>{A=z;const Q=z.applyToLocalDocumentSet(S,q);return g.documentOverlayCache.saveOverlays(L,z.batchId,Q)})}).then(()=>({batchId:A.batchId,changes:Av(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,f,g){let v=h.Wa[h.currentUser.toKey()];v||(v=new Ze(ke)),v=v.insert(f,g),h.Wa[h.currentUser.toKey()]=v}(s,o.batchId,t),await La(s,o.changes),await Yu(s.remoteStore)}catch(o){const u=Jd(o,"Failed to persist write");t.reject(u)}}async function s_(r,e){const t=Ee(r);try{const s=await GS(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Ka.get(u);h&&(be(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?be(h.Ba):o.removedDocuments.size>0&&(be(h.Ba),h.Ba=!1))}),await La(t,s,e)}catch(s){await ao(s)}}function Ug(r,e,t){const s=Ee(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((u,h)=>{const f=h.view.sa(e);f.snapshot&&o.push(f.snapshot)}),function(h,f){const g=Ee(h);g.onlineState=f;let v=!1;g.queries.forEach((w,S)=>{for(const A of S.ta)A.sa(f)&&(v=!0)}),v&&Zd(g)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function jA(r,e,t){const s=Ee(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ka.get(e),u=o&&o.key;if(u){let h=new Ze(pe.comparator);h=h.insert(u,Ft.newNoDocument(u,we.min()));const f=Re().add(u),g=new Ku(we.min(),new Map,new Ze(ke),h,f);await s_(s,g),s.$a=s.$a.remove(u),s.Ka.delete(e),tf(s)}else await dd(s.localStore,e,!1).then(()=>md(s,e,t)).catch(ao)}async function UA(r,e){const t=Ee(r),s=e.batch.batchId;try{const o=await KS(t.localStore,e);a_(t,s,null),o_(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await La(t,o)}catch(o){await ao(o)}}async function zA(r,e,t){const s=Ee(r);try{const o=await function(h,f){const g=Ee(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let w;return g.mutationQueue.lookupMutationBatch(v,f).next(S=>(be(S!==null),w=S.keys(),g.mutationQueue.removeMutationBatch(v,S))).next(()=>g.mutationQueue.performConsistencyCheck(v)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(v,w,f)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w)).next(()=>g.localDocuments.getDocuments(v,w))})}(s.localStore,e);a_(s,e,t),o_(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await La(s,o)}catch(o){await ao(o)}}function o_(r,e){(r.Ga.get(e)||[]).forEach(t=>{t.resolve()}),r.Ga.delete(e)}function a_(r,e,t){const s=Ee(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function md(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),t&&r.La.Ja(s,t);r.qa.delete(e),r.isPrimaryClient&&r.Ua.br(e).forEach(s=>{r.Ua.containsKey(s)||l_(r,s)})}function l_(r,e){r.Qa.delete(e.path.canonicalString());const t=r.$a.get(e);t!==null&&(Kd(r.remoteStore,t),r.$a=r.$a.remove(e),r.Ka.delete(t),tf(r))}function zg(r,e,t){for(const s of t)s instanceof n_?(r.Ua.addReference(s.key,e),BA(r,s)):s instanceof r_?(oe(ef,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||l_(r,s.key)):ve()}function BA(r,e){const t=e.key,s=t.path.canonicalString();r.$a.get(t)||r.Qa.has(s)||(oe(ef,"New document in limbo: "+t),r.Qa.add(s),tf(r))}function tf(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const t=new pe(Ke.fromString(e)),s=r.za.next();r.Ka.set(s,new NA(t)),r.$a=r.$a.insert(t,s),Yv(r.remoteStore,new Zr(Jn(wv(t.path)),s,"TargetPurposeLimboResolution",Uu.ae))}}async function La(r,e,t){const s=Ee(r),o=[],u=[],h=[];s.ka.isEmpty()||(s.ka.forEach((f,g)=>{h.push(s.Ha(g,e,t).then(v=>{var w;if((v||t)&&s.isPrimaryClient){const S=v?!v.fromCache:(w=t==null?void 0:t.targetChanges.get(g.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(v){o.push(v);const S=Hd.Yi(g.targetId,v);u.push(S)}}))}),await Promise.all(h),s.La.p_(o),await async function(g,v){const w=Ee(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>W.forEach(v,A=>W.forEach(A.Hi,L=>w.persistence.referenceDelegate.addReference(S,A.targetId,L)).next(()=>W.forEach(A.Ji,L=>w.persistence.referenceDelegate.removeReference(S,A.targetId,L)))))}catch(S){if(!lo(S))throw S;oe(Wd,"Failed to update sequence numbers: "+S)}for(const S of v){const A=S.targetId;if(!S.fromCache){const L=w.Ts.get(A),j=L.snapshotVersion,q=L.withLastLimboFreeSnapshotVersion(j);w.Ts=w.Ts.insert(A,q)}}}(s.localStore,u))}async function $A(r,e){const t=Ee(r);if(!t.currentUser.isEqual(e)){oe(ef,"User change. New user:",e.toKey());const s=await Wv(t.localStore,e);t.currentUser=e,function(u,h){u.Ga.forEach(f=>{f.forEach(g=>{g.reject(new le(G.CANCELLED,h))})}),u.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await La(t,s.Rs)}}function qA(r,e){const t=Ee(r),s=t.Ka.get(e);if(s&&s.Ba)return Re().add(s.key);{let o=Re();const u=t.qa.get(e);if(!u)return o;for(const h of u){const f=t.ka.get(h);o=o.unionWith(f.view.Sa)}return o}}function u_(r){const e=Ee(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=s_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jA.bind(null,e),e.La.p_=CA.bind(null,e.eventManager),e.La.Ja=RA.bind(null,e.eventManager),e}function HA(r){const e=Ee(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zA.bind(null,e),e}class ku{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gu(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return WS(this.persistence,new $S,e.initialUser,this.serializer)}Xa(e){return new Hv(qd.ri,this.serializer)}Za(e){return new ZS}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ku.provider={build:()=>new ku};class WA extends ku{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){be(this.persistence.referenceDelegate instanceof Ru);const s=this.persistence.referenceDelegate.garbageCollector;return new PS(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Xt.withCacheSize(this.cacheSizeBytes):Xt.DEFAULT;return new Hv(s=>Ru.ri(s,t),this.serializer)}}class gd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Ug(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=$A.bind(null,this.syncEngine),await EA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new IA}()}createDatastore(e){const t=Gu(e.databaseInfo.databaseId),s=function(u){return new iA(u)}(e.databaseInfo);return function(u,h,f,g){return new lA(u,h,f,g)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,f){return new cA(s,o,u,h,f)}(this.localStore,this.datastore,e.asyncQueue,t=>Ug(this.syncEngine,t,0),function(){return Lg.D()?new Lg:new eA}())}createSyncEngine(e,t){return function(o,u,h,f,g,v,w){const S=new VA(o,u,h,f,g,v);return w&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Ee(o);oe(Xi,"RemoteStore shutting down."),u.W_.add(5),await Da(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}gd.provider={build:()=>new gd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ar("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di="FirestoreClient";class GA{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Ot.UNAUTHENTICATED,this.clientId=nv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{oe(di,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(oe(di,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Jd(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Hh(r,e){r.asyncQueue.verifyOperationInProgress(),oe(di,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Wv(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Bg(r,e){r.asyncQueue.verifyOperationInProgress();const t=await QA(r);oe(di,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>Og(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Og(e.remoteStore,o)),r._onlineComponents=e}async function QA(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){oe(di,"Using user provided OfflineComponentProvider");try{await Hh(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===G.FAILED_PRECONDITION||o.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Xs("Error using user provided cache. Falling back to memory cache: "+t),await Hh(r,new ku)}}else oe(di,"Using default OfflineComponentProvider"),await Hh(r,new WA(void 0));return r._offlineComponents}async function c_(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(oe(di,"Using user provided OnlineComponentProvider"),await Bg(r,r._uninitializedComponentsProvider._online)):(oe(di,"Using default OnlineComponentProvider"),await Bg(r,new gd))),r._onlineComponents}function YA(r){return c_(r).then(e=>e.syncEngine)}async function XA(r){const e=await c_(r),t=e.eventManager;return t.onListen=DA.bind(null,e.syncEngine),t.onUnlisten=OA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=LA.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=FA.bind(null,e.syncEngine),t}function JA(r,e,t={}){const s=new ri;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,f,g,v){const w=new KA({next:A=>{w.su(),h.enqueueAndForget(()=>AA(u,S)),A.fromCache&&g.source==="server"?v.reject(new le(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(A)},error:A=>v.reject(A)}),S=new PA(f,w,{includeMetadataChanges:!0,Ta:!0});return SA(u,S)}(await XA(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(r,e,t){if(!t)throw new le(G.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function ZA(r,e,t,s){if(e===!0&&s===!0)throw new le(G.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function qg(r){if(!pe.isDocumentKey(r))throw new le(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Hg(r){if(pe.isDocumentKey(r))throw new le(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Xu(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ve()}function xu(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Xu(r);throw new le(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="firestore.googleapis.com",Wg=!0;class Kg{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new le(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=f_,this.ssl=Wg}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Wg;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CS)throw new le(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=h_((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new le(G.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new le(G.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new le(G.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ju{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kg(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new iI;switch(s.type){case"firstParty":return new lI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=$g.get(t);s&&(oe("ComponentProvider","Removing Datastore"),$g.delete(t),s.terminate())}(this),Promise.resolve()}}function eC(r,e,t,s={}){var o;const u=(r=xu(r,Ju))._getSettings(),h=`${e}:${t}`;if(u.host!==f_&&u.host!==h&&Xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),s.mockUserToken){let f,g;if(typeof s.mockUserToken=="string")f=s.mockUserToken,g=Ot.MOCK_USER;else{f=mE(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new le(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ot(v)}r._authCredentials=new sI(new tv(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new co(this.firestore,e,this._query)}}class wn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ii(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class ii extends co{constructor(e,t,s){super(e,t,wv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new pe(e))}withConverter(e){return new ii(this.firestore,e,this._path)}}function Nu(r,e,...t){if(r=En(r),d_("collection","path",e),r instanceof Ju){const s=Ke.fromString(e,...t);return Hg(s),new ii(r,null,s)}{if(!(r instanceof wn||r instanceof ii))throw new le(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ke.fromString(e,...t));return Hg(s),new ii(r.firestore,null,s)}}function Gg(r,e,...t){if(r=En(r),arguments.length===1&&(e=nv.newId()),d_("doc","path",e),r instanceof Ju){const s=Ke.fromString(e,...t);return qg(s),new wn(r,null,new pe(s))}{if(!(r instanceof wn||r instanceof ii))throw new le(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ke.fromString(e,...t));return qg(s),new wn(r.firestore,r instanceof ii?r.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg="AsyncQueue";class Yg{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Gv(this,"async_queue_retry"),this.Su=()=>{const s=qh();s&&oe(Qg,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const t=qh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=qh();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new ri;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!lo(e))throw e;oe(Qg,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(h){let f=h.message||"";return h.stack&&(f=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),f}(s);throw Ar("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=Xd.createAndSchedule(this,e,t,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&ve()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class nf extends Ju{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Yg,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Yg(e),this._firestoreClient=void 0,await e}}}function tC(r,e){const t=typeof r=="object"?r:Sy(),s=typeof r=="string"?r:wu,o=ka(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=fE("firestore");u&&eC(o,...u)}return o}function rf(r){if(r._terminated)throw new le(G.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||nC(r),r._firestoreClient}function nC(r){var e,t,s;const o=r._freezeSettings(),u=function(f,g,v,w){return new TI(f,g,v,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,h_(w.experimentalLongPollingOptions),w.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new GA(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(f){const g=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ro(Pt.fromBase64String(e))}catch(t){throw new le(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ro(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new le(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new le(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new le(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=/^__.*__$/;class iC{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new mi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Na(e,this.data,t,this.fieldTransforms)}}class p_{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new mi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function m_(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class lf{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new lf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Vu(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(m_(this.Lu)&&rC.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class sC{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Gu(e)}ju(e,t,s,o=!1){return new lf({Lu:e,methodName:t,zu:s,path:Rt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function g_(r){const e=r._freezeSettings(),t=Gu(r._databaseId);return new sC(r._databaseId,!!e.ignoreUndefinedProperties,t)}function oC(r,e,t,s,o,u={}){const h=r.ju(u.merge||u.mergeFields?2:0,e,t,o);uf("Data must be an object, but it was:",h,s);const f=y_(s,h);let g,v;if(u.merge)g=new ln(h.fieldMask),v=h.fieldTransforms;else if(u.mergeFields){const w=[];for(const S of u.mergeFields){const A=yd(e,S,t);if(!h.contains(A))throw new le(G.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);__(w,A)||w.push(A)}g=new ln(w),v=h.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,v=h.fieldTransforms;return new iC(new Jt(f),g,v)}class ec extends sf{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ec}}function aC(r,e,t,s){const o=r.ju(1,e,t);uf("Data must be an object, but it was:",o,s);const u=[],h=Jt.empty();pi(s,(g,v)=>{const w=cf(e,g,t);v=En(v);const S=o.Ku(w);if(v instanceof ec)u.push(w);else{const A=Ma(v,S);A!=null&&(u.push(w),h.set(w,A))}});const f=new ln(u);return new p_(h,f,o.fieldTransforms)}function lC(r,e,t,s,o,u){const h=r.ju(1,e,t),f=[yd(e,s,t)],g=[o];if(u.length%2!=0)throw new le(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)f.push(yd(e,u[A])),g.push(u[A+1]);const v=[],w=Jt.empty();for(let A=f.length-1;A>=0;--A)if(!__(v,f[A])){const L=f[A];let j=g[A];j=En(j);const q=h.Ku(L);if(j instanceof ec)v.push(L);else{const z=Ma(j,q);z!=null&&(v.push(L),w.set(L,z))}}const S=new ln(v);return new p_(w,S,h.fieldTransforms)}function uC(r,e,t,s=!1){return Ma(t,r.ju(s?4:3,e))}function Ma(r,e){if(v_(r=En(r)))return uf("Unsupported field value:",e,r),y_(r,e);if(r instanceof sf)return function(s,o){if(!m_(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const f of s){let g=Ma(f,o.Uu(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=En(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return qI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=pt.fromDate(s);return{timestampValue:Cu(o.serializer,u)}}if(s instanceof pt){const u=new pt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Cu(o.serializer,u)}}if(s instanceof of)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ro)return{bytesValue:Fv(o.serializer,s._byteString)};if(s instanceof wn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Bd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof af)return function(h,f){return{mapValue:{fields:{[cv]:{stringValue:dv},[Eu]:{arrayValue:{values:h.toArray().map(v=>{if(typeof v!="number")throw f.Wu("VectorValues must only contain numeric values.");return bd(f.serializer,v)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Xu(s)}`)}(r,e)}function y_(r,e){const t={};return iv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pi(r,(s,o)=>{const u=Ma(o,e.qu(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function v_(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof pt||r instanceof of||r instanceof ro||r instanceof wn||r instanceof sf||r instanceof af)}function uf(r,e,t){if(!v_(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=Xu(t);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function yd(r,e,t){if((e=En(e))instanceof Zu)return e._internalPath;if(typeof e=="string")return cf(r,e);throw Vu("Field path arguments must be of type string or ",r,!1,void 0,t)}const cC=new RegExp("[~\\*/\\[\\]]");function cf(r,e,t){if(e.search(cC)>=0)throw Vu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Zu(...e.split("."))._internalPath}catch{throw Vu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Vu(r,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new le(G.INVALID_ARGUMENT,f+r+g)}function __(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class hC extends w_{data(){return super.data()}}function hf(r,e){return typeof e=="string"?cf(r,e):e instanceof Zu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class df{}class fC extends df{}function pC(r,e,...t){let s=[];e instanceof df&&s.push(e),s=s.concat(t),function(u){const h=u.filter(g=>g instanceof ff).length,f=u.filter(g=>g instanceof tc).length;if(h>1||h>0&&f>0)throw new le(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class tc extends fC{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new tc(e,t,s)}_apply(e){const t=this._parse(e);return E_(e._query,t),new co(e.firestore,e.converter,od(e._query,t))}_parse(e){const t=g_(e.firestore);return function(u,h,f,g,v,w,S){let A;if(v.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new le(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){Jg(S,w);const j=[];for(const q of S)j.push(Xg(g,u,q));A={arrayValue:{values:j}}}else A=Xg(g,u,S)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||Jg(S,w),A=uC(f,h,S,w==="in"||w==="not-in");return lt.create(v,w,A)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function mC(r,e,t){const s=e,o=hf("where",r);return tc._create(o,s,t)}class ff extends df{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ff(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:bn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const f=u.getFlattenedFilters();for(const g of f)E_(h,g),h=od(h,g)}(e._query,t),new co(e.firestore,e.converter,od(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Xg(r,e,t){if(typeof(t=En(t))=="string"){if(t==="")throw new le(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ev(e)&&t.indexOf("/")!==-1)throw new le(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Ke.fromString(t));if(!pe.isDocumentKey(s))throw new le(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return dg(r,new pe(s))}if(t instanceof wn)return dg(r,t._key);throw new le(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xu(t)}.`)}function Jg(r,e){if(!Array.isArray(r)||r.length===0)throw new le(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function E_(r,e){const t=function(o,u){for(const h of o)for(const f of h.getFlattenedFilters())if(u.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new le(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class gC{convertValue(e,t="none"){switch(ci(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ui(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ve()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return pi(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Eu].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>it(h.doubleValue));return new af(u)}convertGeoPoint(e){return new of(it(e.latitude),it(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Bu(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Ea(e));default:return null}}convertTimestamp(e){const t=li(e);return new pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ke.fromString(e);be($v(s));const o=new Ta(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(t)||Ar(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vC extends w_{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new du(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(hf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class du extends vC{data(e={}){return super.data(e)}}class _C{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new iu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new du(this._firestore,this._userDataWriter,s.key,s,new iu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new le(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(f=>{const g=new du(o._firestore,o._userDataWriter,f.doc.key,f.doc,new iu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>u||f.type!==3).map(f=>{const g=new du(o._firestore,o._userDataWriter,f.doc.key,f.doc,new iu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,w=-1;return f.type!==0&&(v=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),w=h.indexOf(f.doc.key)),{type:wC(f.type),doc:g,oldIndex:v,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function wC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}class EC extends gC{constructor(e){super(),this.firestore=e}convertBytes(e){return new ro(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,t)}}function T_(r){r=xu(r,co);const e=xu(r.firestore,nf),t=rf(e),s=new EC(e);return dC(r._query),JA(t,r._query).then(o=>new _C(e,s,r,o))}function TC(r,e){return function(s,o){const u=new ri;return s.asyncQueue.enqueueAndForget(async()=>bA(await YA(s),o,u)),u.promise}(rf(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=g_(e)}set(e,t,s){this._verifyNotCommitted();const o=Wh(e,this._firestore),u=yC(o.converter,t,s),h=oC(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(h.toMutation(o._key,Fn.none())),this}update(e,t,s,...o){this._verifyNotCommitted();const u=Wh(e,this._firestore);let h;return h=typeof(t=En(t))=="string"||t instanceof Zu?lC(this._dataReader,"WriteBatch.update",u._key,t,s,o):aC(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(h.toMutation(u._key,Fn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Wh(e,this._firestore);return this._mutations=this._mutations.concat(new jd(t._key,Fn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new le(G.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Wh(r,e){if((r=En(r)).firestore!==e)throw new le(G.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(r){return rf(r=xu(r,nf)),new IC(r,e=>TC(r,e))}(function(e,t=!0){(function(o){oo=o})(CT),oi(new Ir("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),f=new nf(new oI(s.getProvider("auth-internal")),new uI(h,s.getProvider("app-check-internal")),function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new le(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ta(v.options.projectId,w)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),f._setSettings(u),f},"PUBLIC").setMultipleInstances(!0)),Xn(tg,ng,e),Xn(tg,ng,"esm2017")})();const AC={apiKey:"AIzaSyCctttVWGUc5IBnmkH8U1kLGmSG1z-CpA0",authDomain:"ecommerce-suplementos-78176.firebaseapp.com",projectId:"ecommerce-suplementos-78176",storageBucket:"ecommerce-suplementos-78176.firebasestorage.app",messagingSenderId:"908532172304",appId:"1:908532172304:web:15b22e3cbdd8aa1f00ac95",measurementId:"G-L9HTD6TPZJ"},I_=Iy(AC);eI(I_);const ya=tC(I_);async function CC(){return(await T_(Nu(ya,"products"))).docs.map(t=>t.data())}const RC=async r=>{const e=SC(ya),{name:t,last_name:s,email:o,password:u,addressToRef:h}=r,{street:f,colonia:g}=h,v=Gg(Nu(ya,"users")),w=Gg(Nu(ya,"address")),S={name:t,last_name:s,email:o,password:u,addressRef:w},A={street:f,colonia:g};e.set(v,S),e.set(w,A);try{await e.commit(),console.log("Usuario creado correctamente")}catch(L){throw console.error("Error al crear usuario",L),L}};async function PC(r,e){let t=null;try{const s=pC(Nu(ya,"users"),mC("email","==",r)),o=await T_(s);if(o.empty)console.error("Usuario no encontrado");else{const h=o.docs[0].data();h.password===e?t=h:console.error("Contraseña incorrecta")}}catch(s){console.error("Error al obtener usuario",s)}finally{return t}}const kC=({onFilterChange:r})=>{const{quantityFinal:e}=H.useContext(Mu),{session:t,logout:s}=H.useContext(Ou),o=rr(),u=()=>{localStorage.setItem("preLocation",o.pathname)},h=()=>{s()},f=g=>()=>{r(g)};return D.jsx("header",{children:D.jsx("div",{className:"div_header_navegacion_principal",children:D.jsxs("section",{className:"navegacion_principal",children:[D.jsx("div",{className:"navegacion_logo navegacion_div",children:D.jsx(Yt,{to:"/ProjectGymReact/",children:D.jsx("img",{id:"logo",src:"/ProjectGymReact/img/Logo.png",alt:"logo"})})}),D.jsxs("div",{className:"div_column_navegacion",children:[D.jsx("div",{className:"navegacion_div",children:D.jsx(Yt,{onClick:f(""),className:"navegacion_a",to:"/ProjectGymReact/",children:D.jsx("p",{className:"navegacion_p",id:"inicio",children:"Todo"})})}),D.jsx("div",{className:"navegacion_div",children:D.jsx(Yt,{onClick:f("proteina"),className:"navegacion_a",to:"/ProjectGymReact/",children:D.jsx("p",{className:"navegacion_p",id:"sobre_mi",children:"Proteínas"})})}),D.jsx("div",{className:"navegacion_div",children:D.jsx(Yt,{onClick:f("creatina"),className:"navegacion_a",to:"/ProjectGymReact/",children:D.jsx("p",{className:"navegacion_p",id:"proyectos",children:"Creatinas"})})}),D.jsx("div",{className:"navegacion_div",children:D.jsx(Yt,{onClick:f("suplementos"),className:"navegacion_a",to:"/ProjectGymReact/",children:D.jsx("p",{id:"navegacion_p_last_child",className:"navegacion_p",children:"Suplementos y otros"})})})]}),D.jsx("div",{className:"navegacion_div div_column_iniciar_sesion_registro",children:t?D.jsx(Yt,{onClick:h,to:o.pathname,children:D.jsx("p",{className:"navegacion_p",children:"Cerrar sesión"})}):D.jsx(Yt,{onClick:u,to:"/ProjectGymReact/Login",children:D.jsx("p",{className:"navegacion_p",children:"Iniciar sesión"})})}),D.jsx("div",{className:"navegacion_div div_column_shopping_cart",children:D.jsx(Yt,{to:"/ProjectGymReact/CartSummary",children:D.jsxs("p",{className:"navegacion_p",children:[D.jsx("i",{className:"fa-solid fa-cart-shopping shopping_cart"}),e>0&&D.jsx("span",{className:"cart_count",children:e})]})})})]})})})},xC=()=>D.jsx("footer",{children:D.jsxs("div",{className:"div_principal_footer",children:[D.jsx("div",{}),D.jsx("div",{className:"div_footer_parrafo",children:D.jsx("p",{children:"© Todos los derechos reservados"})}),D.jsxs("div",{className:"div_img_footer",children:[D.jsx("a",{href:"https://www.linkedin.com/in/brandon-leonardo-adata-barrera",children:D.jsx("img",{className:"img_footer",src:"/ProjectGymReact/img/linkedin.webp",alt:"Mi linkedin"})}),D.jsx("a",{href:"https://github.com/rangerLeonardo",children:D.jsx("img",{className:"img_footer",src:"/ProjectGymReact/img/github-gris_1.webp",alt:"Mi github"})}),D.jsx("a",{href:"mailto:brandonleonardobarrera@gmail.com",children:D.jsx("img",{className:"img_footer",src:"/ProjectGymReact/img/gmail.webp",alt:"Mi email"})})]})]})}),NC=({filter:r})=>{const[e,t]=H.useState([]);return H.useEffect(()=>{(async()=>{try{const u=(await CC()).filter(h=>h.type.toLowerCase().includes(r.toLowerCase()));t(u)}catch(o){console.error("Error al obtener productos:",o)}})()},[r]),D.jsxs("div",{className:"store-container-wrapper",children:[D.jsx("div",{}),D.jsx("div",{className:"store-container",children:D.jsx("ul",{className:"ul_itemslist",children:e.map(s=>D.jsxs("li",{className:"li_itemslist",children:[D.jsxs("div",{children:[D.jsx("div",{children:D.jsx("img",{className:"li_img_product",src:s.img,alt:s.desc})}),D.jsx("div",{children:D.jsx("h3",{children:s.name})}),D.jsx("div",{children:D.jsxs("h4",{children:["$",s.price]})})]}),D.jsx("div",{className:"div_details_and_cart",children:D.jsx(Yt,{to:`/ProjectGymReact/product/detail/${s.id}`,state:s,children:D.jsx("div",{className:"div_details",children:D.jsx("p",{className:"p_details",children:"Ver detalle"})})})})]},s.id))})}),D.jsx("div",{})]})},VC=({userName:r,userLastname:e,filter:t})=>D.jsxs("section",{className:"div_principal_contenido view_default",children:[D.jsx("h1",{children:"¡BIENVENIDO A REAL MAN!"}),D.jsx(NC,{filter:t,className:"items_list"})]}),DC=({quantity:r,setQuantity:e})=>{const t=()=>e(r+1),s=()=>e(r>1?r-1:1);return D.jsxs("div",{className:"div_detail_container_quantity",children:[D.jsx("button",{className:"btn_detail_decrement",onClick:s,children:"-"}),D.jsx("p",{className:"p_text_quantity",children:D.jsx("span",{children:r})}),D.jsx("button",{className:"btn_detail_increment",onClick:t,children:"+"})]})},LC=({product:r})=>{const[e,t]=H.useState(1),{getCartShopping:s}=H.useContext(Mu),o=()=>{s(r,e)};return D.jsx("section",{className:"section_detail_product view_default",children:D.jsxs("div",{className:"div_container_detail",children:[D.jsx("div",{className:"div_img_container",children:D.jsx("div",{children:D.jsx("img",{src:r.img,alt:r.desc})})}),D.jsxs("div",{className:"div_detail_container_data",children:[D.jsx("div",{children:D.jsx("h2",{children:r.name})}),D.jsx("div",{className:"div_detail_desc",children:D.jsxs("p",{children:["Lorem ipsum dolor sit amet consectetur adipisicing elit. Eum minima et natus molestiae, ",D.jsx("br",{}),"saepe nobis esse, aspernatur sapiente similique quidem laboriosam maxime, tenetur ",D.jsx("br",{})," suscipit quod illum labore laudantium animi fugit!"]})}),D.jsxs("div",{className:"div_detail_price",children:["$",r.price]}),D.jsx("div",{className:"div_detail_principal_container_quantity",children:D.jsx(DC,{quantity:e,setQuantity:t})}),D.jsx("div",{className:"div_add_to_cart",children:D.jsx("button",{className:"btn_add_to_cart",onClick:o,children:"Agregar al carrito"})})]})]})})},MC=()=>{const e=rr().state;return D.jsx(LC,{product:e})},OC=(r,e,t)=>{const s=[...r],o=s.findIndex(u=>u.id===e.id);return o!==-1?s[o].quantity+=t:(e.quantity=t,s.push({...e})),s},FC=({children:r})=>{const[e,t]=H.useState([]),[s,o]=H.useState(0),u=f=>{o(g=>g+f)},h=(f,g)=>{const v=OC(e,f,g);t(v),u(g)};return D.jsx(Mu.Provider,{value:{cartShopping:e,getCartShopping:h,quantityFinal:s},children:r})},bC=({cantidad:r})=>{const e=r!==void 0?r:1,[t,s]=H.useState(e),o=()=>s(t+1),u=()=>s(t>1?t-1:1);return D.jsxs("div",{className:"div_detail_container_quantity",children:[D.jsx("button",{className:"btn_detail_decrement",onClick:u,children:"-"}),D.jsx("p",{className:"p_text_quantity",children:D.jsx("span",{children:t})}),D.jsx("button",{className:"btn_detail_increment",onClick:o,children:"+"})]})},jC=()=>D.jsx("section",{className:"view_default",children:D.jsx("h2",{children:"Hi"})}),UC=()=>{const{cartShopping:r,quantityFinal:e}=H.useContext(Mu),{session:t}=H.useContext(Ou);function s(){let u=0;return[...r].forEach(f=>{u+=f.price*f.quantity}),u}const o=s();return D.jsx("section",{className:"view_default",children:r.length===0?D.jsx("div",{children:D.jsx("h2",{children:"Hello world, there is nothing in your cart. Please add something to continue."})}):D.jsxs("div",{children:[D.jsx("div",{className:"div_title_cart_summary",children:D.jsx("h3",{children:"Tus productos"})}),D.jsxs("div",{className:"div_principal_cart_summary",children:[D.jsx("div",{className:"div_cart_summary_items",children:D.jsx("ul",{children:r.map((u,h)=>D.jsx("li",{className:"li_cart_summary",children:D.jsxs("div",{className:"div_principal_li_cart_summary",children:[D.jsx("div",{className:"div_cart_summary_img",children:D.jsx("img",{src:u.img,alt:u.desc})}),D.jsxs("div",{children:[D.jsxs("div",{children:[D.jsx("h4",{children:u.name}),D.jsx("h4",{children:u.desc})]}),D.jsx("div",{children:D.jsxs("h4",{children:["$",u.price,".00"]})})]}),D.jsxs("div",{className:"div_cart_summary_quantity_control",children:[D.jsx(bC,{cantidad:u.quantity}),D.jsx("div",{className:"div_cart_summary_btn_eliminar",children:D.jsx("button",{onClick:console.log("Eliminando"),children:"Eliminar"})})]})]})},h))})}),D.jsxs("div",{className:"div_cart_summary_checkout",children:[D.jsx("div",{children:D.jsxs("h3",{children:["Total: $",o,".00"]})}),D.jsx("div",{children:D.jsx("h3",{children:"Envío: $0.00"})}),D.jsx("div",{children:D.jsxs("h3",{children:["Cantidad: ",e]})}),D.jsx("div",{children:D.jsx("h3",{children:"Dirección: "})}),D.jsx("div",{className:"div_btn_buy",children:t?D.jsx(Yt,{className:"btn_buy",to:"/ProjectGymReact/CartSummary/CartCheckout",children:"Comprar"}):D.jsx(Yt,{className:"btn_buy",to:"/ProjectGymReact/Login",children:"Comprar"})})]})]})]})})},zC=r=>{const[e,t]=H.useState(""),[s,o]=H.useState(""),{login:u}=H.useContext(Ou),h=ly();rr();const f=async g=>{if(g.preventDefault(),!await u(e,s))alert("Usuario o contraseña incorrectos");else{const w=localStorage.getItem("preLocation");h(w!==null?w:"/ProjectGymReact/",{replace:!0})}};return D.jsx("section",{children:D.jsxs("form",{onSubmit:f,children:[D.jsxs("div",{children:[D.jsx("label",{htmlFor:"email",children:"Email:"}),D.jsx("input",{type:"email",id:"email",name:"email",value:e,onChange:g=>t(g.target.value),required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{htmlFor:"password",children:"Contraseña:"}),D.jsx("input",{type:"password",id:"password",name:"password",value:s,onChange:g=>o(g.target.value),required:!0})]}),D.jsx("button",{type:"submit",children:"Iniciar sesión"}),D.jsxs("div",{children:[D.jsxs("p",{children:["¿No tienes una cuenta? ",D.jsx(Yt,{to:"/ProjectGymReact/Register",children:"Regístrate aquí"})]}),D.jsx("button",{type:"button",children:"Recuperar contraseña"})]})]})})},BC=()=>{const[r,e]=H.useState({name:"",last_name:"",email:"",password:"",addressToRef:""}),[t,s]=H.useState({street:"",colonia:""}),o=f=>{const{name:g,value:v}=f.target;e({...r,[g]:v})},u=f=>{const{name:g,value:v}=f.target;s({...t,[g]:v})},h=f=>{f.preventDefault();const g={...r,addressToRef:{...t}};RC(g)};return D.jsx("section",{children:D.jsxs("form",{action:"/ProjectGymReact",onSubmit:h,children:[D.jsxs("div",{children:[D.jsx("label",{htmlFor:"nombres",children:"Nombre(s):"}),D.jsx("input",{type:"text",id:"nombres",name:"name",value:r.name,onChange:o,required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{htmlFor:"apellidos",children:"Apellidos:"}),D.jsx("input",{type:"text",id:"apellidos",name:"last_name",value:r.last_name,onChange:o,required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{htmlFor:"email",children:"Email:"}),D.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:o,required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{htmlFor:"password",children:"Contraseña:"}),D.jsx("input",{type:"password",id:"password",name:"password",value:r.password,onChange:o,required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{htmlFor:"calle",children:"Calle:"}),D.jsx("input",{type:"text",id:"calle",name:"street",value:t.street,onChange:u,required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{htmlFor:"colonia",children:"Colonia:"}),D.jsx("input",{type:"text",id:"colonia",name:"colonia",value:t.colonia,onChange:u,required:!0})]}),D.jsx("button",{type:"submit",children:"Registrar"})]})})},$C=({children:r})=>{const[e,t]=H.useState(!1),s=async(u,h)=>{let f=!1;return await PC(u,h)!=null&&(t(!0),f=!0),f},o=()=>{t(!1)};return D.jsx(Ou.Provider,{value:{session:e,login:s,logout:o},children:r})};function qC(){const r={name:"",lastname:""},[e,t]=H.useState("");return D.jsx(Gw,{children:D.jsx($C,{children:D.jsxs(FC,{children:[D.jsx(kC,{onFilterChange:t}),D.jsxs(Sw,{children:[D.jsx(qi,{path:"/ProjectGymReact/",element:D.jsx(VC,{userName:r.name,userLastname:r.lastname,filter:e})}),D.jsx(qi,{path:"/ProjectGymReact/product/detail/:id/",element:D.jsx(MC,{})}),D.jsx(qi,{path:"/ProjectGymReact/CartSummary",element:D.jsx(UC,{})}),D.jsx(qi,{path:"/ProjectGymReact/CartSummary/CartCheckout",element:D.jsx(jC,{})}),D.jsx(qi,{path:"/ProjectGymReact/Login",element:D.jsx(zC,{})}),D.jsx(qi,{path:"/ProjectGymReact/Register",element:D.jsx(BC,{})})]}),D.jsx(xC,{})]})})})}L0.createRoot(document.getElementById("root")).render(D.jsx(H.StrictMode,{children:D.jsx(qC,{})}));
